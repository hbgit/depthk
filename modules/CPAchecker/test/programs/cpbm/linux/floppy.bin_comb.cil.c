/* Generated by CIL v. 1.3.7 */
/* print_CIL_Input is true */

#line 5 "./include/asm/posix_types.h"
typedef unsigned short __kernel_mode_t;
#line 8 "./include/asm/posix_types.h"
typedef int __kernel_pid_t;
#line 12 "./include/asm/posix_types.h"
typedef unsigned int __kernel_size_t;
#line 13 "./include/asm/posix_types.h"
typedef int __kernel_ssize_t;
#line 4 "./include/asm/types.h"
typedef unsigned short umode_t;
#line 13 "./include/asm/types.h"
typedef unsigned int __u32;
#line 27 "./include/asm/types.h"
typedef unsigned int u32;
#line 30 "./include/asm/types.h"
typedef unsigned long long u64;
#line 9 "./include/linux/types.h"
typedef __u32 __kernel_dev_t;
#line 11 "./include/linux/types.h"
typedef __kernel_dev_t dev_t;
#line 13 "./include/linux/types.h"
typedef __kernel_mode_t mode_t;
#line 16 "./include/linux/types.h"
typedef __kernel_pid_t pid_t;
#line 42 "./include/linux/types.h"
typedef long long loff_t;
#line 51 "./include/linux/types.h"
typedef __kernel_size_t size_t;
#line 56 "./include/linux/types.h"
typedef __kernel_ssize_t ssize_t;
#line 112 "./include/linux/types.h"
typedef unsigned long sector_t;
#line 155 "./include/linux/types.h"
typedef unsigned int gfp_t;
#line 10 "./include/asm/signal.h"
struct __anonstruct_sigset_t_2 {
   unsigned long sig[2] ;
};
#line 10 "./include/asm/signal.h"
typedef struct __anonstruct_sigset_t_2 sigset_t;
#line 9 "./include/linux/list.h"
struct list_head {
   struct list_head *next ;
   struct list_head *prev ;
};
#line 12 "./include/linux/spinlock_types.h"
struct __anonstruct_spinlock_t_3 {
   int init ;
   int locked ;
};
#line 12 "./include/linux/spinlock_types.h"
typedef struct __anonstruct_spinlock_t_3 spinlock_t;
#line 7 "./include/asm/current.h"
struct task_struct;
#line 7
struct task_struct;
#line 12 "./include/linux/wait.h"
struct __wait_queue;
#line 12
struct __wait_queue;
#line 12 "./include/linux/wait.h"
typedef struct __wait_queue wait_queue_t;
#line 13 "./include/linux/wait.h"
struct __wait_queue {
   int something ;
};
#line 17 "./include/linux/wait.h"
struct __wait_queue_head {
   int number_process_waiting ;
   int wakeup ;
   int init ;
};
#line 22 "./include/linux/wait.h"
typedef struct __wait_queue_head wait_queue_head_t;
#line 25 "cprover/ddverify/include/ddverify/pthread.h"
struct __pthread_mutex_t_struct {
   _Bool locked ;
};
#line 30 "cprover/ddverify/include/ddverify/pthread.h"
struct __pthread_mutexattr_t_struct {
   int dummy ;
};
#line 52 "cprover/ddverify/include/ddverify/pthread.h"
typedef struct __pthread_mutex_t_struct pthread_mutex_t;
#line 53 "cprover/ddverify/include/ddverify/pthread.h"
typedef struct __pthread_mutexattr_t_struct pthread_mutexattr_t;
#line 6 "./include/asm/atomic.h"
typedef int atomic_t;
#line 67 "./include/linux/gfp.h"
struct page;
#line 67
struct page;
#line 4 "./include/linux/timer.h"
struct timer_list {
   unsigned long expires ;
   void (*function)(unsigned long  ) ;
   unsigned long data ;
   short __ddv_active ;
   short __ddv_init ;
};
#line 49 "./include/linux/sched.h"
struct sighand_struct {
   spinlock_t siglock ;
};
#line 53 "./include/linux/sched.h"
struct task_struct {
   long volatile   state ;
   pid_t pid ;
   char comm[16] ;
   struct sighand_struct *sighand ;
   sigset_t blocked ;
   sigset_t real_blocked ;
};
#line 21 "./include/linux/module.h"
struct module;
#line 21
struct module;
#line 4 "./include/linux/dcache.h"
struct inode;
#line 4
struct inode;
#line 4 "./include/linux/dcache.h"
struct dentry {
   struct inode *d_inode ;
};
#line 265 "./include/linux/fs.h"
struct file;
#line 265
struct file;
#line 267
struct hd_geometry;
#line 267
struct hd_geometry;
#line 269
struct poll_table_struct;
#line 269
struct poll_table_struct;
#line 270
struct vm_area_struct;
#line 270
struct vm_area_struct;
#line 328 "./include/linux/fs.h"
struct address_space_operations {
   int (*prepare_write)(struct file * , struct page * , unsigned int  , unsigned int  ) ;
   int (*commit_write)(struct file * , struct page * , unsigned int  , unsigned int  ) ;
};
#line 338 "./include/linux/fs.h"
struct address_space {
   struct inode *host ;
   struct address_space_operations  const  *a_ops ;
} __attribute__((__aligned__(sizeof(long )))) ;
#line 343
struct gendisk;
#line 343
struct gendisk;
#line 343 "./include/linux/fs.h"
struct block_device {
   struct inode *bd_inode ;
   struct block_device *bd_contains ;
   unsigned int bd_block_size ;
   struct gendisk *bd_disk ;
};
#line 352
struct cdev;
#line 352
struct cdev;
#line 352 "./include/linux/fs.h"
union __anonunion____missing_field_name_14 {
   struct block_device *i_bdev ;
   struct cdev *i_cdev ;
};
#line 352 "./include/linux/fs.h"
struct inode {
   umode_t i_mode ;
   dev_t i_rdev ;
   loff_t i_size ;
   union __anonunion____missing_field_name_14 __annonCompField1 ;
};
#line 386
struct file_operations;
#line 386
struct file_operations;
#line 386 "./include/linux/fs.h"
struct file {
   struct dentry *f_dentry ;
   struct file_operations  const  *f_op ;
   atomic_t f_count ;
   unsigned int f_flags ;
   mode_t f_mode ;
   loff_t f_pos ;
   void *private_data ;
   struct address_space *f_mapping ;
};
#line 406
struct files_struct;
#line 406
struct files_struct;
#line 406 "./include/linux/fs.h"
typedef struct files_struct *fl_owner_t;
#line 409 "./include/linux/fs.h"
struct file_lock {
   int something ;
};
#line 435 "./include/linux/fs.h"
struct block_device_operations {
   int (*open)(struct inode * , struct file * ) ;
   int (*release)(struct inode * , struct file * ) ;
   int (*ioctl)(struct inode * , struct file * , unsigned int  , unsigned long  ) ;
   long (*unlocked_ioctl)(struct file * , unsigned int  , unsigned long  ) ;
   long (*compat_ioctl)(struct file * , unsigned int  , unsigned long  ) ;
   int (*direct_access)(struct block_device * , sector_t  , unsigned long * ) ;
   int (*media_changed)(struct gendisk * ) ;
   int (*revalidate_disk)(struct gendisk * ) ;
   int (*getgeo)(struct block_device * , struct hd_geometry * ) ;
   struct module *owner ;
};
#line 457 "./include/linux/fs.h"
struct __anonstruct_read_descriptor_t_15 {
   size_t written ;
   size_t count ;
};
#line 457 "./include/linux/fs.h"
typedef struct __anonstruct_read_descriptor_t_15 read_descriptor_t;
#line 475 "./include/linux/fs.h"
struct file_operations {
   struct module *owner ;
   loff_t (*llseek)(struct file * , loff_t  , int  ) ;
   ssize_t (*read)(struct file * , char * , size_t  , loff_t * ) ;
   ssize_t (*write)(struct file * , char const   * , size_t  , loff_t * ) ;
   int (*readdir)(struct file * , void * , int (*)(void * , char const   * , int  ,
                                                   loff_t  , u64  , unsigned int  ) ) ;
   unsigned int (*poll)(struct file * , struct poll_table_struct * ) ;
   int (*ioctl)(struct inode * , struct file * , unsigned int  , unsigned long  ) ;
   long (*unlocked_ioctl)(struct file * , unsigned int  , unsigned long  ) ;
   long (*compat_ioctl)(struct file * , unsigned int  , unsigned long  ) ;
   int (*mmap)(struct file * , struct vm_area_struct * ) ;
   int (*open)(struct inode * , struct file * ) ;
   int (*flush)(struct file * , fl_owner_t id ) ;
   int (*release)(struct inode * , struct file * ) ;
   int (*fsync)(struct file * , struct dentry * , int datasync ) ;
   int (*fasync)(int  , struct file * , int  ) ;
   int (*lock)(struct file * , int  , struct file_lock * ) ;
   ssize_t (*sendfile)(struct file * , loff_t * , size_t  , int (*)(read_descriptor_t * ,
                                                                    struct page * ,
                                                                    unsigned long  ,
                                                                    unsigned long  ) ,
                       void * ) ;
   ssize_t (*sendpage)(struct file * , struct page * , int  , size_t  , loff_t * ,
                       int  ) ;
   unsigned long (*get_unmapped_area)(struct file * , unsigned long  , unsigned long  ,
                                      unsigned long  , unsigned long  ) ;
   int (*check_flags)(int  ) ;
   int (*dir_notify)(struct file *filp , unsigned long arg ) ;
   int (*flock)(struct file * , int  , struct file_lock * ) ;
};
#line 11 "./include/linux/workqueue.h"
struct work_struct {
   unsigned long pending ;
   void (*func)(void * ) ;
   void *data ;
   int init ;
};
#line 12 "./include/linux/fd.h"
struct floppy_struct {
   unsigned int size ;
   unsigned int sect ;
   unsigned int head ;
   unsigned int track ;
   unsigned int stretch ;
   unsigned char gap ;
   unsigned char rate ;
   unsigned char spec1 ;
   unsigned char fmt_gap ;
   char const   *name ;
};
#line 65 "./include/linux/fd.h"
struct format_descr {
   unsigned int device ;
   unsigned int head ;
   unsigned int track ;
};
#line 80 "./include/linux/fd.h"
struct floppy_max_errors {
   unsigned int abort ;
   unsigned int read_track ;
   unsigned int reset ;
   unsigned int recal ;
   unsigned int reporting ;
};
#line 111 "./include/linux/fd.h"
typedef char floppy_drive_name[16];
#line 119 "./include/linux/fd.h"
struct floppy_drive_params {
   signed char cmos ;
   unsigned long max_dtr ;
   unsigned long hlt ;
   unsigned long hut ;
   unsigned long srt ;
   unsigned long spinup ;
   unsigned long spindown ;
   unsigned char spindown_offset ;
   unsigned char select_delay ;
   unsigned char rps ;
   unsigned char tracks ;
   unsigned long timeout ;
   unsigned char interleave_sect ;
   struct floppy_max_errors max_errors ;
   char flags ;
   char read_track ;
   short autodetect[8] ;
   int checkfreq ;
   int native_format ;
};
#line 192 "./include/linux/fd.h"
struct floppy_drive_struct {
   unsigned long flags ;
   unsigned long spinup_date ;
   unsigned long select_date ;
   unsigned long first_read_date ;
   short probed_format ;
   short track ;
   short maxblock ;
   short maxtrack ;
   int generation ;
   int keep_data ;
   int fd_ref ;
   int fd_device ;
   unsigned long last_checked ;
   char *dmabuf ;
   int bufblocks ;
};
#line 246 "./include/linux/fd.h"
struct floppy_fdc_state {
   int spec1 ;
   int spec2 ;
   int dtr ;
   unsigned char version ;
   unsigned char dor ;
   unsigned long address ;
   unsigned int rawcmd : 2 ;
   unsigned int reset : 1 ;
   unsigned int need_configure : 1 ;
   unsigned int perp_mode : 2 ;
   unsigned int has_fifo : 1 ;
   unsigned int driver_version ;
   unsigned char track[4] ;
};
#line 284 "./include/linux/fd.h"
struct floppy_write_errors {
   unsigned int write_errors ;
   unsigned long first_error_sector ;
   int first_error_generation ;
   unsigned long last_error_sector ;
   int last_error_generation ;
   unsigned int badness ;
};
#line 318 "./include/linux/fd.h"
struct floppy_raw_cmd {
   unsigned int flags ;
   void *data ;
   char *kernel_data ;
   struct floppy_raw_cmd *next ;
   long length ;
   long phys_length ;
   int buffer_length ;
   unsigned char rate ;
   unsigned char cmd_count ;
   unsigned char cmd[16] ;
   unsigned char reply_count ;
   unsigned char reply[16] ;
   int track ;
   int resultcode ;
   int reserved1 ;
   int reserved2 ;
};
#line 4 "./include/linux/hdreg.h"
struct hd_geometry {
   unsigned char heads ;
   unsigned char sectors ;
   unsigned short cylinders ;
   unsigned long start ;
};
#line 49 "./include/linux/mutex.h"
struct mutex {
   int locked ;
   int init ;
};
#line 9 "./include/linux/mm_types.h"
struct page {
   int something ;
};
#line 28 "./include/linux/interrupt.h"
typedef int irqreturn_t;
#line 6 "./include/linux/bio.h"
struct bio_vec {
   struct page *bv_page ;
   unsigned int bv_len ;
   unsigned int bv_offset ;
};
#line 13
struct bio;
#line 13
struct bio;
#line 14 "./include/linux/bio.h"
typedef int bio_end_io_t(struct bio * , unsigned int  , int  );
#line 17 "./include/linux/bio.h"
struct bio {
   sector_t bi_sector ;
   struct bio *bi_next ;
   struct block_device *bi_bdev ;
   unsigned long bi_flags ;
   unsigned long bi_rw ;
   unsigned short bi_vcnt ;
   unsigned short bi_idx ;
   unsigned short bi_phys_segments ;
   unsigned int bi_size ;
   struct bio_vec *bi_io_vec ;
   bio_end_io_t *bi_end_io ;
   void *bi_private ;
};
#line 18 "./include/linux/ioport.h"
struct resource {
   char const   *name ;
   unsigned long start ;
   unsigned long end ;
   unsigned long flags ;
};
#line 16 "./include/linux/sysfs.h"
struct kobject;
#line 16
struct kobject;
#line 19 "./include/linux/sysfs.h"
struct attribute {
   char const   *name ;
   struct module *owner ;
   mode_t mode ;
};
#line 30 "./include/linux/kobject.h"
struct kobject {
   int something ;
};
#line 25 "./include/linux/device.h"
struct device {
   void *driver_data ;
   void (*release)(struct device *dev ) ;
};
#line 68 "./include/linux/device.h"
struct device_attribute {
   struct attribute attr ;
   ssize_t (*show)(struct device *dev , struct device_attribute *attr , char *buf ) ;
   ssize_t (*store)(struct device *dev , struct device_attribute *attr , char const   *buf ,
                    size_t count ) ;
};
#line 5 "./include/linux/cdev.h"
struct cdev {
   struct module *owner ;
   struct file_operations  const  *ops ;
   dev_t dev ;
   unsigned int count ;
};
#line 13 "./include/linux/poll.h"
struct poll_table_struct {
   int something ;
};
#line 16 "./include/linux/platform_device.h"
struct platform_device {
   char const   *name ;
   u32 id ;
   struct device dev ;
   u32 num_resources ;
   struct resource *resource ;
};
#line 221 "drivers/block/floppy.c"
struct completion;
#line 221
struct completion;
#line 30 "./include/linux/genhd.h"
struct disk_stats {
   unsigned long sectors[2] ;
   unsigned long ios[2] ;
   unsigned long merges[2] ;
   unsigned long ticks[2] ;
   unsigned long io_ticks ;
   unsigned long time_in_queue ;
};
#line 39
struct request_queue;
#line 39
struct request_queue;
#line 39 "./include/linux/genhd.h"
struct gendisk {
   int major ;
   int first_minor ;
   int minors ;
   char disk_name[32] ;
   struct block_device_operations *fops ;
   struct request_queue *queue ;
   void *private_data ;
   sector_t capacity ;
   int flags ;
   struct device *driverfs_dev ;
   char devfs_name[64] ;
   struct disk_stats dkstats ;
};
#line 11 "./include/linux/backing-dev.h"
struct backing_dev_info {
   unsigned long ra_pages ;
   unsigned long state ;
   unsigned int capabilities ;
};
#line 24 "./include/linux/blkdev.h"
typedef struct request_queue request_queue_t;
#line 30
enum rq_cmd_type_bits {
    REQ_TYPE_FS = 1,
    REQ_TYPE_BLOCK_PC = 2,
    REQ_TYPE_SENSE = 3,
    REQ_TYPE_PM_SUSPEND = 4,
    REQ_TYPE_PM_RESUME = 5,
    REQ_TYPE_PM_SHUTDOWN = 6,
    REQ_TYPE_FLUSH = 7,
    REQ_TYPE_SPECIAL = 8,
    REQ_TYPE_LINUX_BLOCK = 9,
    REQ_TYPE_ATA_CMD = 10,
    REQ_TYPE_ATA_TASK = 11,
    REQ_TYPE_ATA_TASKFILE = 12,
    REQ_TYPE_ATA_PC = 13
} ;
#line 101 "./include/linux/blkdev.h"
struct request {
   struct list_head queuelist ;
   struct list_head donelist ;
   request_queue_t *q ;
   unsigned int cmd_flags ;
   enum rq_cmd_type_bits cmd_type ;
   sector_t sector ;
   unsigned long nr_sectors ;
   unsigned int current_nr_sectors ;
   struct bio *bio ;
   void *completion_data ;
   struct gendisk *rq_disk ;
   unsigned short nr_phys_segments ;
   char *buffer ;
   int errors ;
   unsigned char cmd[16] ;
   void *end_io_data ;
};
#line 141 "./include/linux/blkdev.h"
typedef void request_fn_proc(request_queue_t *q );
#line 142 "./include/linux/blkdev.h"
typedef int make_request_fn(request_queue_t *q , struct bio *bio );
#line 143 "./include/linux/blkdev.h"
typedef void unplug_fn(request_queue_t * );
#line 145 "./include/linux/blkdev.h"
struct request_queue {
   request_fn_proc *request_fn ;
   make_request_fn *make_request_fn ;
   unplug_fn *unplug_fn ;
   struct backing_dev_info backing_dev_info ;
   void *queuedata ;
   unsigned long queue_flags ;
   spinlock_t *queue_lock ;
   unsigned short hardsect_size ;
   int __ddv_genhd_no ;
   int __ddv_queue_alive ;
};
#line 13 "./include/linux/completion.h"
struct completion {
   unsigned int done ;
   wait_queue_head_t wait ;
};
#line 365 "drivers/block/floppy.c"
struct __anonstruct_default_drive_params_25 {
   struct floppy_drive_params params ;
   char const   *name ;
};
#line 543 "drivers/block/floppy.c"
struct cont_t {
   void (*interrupt)(void) ;
   void (*redo)(void) ;
   void (*error)(void) ;
   void (*done)(int  ) ;
};
#line 656 "drivers/block/floppy.c"
struct output_log {
   unsigned char data ;
   unsigned char status ;
   unsigned long jiffies ;
};
#line 2172 "drivers/block/floppy.c"
struct fparm {
   unsigned char track ;
   unsigned char head ;
   unsigned char sect ;
   unsigned char size ;
};
#line 3464 "drivers/block/floppy.c"
union inparam {
   struct floppy_struct g ;
   struct format_descr f ;
   struct floppy_max_errors max_errors ;
   struct floppy_drive_params dp ;
};
#line 4065 "drivers/block/floppy.c"
struct param_table {
   char const   *name ;
   void (*fn)(int *ints , int param , int param2 ) ;
   int *var ;
   int def_param ;
   int param2 ;
};
#line 15 "cprover/ddverify/include/ddverify/pthread.h"
struct __pthread_t_struct {
   int id ;
};
#line 20 "cprover/ddverify/include/ddverify/pthread.h"
struct __pthread_attr_t_struct {
   int dummy ;
};
#line 50 "cprover/ddverify/include/ddverify/pthread.h"
typedef struct __pthread_t_struct pthread_t;
#line 51 "cprover/ddverify/include/ddverify/pthread.h"
typedef struct __pthread_attr_t_struct pthread_attr_t;
#line 17 "cprover/ddverify/include/ddverify/cdev.h"
struct ddv_cdev {
   struct cdev *cdevp ;
   struct file filp ;
   struct inode inode ;
   int open ;
};
#line 144 "./include/linux/pm.h"
struct pm_message {
   int event ;
};
#line 144 "./include/linux/pm.h"
typedef struct pm_message pm_message_t;
#line 4 "./include/asm/ptrace.h"
struct pt_regs {
   int something ;
};
#line 34 "./include/linux/interrupt.h"
struct tasklet_struct {
   atomic_t count ;
   void (*func)(unsigned long  ) ;
   unsigned long data ;
   int init ;
};
#line 15 "cprover/ddverify/include/ddverify/genhd.h"
struct ddv_genhd {
   struct gendisk *gd ;
   struct inode inode ;
   struct file file ;
   struct request current_request ;
   int requests_open ;
};
#line 6 "./include/linux/mod_devicetable.h"
typedef unsigned long kernel_ulong_t;
#line 10 "./include/linux/mod_devicetable.h"
struct pci_device_id {
   __u32 vendor ;
   __u32 device ;
   __u32 subvendor ;
   __u32 subdevice ;
   __u32 class ;
   __u32 class_mask ;
   kernel_ulong_t driver_data ;
};
#line 79 "./include/linux/pci.h"
typedef int pci_power_t;
#line 122
struct pci_bus;
#line 122
struct pci_bus;
#line 122 "./include/linux/pci.h"
struct pci_dev {
   struct pci_bus *bus ;
   unsigned int devfn ;
   unsigned short vendor ;
   unsigned short device ;
   unsigned short subsystem_vendor ;
   unsigned short subsystem_device ;
   u64 dma_mask ;
   struct device dev ;
   unsigned int irq ;
   struct resource resource[12] ;
};
#line 249 "./include/linux/pci.h"
struct pci_bus {
   unsigned char number ;
};
#line 375 "./include/linux/pci.h"
struct pci_driver {
   char *name ;
   struct pci_device_id  const  *id_table ;
   int (*probe)(struct pci_dev *dev , struct pci_device_id  const  *id ) ;
   void (*remove)(struct pci_dev *dev ) ;
   int (*suspend)(struct pci_dev *dev , pm_message_t state ) ;
   int (*resume)(struct pci_dev *dev ) ;
   int (*enable_wake)(struct pci_dev *dev , pci_power_t state , int enable ) ;
   void (*shutdown)(struct pci_dev *dev ) ;
};
#line 6 "cprover/ddverify/include/ddverify/pci.h"
struct ddv_pci_driver {
   struct pci_driver *pci_driver ;
   struct pci_dev pci_dev ;
   unsigned int no_pci_device_id ;
   int dev_initialized ;
};
#line 9 "cprover/ddverify/include/ddverify/interrupt.h"
struct registered_irq {
   irqreturn_t (*handler)(int  , void * , struct pt_regs * ) ;
   void *dev_id ;
};
#line 14 "cprover/ddverify/include/ddverify/tasklet.h"
struct ddv_tasklet {
   struct tasklet_struct *tasklet ;
   unsigned short is_running ;
};
#line 14 "cprover/ddverify/include/ddverify/timer.h"
struct ddv_timer {
   struct timer_list *timer ;
};
#line 4 "./include/asm/semaphore.h"
struct semaphore {
   int init ;
   int locked ;
};
#line 1 "preproc_sTB6v5.o"
#pragma merger(0,"preproc_sTB6v5.i","-x,c")
#line 11 "cprover/ddverify/include/ddverify/ddverify.h"
int current_execution_context  ;
#line 22
extern int __CPROVER_assert() ;
#line 42 "cprover/ddverify/include/ddverify/ddverify.h"
int (*_ddv_module_init)(void)  ;
#line 43 "cprover/ddverify/include/ddverify/ddverify.h"
void (*_ddv_module_exit)(void)  ;
#line 45
int call_ddv(void) ;
#line 155 "drivers/block/floppy.c"
static int print_unex  =    1;
#line 242 "./include/linux/capability.h"
extern int capable(int cap ) ;
#line 7 "./include/linux/jiffies.h"
unsigned long jiffies  ;
#line 56 "./include/linux/spinlock.h"
void spin_lock_irqsave(spinlock_t *lock , unsigned long flags ) ;
#line 57
void spin_lock_irq(spinlock_t *lock ) ;
#line 61
void spin_unlock_irqrestore(spinlock_t *lock , unsigned long flags ) ;
#line 62
void spin_unlock_irq(spinlock_t *lock ) ;
#line 4 "./include/asm/bitops.h"
extern void set_bit(int nr , unsigned long *addr ) ;
#line 6
extern int test_and_set_bit(int nr , unsigned long *addr ) ;
#line 9
extern int test_bit(int nr , void const   *addr ) ;
#line 10
extern void clear_bit(int nr , unsigned long volatile   *addr ) ;
#line 4 "./include/asm/string.h"
extern void *memset(void *s , int c , unsigned int n ) ;
#line 42 "./include/linux/string.h"
extern int strcmp(char const   * , char const   * ) ;
#line 64
extern __kernel_size_t strlen(char const   * ) ;
#line 86
extern void *memcpy(void * , void const   * , __kernel_size_t  ) ;
#line 9 "./include/asm/current.h"
extern struct task_struct *get_current(void) ;
#line 50 "./include/linux/wait.h"
extern void add_wait_queue(wait_queue_head_t *q , wait_queue_t *wait ) ;
#line 52
extern void remove_wait_queue(wait_queue_head_t *q , wait_queue_t *wait ) ;
#line 55
void wake_up(wait_queue_head_t *q ) ;
#line 192 "cprover/ddverify/include/ddverify/pthread.h"
__inline extern int pthread_mutex_init(pthread_mutex_t *__mutex , pthread_mutexattr_t const   *__mutex_attr ) 
{ pthread_mutex_t i ;
  _Bool i_locked4 ;

  {
#line 196
  i_locked4 = (_Bool)0;
#line 197
  __mutex->locked = i_locked4;
#line 198
  return (0);
}
}
#line 200 "cprover/ddverify/include/ddverify/pthread.h"
__inline extern int pthread_mutex_destroy(pthread_mutex_t *__mutex ) 
{ 

  {
#line 202
  return (0);
}
}
#line 206
extern void __CPROVER_atomic_begin() ;
#line 207
extern void __CPROVER_atomic_end() ;
#line 213
extern int __CPROVER_assume() ;
#line 209 "cprover/ddverify/include/ddverify/pthread.h"
__inline extern int pthread_mutex_lock(pthread_mutex_t *__mutex ) 
{ _Bool __cil_tmp2 ;
  int __cil_tmp3 ;

  {
  {
#line 212
  __CPROVER_atomic_begin();
#line 213
  __cil_tmp2 = *((_Bool *)__mutex);
#line 213
  __cil_tmp3 = ! __cil_tmp2;
#line 213
  __CPROVER_assume(__cil_tmp3);
#line 214
  *((_Bool *)__mutex) = (_Bool)1;
#line 215
  __CPROVER_atomic_end();
  }
#line 216
  return (0);
}
}
#line 219 "cprover/ddverify/include/ddverify/pthread.h"
__inline extern int pthread_mutex_unlock(pthread_mutex_t *__mutex ) 
{ _Bool __cil_tmp2 ;
  int __cil_tmp3 ;

  {
  {
#line 222
  __cil_tmp2 = *((_Bool *)__mutex);
#line 222
  __cil_tmp3 = (int )__cil_tmp2;
#line 222
  __CPROVER_assert(__cil_tmp3, "pthread_mutex_unlock without lock");
#line 223
  *((_Bool *)__mutex) = (_Bool)0;
  }
#line 224
  return (0);
}
}
#line 62 "./include/linux/gfp.h"
extern void free_pages(unsigned long addr , unsigned int order ) ;
#line 72
struct page *alloc_page(gfp_t gfp_mask ) ;
#line 27 "./include/linux/slab.h"
void *kmalloc(size_t size , gfp_t flags ) ;
#line 31
extern void kfree(void const   *m ) ;
#line 26 "./include/linux/timer.h"
void init_timer(struct timer_list *timer ) ;
#line 27
void add_timer(struct timer_list *timer ) ;
#line 29
int del_timer(struct timer_list *timer ) ;
#line 39 "./include/linux/sched.h"
extern void set_current_state(int  ) ;
#line 48
void schedule(void) ;
#line 78
extern int signal_pending(struct task_struct *p ) ;
#line 34 "./include/linux/kernel.h"
extern int printk(char const   *fmt  , ...) ;
#line 35
extern int sprintf(char *buf , char const   *fmt  , ...) ;
#line 41
extern char *get_options(char const   *str , int nints , int *ints ) ;
#line 28 "./include/linux/module.h"
extern struct module __this_module ;
#line 51 "./include/asm-generic/ioctl.h"
extern unsigned int __invalid_size_argument_for_IOC ;
#line 375 "./include/linux/fs.h"
__inline static unsigned int iminor(struct inode *inode ) 
{ unsigned int __cil_tmp2 ;
  unsigned int __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  dev_t __cil_tmp6 ;

  {
  {
#line 377
  __cil_tmp2 = 1U << 20;
#line 377
  __cil_tmp3 = __cil_tmp2 - 1U;
#line 377
  __cil_tmp4 = (unsigned long )inode;
#line 377
  __cil_tmp5 = __cil_tmp4 + 4;
#line 377
  __cil_tmp6 = *((dev_t *)__cil_tmp5);
#line 377
  return (__cil_tmp6 & __cil_tmp3);
  }
}
}
#line 503
int register_blkdev(unsigned int major , char const   *name ) ;
#line 504
int unregister_blkdev(unsigned int major , char const   *name ) ;
#line 535
extern int check_disk_change(struct block_device * ) ;
#line 47 "./include/linux/workqueue.h"
int schedule_work(struct work_struct *work ) ;
#line 48
extern void flush_scheduled_work(void) ;
#line 63 "./include/linux/mutex.h"
void mutex_lock(struct mutex *lock ) ;
#line 65
void mutex_unlock(struct mutex *lock ) ;
#line 15 "./include/linux/mm.h"
extern void *page_address(struct page *page ) ;
#line 4 "./include/asm/delay.h"
extern void udelay(int  ) ;
#line 18 "./include/linux/delay.h"
extern void msleep(unsigned int msecs ) ;
#line 90 "./include/linux/ioport.h"
struct resource *request_region(unsigned long start , unsigned long len , char const   *name ) ;
#line 92
void release_region(unsigned long start , unsigned long len ) ;
#line 89 "./include/asm/thread_info.h"
unsigned long current_stack_pointer  ;
#line 71 "./include/asm/uaccess.h"
unsigned long copy_to_user(void *to , void const   *from , unsigned long n ) ;
#line 73
unsigned long copy_from_user(void *to , void *from , unsigned long n ) ;
#line 29 "./include/asm/mc146818rtc.h"
extern unsigned char rtc_cmos_read(unsigned char addr ) ;
#line 189 "drivers/block/floppy.c"
static int slow_floppy  ;
#line 197 "drivers/block/floppy.c"
static int FLOPPY_IRQ  =    6;
#line 198 "drivers/block/floppy.c"
static int FLOPPY_DMA  =    2;
#line 199 "drivers/block/floppy.c"
static int can_use_virtual_dma  =    2;
#line 208 "drivers/block/floppy.c"
static int use_virtual_dma  ;
#line 220 "drivers/block/floppy.c"
static spinlock_t floppy_lock  =    {1, 0};
#line 221 "drivers/block/floppy.c"
static struct completion device_release  ;
#line 223 "drivers/block/floppy.c"
static unsigned short virtual_dma_port  =    (unsigned short)1008;
#line 224
irqreturn_t floppy_interrupt(int irq , void *dev_id ) ;
#line 225
static int set_dor(int fdc___0 , char mask , char data ) ;
#line 239 "drivers/block/floppy.c"
static int allowed_drive_mask  =    51;
#line 6 "./include/asm/floppy.h"
static int FDC1  =    1008;
#line 7 "./include/asm/floppy.h"
static int FDC2  =    -1;
#line 243 "drivers/block/floppy.c"
static int irqdma_allocated  ;
#line 145 "./include/linux/genhd.h"
void add_disk(struct gendisk *disk ) ;
#line 147
void del_gendisk(struct gendisk *gp ) ;
#line 151
extern void add_disk_randomness(struct gendisk *disk ) ;
#line 157 "./include/linux/genhd.h"
__inline static void set_capacity(struct gendisk *disk , sector_t size ) 
{ unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;

  {
#line 159
  __cil_tmp3 = (unsigned long )disk;
#line 159
  __cil_tmp4 = __cil_tmp3 + 72;
#line 159
  *((sector_t *)__cil_tmp4) = size;
#line 160
  return;
}
}
#line 167
struct gendisk *alloc_disk(int minors ) ;
#line 169
extern struct kobject *get_disk(struct gendisk *disk ) ;
#line 171
extern void put_disk(struct gendisk *disk ) ;
#line 4 "./include/linux/elevator.h"
extern struct request *elv_next_request(struct request_queue *q ) ;
#line 252 "./include/linux/blkdev.h"
extern int end_that_request_first(struct request * , int  , int  ) ;
#line 256
extern void end_that_request_last(struct request * , int  ) ;
#line 271
extern void blkdev_dequeue_request(struct request *req ) ;
#line 275
request_queue_t *blk_init_queue(request_fn_proc *rfn , spinlock_t *lock ) ;
#line 277
void blk_cleanup_queue(request_queue_t *q ) ;
#line 252 "drivers/block/floppy.c"
static struct request *current_req  ;
#line 253 "drivers/block/floppy.c"
static struct request_queue *floppy_queue  ;
#line 254
static void do_fd_request(request_queue_t *q ) ;
#line 270 "drivers/block/floppy.c"
__inline static void fallback_on_nodma_alloc(char **addr , size_t l ) 
{ 

  {
#line 281
  return;
}
}
#line 287 "drivers/block/floppy.c"
static unsigned long fake_change  ;
#line 288 "drivers/block/floppy.c"
static int initialising  =    1;
#line 349 "drivers/block/floppy.c"
static unsigned char reply_buffer[16]  ;
#line 350 "drivers/block/floppy.c"
static int inr  ;
#line 365 "drivers/block/floppy.c"
static struct __anonstruct_default_drive_params_25 default_drive_params[7]  = {      {{(signed char)0, 500UL, 16UL, 16UL, 8000UL, 100UL, 300UL, (unsigned char)0,
       (unsigned char)2, (unsigned char)5, (unsigned char)80, 300UL, (unsigned char)20,
       {3U, 1U, 2U, 0U, 2U}, (char)0, (char)0, {(short)7, (short)4, (short)8, (short)2,
                                                (short)1, (short)5, (short)3, (short)10},
       150, 0}, "unknown"}, 
        {{(signed char)1, 300UL, 16UL, 16UL, 8000UL, 100UL, 300UL, (unsigned char)0,
       (unsigned char)2, (unsigned char)5, (unsigned char)40, 300UL, (unsigned char)17,
       {3U, 1U, 2U, 0U, 2U}, (char)0, (char)0, {(short)1, (short)0, (short)0, (short)0,
                                                (short)0, (short)0, (short)0, (short)0},
       150, 1}, "360K PC"}, 
        {{(signed char)2, 500UL, 16UL, 16UL, 6000UL, 40UL, 300UL, (unsigned char)14,
       (unsigned char)2, (unsigned char)6, (unsigned char)83, 300UL, (unsigned char)17,
       {3U, 1U, 2U, 0U, 2U}, (char)0, (char)0, {(short)2, (short)5, (short)6, (short)23,
                                                (short)10, (short)20, (short)12, (short)0},
       150, 2}, "1.2M"}, 
        {{(signed char)3, 250UL, 16UL, 16UL, 3000UL, 100UL, 300UL, (unsigned char)0,
       (unsigned char)2, (unsigned char)5, (unsigned char)83, 300UL, (unsigned char)20,
       {3U, 1U, 2U, 0U, 2U}, (char)0, (char)0, {(short)4, (short)22, (short)21, (short)30,
                                                (short)3, (short)0, (short)0, (short)0},
       150, 4}, "720k"}, 
        {{(signed char)4, 500UL, 16UL, 16UL, 4000UL, 40UL, 300UL, (unsigned char)10,
       (unsigned char)2, (unsigned char)5, (unsigned char)83, 300UL, (unsigned char)20,
       {3U, 1U, 2U, 0U, 2U}, (char)0, (char)0, {(short)7, (short)4, (short)25, (short)22,
                                                (short)31, (short)21, (short)29, (short)11},
       150, 7}, "1.44M"}, 
        {{(signed char)5, 1000UL, 15UL, 8UL, 3000UL, 40UL, 300UL, (unsigned char)10,
       (unsigned char)2, (unsigned char)5, (unsigned char)83, 300UL, (unsigned char)40,
       {3U, 1U, 2U, 0U, 2U}, (char)0, (char)0, {(short)7, (short)8, (short)4, (short)25,
                                                (short)28, (short)22, (short)31, (short)21},
       150, 8}, "2.88M AMI BIOS"}, 
        {{(signed char)6, 1000UL, 15UL, 8UL, 3000UL, 40UL, 300UL, (unsigned char)10,
       (unsigned char)2, (unsigned char)5, (unsigned char)83, 300UL, (unsigned char)40,
       {3U, 1U, 2U, 0U, 2U}, (char)0, (char)0, {(short)7, (short)8, (short)4, (short)25,
                                                (short)28, (short)22, (short)31, (short)21},
       150, 8}, "2.88M"}};
#line 410 "drivers/block/floppy.c"
static struct floppy_drive_params drive_params[8]  ;
#line 411 "drivers/block/floppy.c"
static struct floppy_drive_struct drive_state[8]  ;
#line 412 "drivers/block/floppy.c"
static struct floppy_write_errors write_errors[8]  ;
#line 413 "drivers/block/floppy.c"
static struct timer_list motor_off_timer[8]  ;
#line 414 "drivers/block/floppy.c"
static struct gendisk *disks[8]  ;
#line 415 "drivers/block/floppy.c"
static struct block_device *opened_bdev[8]  ;
#line 416 "drivers/block/floppy.c"
static struct mutex open_lock  =    {0, 1};
#line 417 "drivers/block/floppy.c"
static struct floppy_raw_cmd *raw_cmd  ;
#line 417 "drivers/block/floppy.c"
static struct floppy_raw_cmd default_raw_cmd  ;
#line 443 "drivers/block/floppy.c"
static struct floppy_struct floppy_type[32]  = 
#line 443
  {      {0U, 0U, 0U, 0U, 0U, (unsigned char)0, (unsigned char)0, (unsigned char)0, (unsigned char)0,
      (char const   *)((void *)0)}, 
        {720U, 9U, 2U, 40U, 0U, (unsigned char)42, (unsigned char)2, (unsigned char)223,
      (unsigned char)80, "d360"}, 
        {2400U, 15U, 2U, 80U, 0U, (unsigned char)27, (unsigned char)0, (unsigned char)223,
      (unsigned char)84, "h1200"}, 
        {720U, 9U, 1U, 80U, 0U, (unsigned char)42, (unsigned char)2, (unsigned char)223,
      (unsigned char)80, "D360"}, 
        {1440U, 9U, 2U, 80U, 0U, (unsigned char)42, (unsigned char)2, (unsigned char)223,
      (unsigned char)80, "D720"}, 
        {720U, 9U, 2U, 40U, 1U, (unsigned char)35, (unsigned char)1, (unsigned char)223,
      (unsigned char)80, "h360"}, 
        {1440U, 9U, 2U, 80U, 0U, (unsigned char)35, (unsigned char)1, (unsigned char)223,
      (unsigned char)80, "h720"}, 
        {2880U, 18U, 2U, 80U, 0U, (unsigned char)27, (unsigned char)0, (unsigned char)207,
      (unsigned char)108, "H1440"}, 
        {5760U, 36U, 2U, 80U, 0U, (unsigned char)27, (unsigned char)67, (unsigned char)175,
      (unsigned char)84, "E2880"}, 
        {6240U, 39U, 2U, 80U, 0U, (unsigned char)27, (unsigned char)67, (unsigned char)175,
      (unsigned char)40, "E3120"}, 
        {2880U, 18U, 2U, 80U, 0U, (unsigned char)37, (unsigned char)0, (unsigned char)223,
      (unsigned char)2, "h1440"}, 
        {3360U, 21U, 2U, 80U, 0U, (unsigned char)28, (unsigned char)0, (unsigned char)207,
      (unsigned char)12, "H1680"}, 
        {820U, 10U, 2U, 41U, 1U, (unsigned char)37, (unsigned char)1, (unsigned char)223,
      (unsigned char)46, "h410"}, 
        {1640U, 10U, 2U, 82U, 0U, (unsigned char)37, (unsigned char)2, (unsigned char)223,
      (unsigned char)46, "H820"}, 
        {2952U, 18U, 2U, 82U, 0U, (unsigned char)37, (unsigned char)0, (unsigned char)223,
      (unsigned char)2, "h1476"}, 
        {3444U, 21U, 2U, 82U, 0U, (unsigned char)37, (unsigned char)0, (unsigned char)223,
      (unsigned char)12, "H1722"}, 
        {840U, 10U, 2U, 42U, 1U, (unsigned char)37, (unsigned char)1, (unsigned char)223,
      (unsigned char)46, "h420"}, 
        {1660U, 10U, 2U, 83U, 0U, (unsigned char)37, (unsigned char)2, (unsigned char)223,
      (unsigned char)46, "H830"}, 
        {2988U, 18U, 2U, 83U, 0U, (unsigned char)37, (unsigned char)0, (unsigned char)223,
      (unsigned char)2, "h1494"}, 
        {3486U, 21U, 2U, 83U, 0U, (unsigned char)37, (unsigned char)0, (unsigned char)223,
      (unsigned char)12, "H1743"}, 
        {1760U, 11U, 2U, 80U, 0U, (unsigned char)28, (unsigned char)9, (unsigned char)207,
      (unsigned char)0, "h880"}, 
        {2080U, 13U, 2U, 80U, 0U, (unsigned char)28, (unsigned char)1, (unsigned char)207,
      (unsigned char)0, "D1040"}, 
        {2240U, 14U, 2U, 80U, 0U, (unsigned char)28, (unsigned char)25, (unsigned char)207,
      (unsigned char)0, "D1120"}, 
        {3200U, 20U, 2U, 80U, 0U, (unsigned char)28, (unsigned char)32, (unsigned char)207,
      (unsigned char)44, "h1600"}, 
        {3520U, 22U, 2U, 80U, 0U, (unsigned char)28, (unsigned char)8, (unsigned char)207,
      (unsigned char)46, "H1760"}, 
        {3840U, 24U, 2U, 80U, 0U, (unsigned char)28, (unsigned char)32, (unsigned char)207,
      (unsigned char)0, "H1920"}, 
        {6400U, 40U, 2U, 80U, 0U, (unsigned char)37, (unsigned char)91, (unsigned char)207,
      (unsigned char)0, "E3200"}, 
        {7040U, 44U, 2U, 80U, 0U, (unsigned char)37, (unsigned char)91, (unsigned char)207,
      (unsigned char)0, "E3520"}, 
        {7680U, 48U, 2U, 80U, 0U, (unsigned char)37, (unsigned char)99, (unsigned char)207,
      (unsigned char)0, "E3840"}, 
        {3680U, 23U, 2U, 80U, 0U, (unsigned char)28, (unsigned char)16, (unsigned char)207,
      (unsigned char)0, "H1840"}, 
        {1600U, 10U, 2U, 80U, 0U, (unsigned char)37, (unsigned char)2, (unsigned char)223,
      (unsigned char)46, "D800"}, 
        {3200U, 20U, 2U, 80U, 0U, (unsigned char)28, (unsigned char)0, (unsigned char)207,
      (unsigned char)44, "H1600"}};
#line 484 "drivers/block/floppy.c"
static struct floppy_struct *current_type[8]  ;
#line 490 "drivers/block/floppy.c"
static struct floppy_struct user_params[8]  ;
#line 492 "drivers/block/floppy.c"
static sector_t floppy_sizes[256]  ;
#line 494 "drivers/block/floppy.c"
static char floppy_device_name[7]  = {      (char )'f',      (char )'l',      (char )'o',      (char )'p', 
        (char )'p',      (char )'y',      (char )'\000'};
#line 501 "drivers/block/floppy.c"
static int probing  ;
#line 508 "drivers/block/floppy.c"
static int volatile   command_status  =    (int volatile   )-1;
#line 509 "drivers/block/floppy.c"
static unsigned long fdc_busy  ;
#line 510 "drivers/block/floppy.c"
static wait_queue_head_t fdc_wait  =    {0, 0, 1};
#line 511 "drivers/block/floppy.c"
static wait_queue_head_t command_done  =    {0, 0, 1};
#line 521 "drivers/block/floppy.c"
static int format_errors  ;
#line 524 "drivers/block/floppy.c"
static struct format_descr format_req  ;
#line 538 "drivers/block/floppy.c"
static char *floppy_track_buffer  ;
#line 539 "drivers/block/floppy.c"
static int max_buffer_sectors  ;
#line 541 "drivers/block/floppy.c"
static int *errors  ;
#line 543 "drivers/block/floppy.c"
static struct cont_t *cont  ;
#line 552
static void floppy_ready(void) ;
#line 553
static void floppy_start(void) ;
#line 554
static void process_fd_request(void) ;
#line 555
static void recalibrate_floppy(void) ;
#line 556
static void floppy_shutdown(unsigned long data ) ;
#line 558
static int floppy_grab_irq_and_dma(void) ;
#line 559
static void floppy_release_irq_and_dma(void) ;
#line 569
static void reset_fdc(void) ;
#line 580 "drivers/block/floppy.c"
static int usage_count  ;
#line 583 "drivers/block/floppy.c"
static int buffer_track  =    -1;
#line 584 "drivers/block/floppy.c"
static int buffer_drive  =    -1;
#line 585 "drivers/block/floppy.c"
static int buffer_min  =    -1;
#line 586 "drivers/block/floppy.c"
static int buffer_max  =    -1;
#line 589 "drivers/block/floppy.c"
static struct floppy_fdc_state fdc_state[2]  ;
#line 590 "drivers/block/floppy.c"
static int fdc  ;
#line 592 "drivers/block/floppy.c"
static struct floppy_struct *_floppy  =    floppy_type;
#line 593 "drivers/block/floppy.c"
static unsigned char current_drive  ;
#line 594 "drivers/block/floppy.c"
static long current_count_sectors  ;
#line 595 "drivers/block/floppy.c"
static unsigned char fsector_t  ;
#line 596 "drivers/block/floppy.c"
static unsigned char in_sector_offset  ;
#line 600 "drivers/block/floppy.c"
__inline static int fd_eject(int drive ) 
{ 

  {
#line 602
  return (-22);
}
}
#line 611 "drivers/block/floppy.c"
static unsigned long debugtimer  ;
#line 613 "drivers/block/floppy.c"
__inline static void set_debugt(void) 
{ 

  {
#line 615
  debugtimer = jiffies;
#line 616
  return;
}
}
#line 618 "drivers/block/floppy.c"
__inline static void debugt(char const   *message ) 
{ unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  char __cil_tmp5 ;
  int __cil_tmp6 ;
  unsigned long __cil_tmp7 ;

  {
  {
#line 620
  __cil_tmp2 = current_drive * 128UL;
#line 620
  __cil_tmp3 = __cil_tmp2 + 96;
#line 620
  __cil_tmp4 = (unsigned long )(drive_params) + __cil_tmp3;
#line 620
  __cil_tmp5 = *((char *)__cil_tmp4);
#line 620
  __cil_tmp6 = (int )__cil_tmp5;
#line 620
  if (__cil_tmp6 & 2) {
    {
#line 621
    __cil_tmp7 = jiffies - debugtimer;
#line 621
    printk("%s dtime=%lu\n", message, __cil_tmp7);
    }
  } else {

  }
  }
#line 622
  return;
}
}
#line 629 "drivers/block/floppy.c"
static struct timer_list fd_timeout  =    {0UL, & floppy_shutdown, 0UL, (short)0, (short)1};
#line 631 "drivers/block/floppy.c"
static char const   *timeout_message  ;
#line 637
extern int timer_pending() ;
#line 634 "drivers/block/floppy.c"
static void is_alive(char const   *message ) 
{ int tmp ;
  int tmp___0 ;
  void const   *__cil_tmp4 ;
  int volatile   __cil_tmp5 ;
  int __cil_tmp6 ;

  {
  {
#line 637
  __cil_tmp4 = (void const   *)(& fdc_busy);
#line 637
  tmp = test_bit(0, __cil_tmp4);
  }
#line 637
  if (tmp) {
    {
#line 637
    __cil_tmp5 = (int volatile   )2;
#line 637
    if (command_status < __cil_tmp5) {
      {
#line 637
      tmp___0 = timer_pending(& fd_timeout);
      }
#line 637
      if (! tmp___0) {
        {
#line 639
        __cil_tmp6 = (int )current_drive;
#line 639
        printk("floppy%d: timeout handler died: %s\n", __cil_tmp6, message);
        }
      } else {

      }
    } else {

    }
    }
  } else {

  }
#line 641
  return;
}
}
#line 644 "drivers/block/floppy.c"
static void (*do_floppy)(void)  =    (void (*)(void))((void *)0);
#line 650 "drivers/block/floppy.c"
static void (*lasthandler)(void)  ;
#line 651 "drivers/block/floppy.c"
static unsigned long interruptjiffies  ;
#line 652 "drivers/block/floppy.c"
static unsigned long resultjiffies  ;
#line 653 "drivers/block/floppy.c"
static int resultsize  ;
#line 654 "drivers/block/floppy.c"
static unsigned long lastredo  ;
#line 656 "drivers/block/floppy.c"
static struct output_log output_log[20]  ;
#line 662 "drivers/block/floppy.c"
static int output_log_pos  ;
#line 668 "drivers/block/floppy.c"
static void __reschedule_timeout(int drive , char const   *message , int marg ) 
{ struct timer_list *__cil_tmp4 ;
  struct timer_list *__cil_tmp5 ;
  struct timer_list *__cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  char __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;

  {
#line 670
  if (drive == -1) {
#line 671
    drive = (int )current_drive;
  } else {

  }
  {
#line 672
  del_timer(& fd_timeout);
  }
#line 673
  if (drive < 0) {
#line 674
    __cil_tmp4 = & fd_timeout;
#line 674
    *((unsigned long *)__cil_tmp4) = jiffies + 2000UL;
#line 675
    drive = 0;
  } else
#line 673
  if (drive > 8) {
#line 674
    __cil_tmp5 = & fd_timeout;
#line 674
    *((unsigned long *)__cil_tmp5) = jiffies + 2000UL;
#line 675
    drive = 0;
  } else {
#line 677
    __cil_tmp6 = & fd_timeout;
#line 677
    __cil_tmp7 = drive * 128UL;
#line 677
    __cil_tmp8 = __cil_tmp7 + 64;
#line 677
    __cil_tmp9 = (unsigned long )(drive_params) + __cil_tmp8;
#line 677
    __cil_tmp10 = *((unsigned long *)__cil_tmp9);
#line 677
    *((unsigned long *)__cil_tmp6) = jiffies + __cil_tmp10;
  }
  {
#line 678
  add_timer(& fd_timeout);
  }
  {
#line 679
  __cil_tmp11 = drive * 128UL;
#line 679
  __cil_tmp12 = __cil_tmp11 + 96;
#line 679
  __cil_tmp13 = (unsigned long )(drive_params) + __cil_tmp12;
#line 679
  __cil_tmp14 = *((char *)__cil_tmp13);
#line 679
  __cil_tmp15 = (int )__cil_tmp14;
#line 679
  if (__cil_tmp15 & 2) {
    {
#line 680
    __cil_tmp16 = (int )current_drive;
#line 680
    printk("floppy%d: reschedule timeout ", __cil_tmp16);
#line 681
    printk(message, marg);
#line 682
    printk("\n");
    }
  } else {

  }
  }
#line 684
  timeout_message = message;
#line 685
  return;
}
}
#line 687 "drivers/block/floppy.c"
static void reschedule_timeout(int drive , char const   *message , int marg ) 
{ unsigned long flags ;

  {
  {
#line 691
  spin_lock_irqsave(& floppy_lock, flags);
#line 692
  __reschedule_timeout(drive, message, marg);
#line 693
  spin_unlock_irqrestore(& floppy_lock, flags);
  }
#line 694
  return;
}
}
#line 751
extern int fd_inb() ;
#line 733 "drivers/block/floppy.c"
static int disk_change(int drive ) 
{ int fdc___0 ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned char __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  long __cil_tmp17 ;
  long __cil_tmp18 ;
  long __cil_tmp19 ;
  int __cil_tmp20 ;
  int __cil_tmp21 ;
  int __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned char __cil_tmp26 ;
  int __cil_tmp27 ;
  int __cil_tmp28 ;
  int __cil_tmp29 ;
  int __cil_tmp30 ;
  int __cil_tmp31 ;
  int __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned char __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  int __cil_tmp38 ;
  unsigned long __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  unsigned long __cil_tmp41 ;
  unsigned char __cil_tmp42 ;
  int __cil_tmp43 ;
  int __cil_tmp44 ;
  int __cil_tmp45 ;
  int __cil_tmp46 ;
  int __cil_tmp47 ;
  int __cil_tmp48 ;
  unsigned long __cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  unsigned long __cil_tmp51 ;
  unsigned char __cil_tmp52 ;
  unsigned int __cil_tmp53 ;
  int __cil_tmp54 ;
  int __cil_tmp55 ;
  int __cil_tmp56 ;
  int __cil_tmp57 ;
  int __cil_tmp58 ;
  int __cil_tmp59 ;
  unsigned long __cil_tmp60 ;
  unsigned long __cil_tmp61 ;
  unsigned long __cil_tmp62 ;
  unsigned char __cil_tmp63 ;
  unsigned int __cil_tmp64 ;
  unsigned long __cil_tmp65 ;
  unsigned long __cil_tmp66 ;
  unsigned long __cil_tmp67 ;
  char __cil_tmp68 ;
  int __cil_tmp69 ;
  int __cil_tmp70 ;
  int __cil_tmp71 ;
  unsigned long __cil_tmp72 ;
  unsigned long __cil_tmp73 ;
  unsigned long __cil_tmp74 ;
  unsigned long __cil_tmp75 ;
  unsigned long __cil_tmp76 ;
  int __cil_tmp77 ;
  int __cil_tmp78 ;
  int __cil_tmp79 ;
  unsigned long __cil_tmp80 ;
  unsigned long __cil_tmp81 ;
  unsigned long __cil_tmp82 ;
  unsigned long __cil_tmp83 ;
  unsigned long __cil_tmp84 ;
  unsigned long __cil_tmp85 ;
  char __cil_tmp86 ;
  int __cil_tmp87 ;
  unsigned long __cil_tmp88 ;
  unsigned long __cil_tmp89 ;
  unsigned long *__cil_tmp90 ;
  void const   *__cil_tmp91 ;
  unsigned long __cil_tmp92 ;
  unsigned long __cil_tmp93 ;
  unsigned long __cil_tmp94 ;
  unsigned long __cil_tmp95 ;
  unsigned long __cil_tmp96 ;
  unsigned long __cil_tmp97 ;
  unsigned long __cil_tmp98 ;
  unsigned long __cil_tmp99 ;
  char __cil_tmp100 ;
  int __cil_tmp101 ;
  int __cil_tmp102 ;
  unsigned long __cil_tmp103 ;
  unsigned long __cil_tmp104 ;
  unsigned long *__cil_tmp105 ;
  unsigned long __cil_tmp106 ;
  unsigned long __cil_tmp107 ;
  unsigned long __cil_tmp108 ;
  unsigned long __cil_tmp109 ;
  unsigned long __cil_tmp110 ;
  unsigned long *__cil_tmp111 ;
  unsigned long __cil_tmp112 ;
  unsigned long __cil_tmp113 ;
  unsigned long __cil_tmp114 ;
  int __cil_tmp115 ;
  unsigned long __cil_tmp116 ;
  unsigned long __cil_tmp117 ;
  unsigned long __cil_tmp118 ;
  char __cil_tmp119 ;
  int __cil_tmp120 ;
  void *__cil_tmp121 ;
  unsigned long __cil_tmp122 ;
  unsigned long __cil_tmp123 ;
  unsigned long __cil_tmp124 ;
  struct floppy_struct *__cil_tmp125 ;
  unsigned long __cil_tmp126 ;
  int __cil_tmp127 ;
  unsigned long __cil_tmp128 ;
  unsigned long __cil_tmp129 ;
  void *__cil_tmp130 ;
  int __cil_tmp131 ;
  int __cil_tmp132 ;
  int __cil_tmp133 ;
  int __cil_tmp134 ;
  unsigned long __cil_tmp135 ;
  unsigned long __cil_tmp136 ;
  int __cil_tmp137 ;
  unsigned long __cil_tmp138 ;
  unsigned long __cil_tmp139 ;
  unsigned long __cil_tmp140 ;
  unsigned long __cil_tmp141 ;
  unsigned long __cil_tmp142 ;
  unsigned long *__cil_tmp143 ;
  unsigned long volatile   *__cil_tmp144 ;

  {
#line 735
  __cil_tmp6 = drive & 4;
#line 735
  fdc___0 = __cil_tmp6 >> 2;
  {
#line 737
  __cil_tmp7 = drive * 128UL;
#line 737
  __cil_tmp8 = __cil_tmp7 + 57;
#line 737
  __cil_tmp9 = (unsigned long )(drive_params) + __cil_tmp8;
#line 737
  __cil_tmp10 = *((unsigned char *)__cil_tmp9);
#line 737
  __cil_tmp11 = (unsigned long )__cil_tmp10;
#line 737
  __cil_tmp12 = drive * 80UL;
#line 737
  __cil_tmp13 = __cil_tmp12 + 16;
#line 737
  __cil_tmp14 = (unsigned long )(drive_state) + __cil_tmp13;
#line 737
  __cil_tmp15 = *((unsigned long *)__cil_tmp14);
#line 737
  __cil_tmp16 = __cil_tmp15 + __cil_tmp11;
#line 737
  __cil_tmp17 = (long )__cil_tmp16;
#line 737
  __cil_tmp18 = (long )jiffies;
#line 737
  __cil_tmp19 = __cil_tmp18 - __cil_tmp17;
#line 737
  if (__cil_tmp19 < 0L) {
    {
#line 738
    __cil_tmp20 = (int )current_drive;
#line 738
    printk("floppy%d: WARNING disk change called early\n", __cil_tmp20);
    }
  } else {

  }
  }
  {
#line 739
  __cil_tmp21 = drive & 3;
#line 739
  __cil_tmp22 = 16 << __cil_tmp21;
#line 739
  __cil_tmp23 = fdc___0 * 40UL;
#line 739
  __cil_tmp24 = __cil_tmp23 + 13;
#line 739
  __cil_tmp25 = (unsigned long )(fdc_state) + __cil_tmp24;
#line 739
  __cil_tmp26 = *((unsigned char *)__cil_tmp25);
#line 739
  __cil_tmp27 = (int )__cil_tmp26;
#line 739
  __cil_tmp28 = __cil_tmp27 & __cil_tmp22;
#line 739
  if (! __cil_tmp28) {
    {
#line 741
    __cil_tmp29 = (int )current_drive;
#line 741
    printk("floppy%d: probing disk change on unselected drive\n", __cil_tmp29);
#line 742
    __cil_tmp30 = (int )current_drive;
#line 742
    __cil_tmp31 = drive & 4;
#line 742
    __cil_tmp32 = __cil_tmp31 >> 2;
#line 742
    __cil_tmp33 = fdc___0 * 40UL;
#line 742
    __cil_tmp34 = __cil_tmp33 + 13;
#line 742
    __cil_tmp35 = (unsigned long )(fdc_state) + __cil_tmp34;
#line 742
    __cil_tmp36 = *((unsigned char *)__cil_tmp35);
#line 742
    __cil_tmp37 = (unsigned int )__cil_tmp36;
#line 742
    printk("floppy%d: drive=%d fdc=%d dor=%x\n", __cil_tmp30, drive, __cil_tmp32,
           __cil_tmp37);
    }
  } else {
    {
#line 739
    __cil_tmp38 = drive & 3;
#line 739
    __cil_tmp39 = fdc___0 * 40UL;
#line 739
    __cil_tmp40 = __cil_tmp39 + 13;
#line 739
    __cil_tmp41 = (unsigned long )(fdc_state) + __cil_tmp40;
#line 739
    __cil_tmp42 = *((unsigned char *)__cil_tmp41);
#line 739
    __cil_tmp43 = (int )__cil_tmp42;
#line 739
    __cil_tmp44 = __cil_tmp43 & 3;
#line 739
    if (__cil_tmp44 != __cil_tmp38) {
      {
#line 741
      __cil_tmp45 = (int )current_drive;
#line 741
      printk("floppy%d: probing disk change on unselected drive\n", __cil_tmp45);
#line 742
      __cil_tmp46 = (int )current_drive;
#line 742
      __cil_tmp47 = drive & 4;
#line 742
      __cil_tmp48 = __cil_tmp47 >> 2;
#line 742
      __cil_tmp49 = fdc___0 * 40UL;
#line 742
      __cil_tmp50 = __cil_tmp49 + 13;
#line 742
      __cil_tmp51 = (unsigned long )(fdc_state) + __cil_tmp50;
#line 742
      __cil_tmp52 = *((unsigned char *)__cil_tmp51);
#line 742
      __cil_tmp53 = (unsigned int )__cil_tmp52;
#line 742
      printk("floppy%d: drive=%d fdc=%d dor=%x\n", __cil_tmp46, drive, __cil_tmp48,
             __cil_tmp53);
      }
    } else {
      {
#line 739
      __cil_tmp54 = drive & 4;
#line 739
      __cil_tmp55 = __cil_tmp54 >> 2;
#line 739
      if (fdc___0 != __cil_tmp55) {
        {
#line 741
        __cil_tmp56 = (int )current_drive;
#line 741
        printk("floppy%d: probing disk change on unselected drive\n", __cil_tmp56);
#line 742
        __cil_tmp57 = (int )current_drive;
#line 742
        __cil_tmp58 = drive & 4;
#line 742
        __cil_tmp59 = __cil_tmp58 >> 2;
#line 742
        __cil_tmp60 = fdc___0 * 40UL;
#line 742
        __cil_tmp61 = __cil_tmp60 + 13;
#line 742
        __cil_tmp62 = (unsigned long )(fdc_state) + __cil_tmp61;
#line 742
        __cil_tmp63 = *((unsigned char *)__cil_tmp62);
#line 742
        __cil_tmp64 = (unsigned int )__cil_tmp63;
#line 742
        printk("floppy%d: drive=%d fdc=%d dor=%x\n", __cil_tmp57, drive, __cil_tmp59,
               __cil_tmp64);
        }
      } else {

      }
      }
    }
    }
  }
  }
  {
#line 748
  __cil_tmp65 = drive * 128UL;
#line 748
  __cil_tmp66 = __cil_tmp65 + 96;
#line 748
  __cil_tmp67 = (unsigned long )(drive_params) + __cil_tmp66;
#line 748
  __cil_tmp68 = *((char *)__cil_tmp67);
#line 748
  __cil_tmp69 = (int )__cil_tmp68;
#line 748
  if (__cil_tmp69 & 2) {
    {
#line 749
    __cil_tmp70 = (int )current_drive;
#line 749
    printk("floppy%d: checking disk change line for drive %d\n", __cil_tmp70, drive);
#line 750
    __cil_tmp71 = (int )current_drive;
#line 750
    printk("floppy%d: jiffies=%lu\n", __cil_tmp71, jiffies);
#line 751
    __cil_tmp72 = fdc___0 * 40UL;
#line 751
    __cil_tmp73 = __cil_tmp72 + 16;
#line 751
    __cil_tmp74 = (unsigned long )(fdc_state) + __cil_tmp73;
#line 751
    __cil_tmp75 = *((unsigned long *)__cil_tmp74);
#line 751
    __cil_tmp76 = 7UL + __cil_tmp75;
#line 751
    tmp = fd_inb(__cil_tmp76);
#line 751
    __cil_tmp77 = (int )current_drive;
#line 751
    __cil_tmp78 = tmp & 128;
#line 751
    printk("floppy%d: disk change line=%x\n", __cil_tmp77, __cil_tmp78);
#line 752
    __cil_tmp79 = (int )current_drive;
#line 752
    __cil_tmp80 = drive * 80UL;
#line 752
    __cil_tmp81 = (unsigned long )(drive_state) + __cil_tmp80;
#line 752
    __cil_tmp82 = *((unsigned long *)__cil_tmp81);
#line 752
    printk("floppy%d: flags=%lx\n", __cil_tmp79, __cil_tmp82);
    }
  } else {

  }
  }
  {
#line 755
  __cil_tmp83 = drive * 128UL;
#line 755
  __cil_tmp84 = __cil_tmp83 + 96;
#line 755
  __cil_tmp85 = (unsigned long )(drive_params) + __cil_tmp84;
#line 755
  __cil_tmp86 = *((char *)__cil_tmp85);
#line 755
  __cil_tmp87 = (int )__cil_tmp86;
#line 755
  if (__cil_tmp87 & 32) {
    {
#line 756
    __cil_tmp88 = drive * 80UL;
#line 756
    __cil_tmp89 = (unsigned long )(drive_state) + __cil_tmp88;
#line 756
    __cil_tmp90 = (unsigned long *)__cil_tmp89;
#line 756
    __cil_tmp91 = (void const   *)__cil_tmp90;
#line 756
    tmp___0 = test_bit(4, __cil_tmp91);
    }
#line 756
    return (tmp___0);
  } else {

  }
  }
  {
#line 757
  __cil_tmp92 = fdc___0 * 40UL;
#line 757
  __cil_tmp93 = __cil_tmp92 + 16;
#line 757
  __cil_tmp94 = (unsigned long )(fdc_state) + __cil_tmp93;
#line 757
  __cil_tmp95 = *((unsigned long *)__cil_tmp94);
#line 757
  __cil_tmp96 = 7UL + __cil_tmp95;
#line 757
  tmp___1 = fd_inb(__cil_tmp96);
  }
  {
#line 757
  __cil_tmp97 = drive * 128UL;
#line 757
  __cil_tmp98 = __cil_tmp97 + 96;
#line 757
  __cil_tmp99 = (unsigned long )(drive_params) + __cil_tmp98;
#line 757
  __cil_tmp100 = *((char *)__cil_tmp99);
#line 757
  __cil_tmp101 = (int )__cil_tmp100;
#line 757
  __cil_tmp102 = tmp___1 ^ __cil_tmp101;
#line 757
  if (__cil_tmp102 & 128) {
    {
#line 758
    __cil_tmp103 = drive * 80UL;
#line 758
    __cil_tmp104 = (unsigned long )(drive_state) + __cil_tmp103;
#line 758
    __cil_tmp105 = (unsigned long *)__cil_tmp104;
#line 758
    set_bit(1, __cil_tmp105);
    }
    {
#line 759
    __cil_tmp106 = drive * 80UL;
#line 759
    __cil_tmp107 = __cil_tmp106 + 36;
#line 759
    __cil_tmp108 = (unsigned long )(drive_state) + __cil_tmp107;
#line 759
    if (*((short *)__cil_tmp108)) {
      {
#line 761
      __cil_tmp109 = drive * 80UL;
#line 761
      __cil_tmp110 = (unsigned long )(drive_state) + __cil_tmp109;
#line 761
      __cil_tmp111 = (unsigned long *)__cil_tmp110;
#line 761
      set_bit(4, __cil_tmp111);
      }
    } else {

    }
    }
    {
#line 765
    __cil_tmp112 = drive * 80UL;
#line 765
    __cil_tmp113 = __cil_tmp112 + 44;
#line 765
    __cil_tmp114 = (unsigned long )(drive_state) + __cil_tmp113;
#line 765
    __cil_tmp115 = *((int *)__cil_tmp114);
#line 765
    if (__cil_tmp115 >= 0) {
      {
#line 766
      __cil_tmp116 = drive * 128UL;
#line 766
      __cil_tmp117 = __cil_tmp116 + 96;
#line 766
      __cil_tmp118 = (unsigned long )(drive_params) + __cil_tmp117;
#line 766
      __cil_tmp119 = *((char *)__cil_tmp118);
#line 766
      __cil_tmp120 = (int )__cil_tmp119;
#line 766
      if (__cil_tmp120 & 16) {
        {
#line 766
        __cil_tmp121 = (void *)0;
#line 766
        __cil_tmp122 = (unsigned long )__cil_tmp121;
#line 766
        __cil_tmp123 = drive * 8UL;
#line 766
        __cil_tmp124 = (unsigned long )(current_type) + __cil_tmp123;
#line 766
        __cil_tmp125 = *((struct floppy_struct **)__cil_tmp124);
#line 766
        __cil_tmp126 = (unsigned long )__cil_tmp125;
#line 766
        if (__cil_tmp126 != __cil_tmp122) {
          {
#line 768
          __cil_tmp127 = (int )current_drive;
#line 768
          printk("floppy%d: Disk type is undefined after disk change\n", __cil_tmp127);
          }
        } else {

        }
        }
      } else {

      }
      }
#line 770
      __cil_tmp128 = drive * 8UL;
#line 770
      __cil_tmp129 = (unsigned long )(current_type) + __cil_tmp128;
#line 770
      __cil_tmp130 = (void *)0;
#line 770
      *((struct floppy_struct **)__cil_tmp129) = (struct floppy_struct *)__cil_tmp130;
#line 771
      __cil_tmp131 = drive & 4;
#line 771
      __cil_tmp132 = __cil_tmp131 << 5;
#line 771
      __cil_tmp133 = drive & 3;
#line 771
      __cil_tmp134 = __cil_tmp133 | __cil_tmp132;
#line 771
      __cil_tmp135 = __cil_tmp134 * 8UL;
#line 771
      __cil_tmp136 = (unsigned long )(floppy_sizes) + __cil_tmp135;
#line 771
      __cil_tmp137 = 4 << 1;
#line 771
      *((sector_t *)__cil_tmp136) = (sector_t )__cil_tmp137;
    } else {

    }
    }
#line 775
    return (1);
  } else {
    {
#line 777
    __cil_tmp138 = drive * 80UL;
#line 777
    __cil_tmp139 = __cil_tmp138 + 56;
#line 777
    __cil_tmp140 = (unsigned long )(drive_state) + __cil_tmp139;
#line 777
    *((unsigned long *)__cil_tmp140) = jiffies;
#line 778
    __cil_tmp141 = drive * 80UL;
#line 778
    __cil_tmp142 = (unsigned long )(drive_state) + __cil_tmp141;
#line 778
    __cil_tmp143 = (unsigned long *)__cil_tmp142;
#line 778
    __cil_tmp144 = (unsigned long volatile   *)__cil_tmp143;
#line 778
    clear_bit(2, __cil_tmp144);
    }
  }
  }
#line 780
  return (0);
}
}
#line 783 "drivers/block/floppy.c"
__inline static int is_selected(int dor , int unit ) 
{ int tmp ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;

  {
  {
#line 785
  __cil_tmp4 = 16 << unit;
#line 785
  if (dor & __cil_tmp4) {
    {
#line 785
    __cil_tmp5 = dor & 3;
#line 785
    if (__cil_tmp5 == unit) {
#line 785
      tmp = 1;
    } else {
#line 785
      tmp = 0;
    }
    }
  } else {
#line 785
    tmp = 0;
  }
  }
#line 785
  return (tmp);
}
}
#line 809
extern int fd_outb() ;
#line 788 "drivers/block/floppy.c"
static int set_dor(int fdc___0 , char mask , char data ) 
{ register unsigned char drive ;
  register unsigned char unit ;
  register unsigned char newdor ;
  register unsigned char olddor ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  int __cil_tmp19 ;
  int __cil_tmp20 ;
  int __cil_tmp21 ;
  int __cil_tmp22 ;
  int __cil_tmp23 ;
  int __cil_tmp24 ;
  int __cil_tmp25 ;
  int __cil_tmp26 ;
  int __cil_tmp27 ;
  int __cil_tmp28 ;
  int __cil_tmp29 ;
  int __cil_tmp30 ;
  int __cil_tmp31 ;
  int __cil_tmp32 ;
  int __cil_tmp33 ;
  int __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned long __cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  char __cil_tmp38 ;
  int __cil_tmp39 ;
  int __cil_tmp40 ;
  int __cil_tmp41 ;
  unsigned long __cil_tmp42 ;
  unsigned long __cil_tmp43 ;
  unsigned long __cil_tmp44 ;
  int __cil_tmp45 ;
  unsigned long __cil_tmp46 ;
  unsigned long __cil_tmp47 ;
  unsigned long __cil_tmp48 ;
  unsigned long __cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  int __cil_tmp51 ;
  int __cil_tmp52 ;
  int __cil_tmp53 ;
  int __cil_tmp54 ;
  int __cil_tmp55 ;
  int __cil_tmp56 ;
  int __cil_tmp57 ;
  int __cil_tmp58 ;
  int __cil_tmp59 ;
  unsigned long __cil_tmp60 ;
  unsigned long __cil_tmp61 ;
  unsigned long __cil_tmp62 ;

  {
  {
#line 792
  __cil_tmp12 = fdc___0 * 40UL;
#line 792
  __cil_tmp13 = __cil_tmp12 + 16;
#line 792
  __cil_tmp14 = (unsigned long )(fdc_state) + __cil_tmp13;
#line 792
  __cil_tmp15 = *((unsigned long *)__cil_tmp14);
#line 792
  if (__cil_tmp15 == 0xffffffffffffffffUL) {
#line 793
    return (-1);
  } else {

  }
  }
#line 795
  __cil_tmp16 = fdc___0 * 40UL;
#line 795
  __cil_tmp17 = __cil_tmp16 + 13;
#line 795
  __cil_tmp18 = (unsigned long )(fdc_state) + __cil_tmp17;
#line 795
  olddor = *((unsigned char *)__cil_tmp18);
#line 796
  __cil_tmp19 = (int )data;
#line 796
  __cil_tmp20 = (int )mask;
#line 796
  __cil_tmp21 = (int )olddor;
#line 796
  __cil_tmp22 = __cil_tmp21 & __cil_tmp20;
#line 796
  __cil_tmp23 = __cil_tmp22 | __cil_tmp19;
#line 796
  newdor = (unsigned char )__cil_tmp23;
  {
#line 797
  __cil_tmp24 = (int )olddor;
#line 797
  __cil_tmp25 = (int )newdor;
#line 797
  if (__cil_tmp25 != __cil_tmp24) {
    {
#line 798
    __cil_tmp26 = (int )olddor;
#line 798
    __cil_tmp27 = __cil_tmp26 & 3;
#line 798
    unit = (unsigned char )__cil_tmp27;
#line 799
    __cil_tmp28 = (int )olddor;
#line 799
    __cil_tmp29 = (int )unit;
#line 799
    tmp = is_selected(__cil_tmp28, __cil_tmp29);
    }
#line 799
    if (tmp) {
      {
#line 799
      __cil_tmp30 = (int )newdor;
#line 799
      __cil_tmp31 = (int )unit;
#line 799
      tmp___0 = is_selected(__cil_tmp30, __cil_tmp31);
      }
#line 799
      if (! tmp___0) {
#line 800
        __cil_tmp32 = fdc___0 << 2;
#line 800
        __cil_tmp33 = (int )unit;
#line 800
        __cil_tmp34 = __cil_tmp33 + __cil_tmp32;
#line 800
        drive = (unsigned char )__cil_tmp34;
        {
#line 802
        __cil_tmp35 = drive * 128UL;
#line 802
        __cil_tmp36 = __cil_tmp35 + 96;
#line 802
        __cil_tmp37 = (unsigned long )(drive_params) + __cil_tmp36;
#line 802
        __cil_tmp38 = *((char *)__cil_tmp37);
#line 802
        __cil_tmp39 = (int )__cil_tmp38;
#line 802
        if (__cil_tmp39 & 2) {
          {
#line 803
          __cil_tmp40 = (int )current_drive;
#line 803
          printk("floppy%d: calling disk change from set_dor\n", __cil_tmp40);
          }
        } else {

        }
        }
        {
#line 806
        __cil_tmp41 = (int )drive;
#line 806
        disk_change(__cil_tmp41);
        }
      } else {

      }
    } else {

    }
    {
#line 808
    __cil_tmp42 = fdc___0 * 40UL;
#line 808
    __cil_tmp43 = __cil_tmp42 + 13;
#line 808
    __cil_tmp44 = (unsigned long )(fdc_state) + __cil_tmp43;
#line 808
    *((unsigned char *)__cil_tmp44) = newdor;
#line 809
    __cil_tmp45 = (int )newdor;
#line 809
    __cil_tmp46 = fdc___0 * 40UL;
#line 809
    __cil_tmp47 = __cil_tmp46 + 16;
#line 809
    __cil_tmp48 = (unsigned long )(fdc_state) + __cil_tmp47;
#line 809
    __cil_tmp49 = *((unsigned long *)__cil_tmp48);
#line 809
    __cil_tmp50 = 2UL + __cil_tmp49;
#line 809
    fd_outb(__cil_tmp45, __cil_tmp50);
#line 811
    __cil_tmp51 = (int )newdor;
#line 811
    __cil_tmp52 = __cil_tmp51 & 3;
#line 811
    unit = (unsigned char )__cil_tmp52;
#line 812
    __cil_tmp53 = (int )olddor;
#line 812
    __cil_tmp54 = (int )unit;
#line 812
    tmp___1 = is_selected(__cil_tmp53, __cil_tmp54);
    }
#line 812
    if (! tmp___1) {
      {
#line 812
      __cil_tmp55 = (int )newdor;
#line 812
      __cil_tmp56 = (int )unit;
#line 812
      tmp___2 = is_selected(__cil_tmp55, __cil_tmp56);
      }
#line 812
      if (tmp___2) {
#line 813
        __cil_tmp57 = fdc___0 << 2;
#line 813
        __cil_tmp58 = (int )unit;
#line 813
        __cil_tmp59 = __cil_tmp58 + __cil_tmp57;
#line 813
        drive = (unsigned char )__cil_tmp59;
#line 814
        __cil_tmp60 = drive * 80UL;
#line 814
        __cil_tmp61 = __cil_tmp60 + 16;
#line 814
        __cil_tmp62 = (unsigned long )(drive_state) + __cil_tmp61;
#line 814
        *((unsigned long *)__cil_tmp62) = jiffies;
      } else {

      }
    } else {

    }
  } else {

  }
  }
#line 817
  return ((int )olddor);
}
}
#line 820 "drivers/block/floppy.c"
static void twaddle(void) 
{ unsigned long __cil_tmp1 ;
  unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned char __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned char __cil_tmp22 ;
  int __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  unsigned long __cil_tmp31 ;

  {
  {
#line 822
  __cil_tmp1 = current_drive * 128UL;
#line 822
  __cil_tmp2 = __cil_tmp1 + 57;
#line 822
  __cil_tmp3 = (unsigned long )(drive_params) + __cil_tmp2;
#line 822
  if (*((unsigned char *)__cil_tmp3)) {
#line 823
    return;
  } else {

  }
  }
  {
#line 824
  __cil_tmp4 = (int )current_drive;
#line 824
  __cil_tmp5 = __cil_tmp4 & 3;
#line 824
  __cil_tmp6 = 16 << __cil_tmp5;
#line 824
  __cil_tmp7 = ~ __cil_tmp6;
#line 824
  __cil_tmp8 = fdc * 40UL;
#line 824
  __cil_tmp9 = __cil_tmp8 + 13;
#line 824
  __cil_tmp10 = (unsigned long )(fdc_state) + __cil_tmp9;
#line 824
  __cil_tmp11 = *((unsigned char *)__cil_tmp10);
#line 824
  __cil_tmp12 = (int )__cil_tmp11;
#line 824
  __cil_tmp13 = __cil_tmp12 & __cil_tmp7;
#line 824
  __cil_tmp14 = fdc * 40UL;
#line 824
  __cil_tmp15 = __cil_tmp14 + 16;
#line 824
  __cil_tmp16 = (unsigned long )(fdc_state) + __cil_tmp15;
#line 824
  __cil_tmp17 = *((unsigned long *)__cil_tmp16);
#line 824
  __cil_tmp18 = 2UL + __cil_tmp17;
#line 824
  fd_outb(__cil_tmp13, __cil_tmp18);
#line 825
  __cil_tmp19 = fdc * 40UL;
#line 825
  __cil_tmp20 = __cil_tmp19 + 13;
#line 825
  __cil_tmp21 = (unsigned long )(fdc_state) + __cil_tmp20;
#line 825
  __cil_tmp22 = *((unsigned char *)__cil_tmp21);
#line 825
  __cil_tmp23 = (int )__cil_tmp22;
#line 825
  __cil_tmp24 = fdc * 40UL;
#line 825
  __cil_tmp25 = __cil_tmp24 + 16;
#line 825
  __cil_tmp26 = (unsigned long )(fdc_state) + __cil_tmp25;
#line 825
  __cil_tmp27 = *((unsigned long *)__cil_tmp26);
#line 825
  __cil_tmp28 = 2UL + __cil_tmp27;
#line 825
  fd_outb(__cil_tmp23, __cil_tmp28);
#line 826
  __cil_tmp29 = current_drive * 80UL;
#line 826
  __cil_tmp30 = __cil_tmp29 + 16;
#line 826
  __cil_tmp31 = (unsigned long )(drive_state) + __cil_tmp30;
#line 826
  *((unsigned long *)__cil_tmp31) = jiffies;
  }
#line 827
  return;
}
}
#line 831 "drivers/block/floppy.c"
static void reset_fdc_info(int mode ) 
{ int drive ;
  int tmp ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  int __cil_tmp16 ;
  int __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  short __cil_tmp24 ;
  int __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;

  {
#line 835
  tmp = -1;
#line 835
  __cil_tmp4 = fdc * 40UL;
#line 835
  __cil_tmp5 = __cil_tmp4 + 4;
#line 835
  __cil_tmp6 = (unsigned long )(fdc_state) + __cil_tmp5;
#line 835
  *((int *)__cil_tmp6) = tmp;
#line 835
  __cil_tmp7 = fdc * 40UL;
#line 835
  __cil_tmp8 = (unsigned long )(fdc_state) + __cil_tmp7;
#line 835
  *((int *)__cil_tmp8) = tmp;
#line 836
  __cil_tmp9 = fdc * 40UL;
#line 836
  __cil_tmp10 = (unsigned long )(fdc_state) + __cil_tmp9;
#line 836
  ((struct floppy_fdc_state *)__cil_tmp10)->need_configure = 1U;
#line 837
  __cil_tmp11 = fdc * 40UL;
#line 837
  __cil_tmp12 = (unsigned long )(fdc_state) + __cil_tmp11;
#line 837
  ((struct floppy_fdc_state *)__cil_tmp12)->perp_mode = 1U;
#line 838
  __cil_tmp13 = fdc * 40UL;
#line 838
  __cil_tmp14 = __cil_tmp13 + 24;
#line 838
  __cil_tmp15 = (unsigned long )(fdc_state) + __cil_tmp14;
#line 838
  *((unsigned int *)__cil_tmp15) = 0U;
#line 839
  drive = 0;
  {
#line 839
  while (1) {
    while_continue: /* CIL Label */ ;
#line 839
    if (drive < 8) {

    } else {
#line 839
      goto while_break;
    }
    {
#line 840
    __cil_tmp16 = drive & 4;
#line 840
    __cil_tmp17 = __cil_tmp16 >> 2;
#line 840
    if (__cil_tmp17 == fdc) {
#line 840
      if (mode) {
#line 841
        __cil_tmp18 = drive * 80UL;
#line 841
        __cil_tmp19 = __cil_tmp18 + 34;
#line 841
        __cil_tmp20 = (unsigned long )(drive_state) + __cil_tmp19;
#line 841
        *((short *)__cil_tmp20) = (short)-3;
      } else {
        {
#line 840
        __cil_tmp21 = drive * 80UL;
#line 840
        __cil_tmp22 = __cil_tmp21 + 34;
#line 840
        __cil_tmp23 = (unsigned long )(drive_state) + __cil_tmp22;
#line 840
        __cil_tmp24 = *((short *)__cil_tmp23);
#line 840
        __cil_tmp25 = (int )__cil_tmp24;
#line 840
        if (__cil_tmp25 != -2) {
#line 841
          __cil_tmp26 = drive * 80UL;
#line 841
          __cil_tmp27 = __cil_tmp26 + 34;
#line 841
          __cil_tmp28 = (unsigned long )(drive_state) + __cil_tmp27;
#line 841
          *((short *)__cil_tmp28) = (short)-3;
        } else {

        }
        }
      }
    } else {

    }
    }
#line 839
    drive = drive + 1;
  }
  while_break: /* CIL Label */ ;
  }
#line 842
  return;
}
}
#line 845 "drivers/block/floppy.c"
static void set_fdc(int drive ) 
{ int tmp ;
  int __cil_tmp3 ;
  int __cil_tmp4 ;
  char __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  char __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;

  {
#line 847
  if (drive >= 0) {
#line 847
    if (drive < 8) {
#line 848
      __cil_tmp3 = drive & 4;
#line 848
      fdc = __cil_tmp3 >> 2;
#line 849
      current_drive = (unsigned char )drive;
    } else {

    }
  } else {

  }
#line 851
  if (fdc != 1) {
#line 851
    if (fdc != 0) {
      {
#line 852
      printk("bad fdc value\n");
      }
#line 853
      return;
    } else {

    }
  } else {

  }
  {
#line 855
  __cil_tmp4 = ~ 0;
#line 855
  __cil_tmp5 = (char )__cil_tmp4;
#line 855
  set_dor(fdc, __cil_tmp5, (char)8);
#line 857
  __cil_tmp6 = 1 - fdc;
#line 857
  __cil_tmp7 = ~ 8;
#line 857
  __cil_tmp8 = (char )__cil_tmp7;
#line 857
  set_dor(__cil_tmp6, __cil_tmp8, (char)0);
  }
  {
#line 859
  __cil_tmp9 = fdc * 40UL;
#line 859
  __cil_tmp10 = __cil_tmp9 + 24;
#line 859
  __cil_tmp11 = (unsigned long )(fdc_state) + __cil_tmp10;
#line 859
  __cil_tmp12 = *((unsigned int *)__cil_tmp11);
#line 859
  if (__cil_tmp12 == 2U) {
    {
#line 860
    reset_fdc_info(1);
    }
  } else {

  }
  }
  {
#line 861
  __cil_tmp13 = fdc * 40UL;
#line 861
  __cil_tmp14 = __cil_tmp13 + 16;
#line 861
  __cil_tmp15 = (unsigned long )(fdc_state) + __cil_tmp14;
#line 861
  __cil_tmp16 = *((unsigned long *)__cil_tmp15);
#line 861
  __cil_tmp17 = 4UL + __cil_tmp16;
#line 861
  tmp = fd_inb(__cil_tmp17);
  }
#line 861
  if (tmp != 128) {
#line 862
    __cil_tmp18 = fdc * 40UL;
#line 862
    __cil_tmp19 = (unsigned long )(fdc_state) + __cil_tmp18;
#line 862
    ((struct floppy_fdc_state *)__cil_tmp19)->reset = 1U;
  } else {

  }
#line 863
  return;
}
}
#line 866 "drivers/block/floppy.c"
static int _lock_fdc(int drive , int interruptible , int line ) 
{ wait_queue_t wait ;
  int tmp ;
  struct task_struct *tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int __cil_tmp9 ;

  {
#line 868
  if (! usage_count) {
    {
#line 869
    printk("<3>Trying to lock fdc while usage count=0 at line %d\n", line);
    }
#line 872
    return (-1);
  } else {

  }
  {
#line 875
  tmp___2 = test_and_set_bit(0, & fdc_busy);
  }
#line 875
  if (tmp___2) {
    {
#line 877
    add_wait_queue(& fdc_wait, & wait);
    }
    {
#line 879
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 880
      set_current_state(1);
#line 882
      tmp = test_and_set_bit(0, & fdc_busy);
      }
#line 882
      if (! tmp) {
#line 883
        goto while_break;
      } else {

      }
      {
#line 885
      schedule();
      }
      {
#line 887
      __cil_tmp9 = ! interruptible;
#line 887
      if (! __cil_tmp9) {
        {
#line 887
        tmp___0 = get_current();
#line 887
        tmp___1 = signal_pending(tmp___0);
        }
#line 887
        if (tmp___1) {
          {
#line 888
          remove_wait_queue(& fdc_wait, & wait);
          }
#line 889
          return (-4);
        } else {

        }
      } else {

      }
      }
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 893
    set_current_state(0);
#line 894
    remove_wait_queue(& fdc_wait, & wait);
#line 896
    flush_scheduled_work();
    }
  } else {

  }
  {
#line 898
  command_status = (int volatile   )-1;
#line 900
  __reschedule_timeout(drive, "lock fdc", 0);
#line 901
  set_fdc(drive);
  }
#line 902
  return (0);
}
}
#line 911 "drivers/block/floppy.c"
__inline static void unlock_fdc(void) 
{ unsigned long flags ;
  int tmp ;
  struct request *tmp___0 ;
  void *__cil_tmp4 ;
  void const   *__cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  void *__cil_tmp8 ;
  unsigned long volatile   *__cil_tmp9 ;
  void (*__cil_tmp10)(request_queue_t *q ) ;

  {
  {
#line 915
  __cil_tmp4 = (void *)0;
#line 915
  raw_cmd = (struct floppy_raw_cmd *)__cil_tmp4;
#line 916
  __cil_tmp5 = (void const   *)(& fdc_busy);
#line 916
  tmp = test_bit(0, __cil_tmp5);
  }
#line 916
  if (! tmp) {
    {
#line 917
    __cil_tmp6 = (int )current_drive;
#line 917
    printk("floppy%d: FDC access conflict!\n", __cil_tmp6);
    }
  } else {

  }
#line 919
  if (do_floppy) {
    {
#line 920
    __cil_tmp7 = (int )current_drive;
#line 920
    printk("floppy%d: device interrupt still active at FDC release: %p!\n", __cil_tmp7,
           do_floppy);
    }
  } else {

  }
  {
#line 922
  command_status = (int volatile   )-1;
#line 923
  spin_lock_irqsave(& floppy_lock, flags);
#line 924
  del_timer(& fd_timeout);
#line 925
  __cil_tmp8 = (void *)0;
#line 925
  cont = (struct cont_t *)__cil_tmp8;
#line 926
  __cil_tmp9 = (unsigned long volatile   *)(& fdc_busy);
#line 926
  clear_bit(0, __cil_tmp9);
#line 927
  tmp___0 = elv_next_request(floppy_queue);
  }
#line 927
  if (tmp___0) {
    {
#line 928
    __cil_tmp10 = & do_fd_request;
#line 928
    (*__cil_tmp10)(floppy_queue);
    }
  } else {

  }
  {
#line 929
  spin_unlock_irqrestore(& floppy_lock, flags);
#line 930
  wake_up(& fdc_wait);
  }
#line 931
  return;
}
}
#line 934 "drivers/block/floppy.c"
static void motor_off_callback(unsigned long nr ) 
{ unsigned char mask ;
  unsigned long __cil_tmp3 ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  int __cil_tmp8 ;
  char __cil_tmp9 ;

  {
  {
#line 936
  __cil_tmp3 = nr & 3UL;
#line 936
  __cil_tmp4 = 16 << __cil_tmp3;
#line 936
  __cil_tmp5 = ~ __cil_tmp4;
#line 936
  mask = (unsigned char )__cil_tmp5;
#line 938
  __cil_tmp6 = nr & 4UL;
#line 938
  __cil_tmp7 = __cil_tmp6 >> 2;
#line 938
  __cil_tmp8 = (int )__cil_tmp7;
#line 938
  __cil_tmp9 = (char )mask;
#line 938
  set_dor(__cil_tmp8, __cil_tmp9, (char)0);
  }
#line 939
  return;
}
}
#line 942 "drivers/block/floppy.c"
static void floppy_off(unsigned int drive ) 
{ unsigned long volatile   delta ;
  register int fdc___0 ;
  unsigned int __cil_tmp4 ;
  unsigned int __cil_tmp5 ;
  unsigned int __cil_tmp6 ;
  int __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned char __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  struct timer_list *__cil_tmp16 ;
  struct timer_list *__cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned char __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned char __cil_tmp36 ;
  unsigned long volatile   __cil_tmp37 ;
  unsigned long volatile   __cil_tmp38 ;
  unsigned long __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  unsigned long __cil_tmp41 ;
  unsigned char __cil_tmp42 ;
  unsigned long volatile   __cil_tmp43 ;
  unsigned long volatile   __cil_tmp44 ;
  unsigned long volatile   __cil_tmp45 ;
  unsigned long __cil_tmp46 ;
  unsigned long __cil_tmp47 ;
  unsigned long __cil_tmp48 ;
  unsigned long __cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  unsigned long __cil_tmp51 ;
  unsigned long __cil_tmp52 ;
  unsigned long __cil_tmp53 ;
  unsigned long __cil_tmp54 ;
  unsigned long __cil_tmp55 ;
  struct timer_list *__cil_tmp56 ;
  struct timer_list *__cil_tmp57 ;

  {
#line 945
  __cil_tmp4 = drive & 4U;
#line 945
  __cil_tmp5 = __cil_tmp4 >> 2;
#line 945
  fdc___0 = (int )__cil_tmp5;
  {
#line 947
  __cil_tmp6 = drive & 3U;
#line 947
  __cil_tmp7 = 16 << __cil_tmp6;
#line 947
  __cil_tmp8 = fdc___0 * 40UL;
#line 947
  __cil_tmp9 = __cil_tmp8 + 13;
#line 947
  __cil_tmp10 = (unsigned long )(fdc_state) + __cil_tmp9;
#line 947
  __cil_tmp11 = *((unsigned char *)__cil_tmp10);
#line 947
  __cil_tmp12 = (int )__cil_tmp11;
#line 947
  __cil_tmp13 = __cil_tmp12 & __cil_tmp7;
#line 947
  if (! __cil_tmp13) {
#line 948
    return;
  } else {

  }
  }
  {
#line 950
  __cil_tmp14 = 0 * 32UL;
#line 950
  __cil_tmp15 = (unsigned long )(motor_off_timer) + __cil_tmp14;
#line 950
  __cil_tmp16 = (struct timer_list *)__cil_tmp15;
#line 950
  __cil_tmp17 = __cil_tmp16 + drive;
#line 950
  del_timer(__cil_tmp17);
  }
  {
#line 954
  __cil_tmp18 = drive * 128UL;
#line 954
  __cil_tmp19 = __cil_tmp18 + 58;
#line 954
  __cil_tmp20 = (unsigned long )(drive_params) + __cil_tmp19;
#line 954
  if (*((unsigned char *)__cil_tmp20)) {
#line 955
    __cil_tmp21 = drive * 128UL;
#line 955
    __cil_tmp22 = __cil_tmp21 + 56;
#line 955
    __cil_tmp23 = (unsigned long )(drive_params) + __cil_tmp22;
#line 955
    __cil_tmp24 = *((unsigned char *)__cil_tmp23);
#line 955
    __cil_tmp25 = (unsigned long )__cil_tmp24;
#line 955
    __cil_tmp26 = drive * 80UL;
#line 955
    __cil_tmp27 = __cil_tmp26 + 24;
#line 955
    __cil_tmp28 = (unsigned long )(drive_state) + __cil_tmp27;
#line 955
    __cil_tmp29 = *((unsigned long *)__cil_tmp28);
#line 955
    __cil_tmp30 = jiffies - __cil_tmp29;
#line 955
    __cil_tmp31 = __cil_tmp30 + 100UL;
#line 955
    __cil_tmp32 = __cil_tmp31 - __cil_tmp25;
#line 955
    delta = (unsigned long volatile   )__cil_tmp32;
#line 957
    __cil_tmp33 = drive * 128UL;
#line 957
    __cil_tmp34 = __cil_tmp33 + 58;
#line 957
    __cil_tmp35 = (unsigned long )(drive_params) + __cil_tmp34;
#line 957
    __cil_tmp36 = *((unsigned char *)__cil_tmp35);
#line 957
    __cil_tmp37 = (unsigned long volatile   )__cil_tmp36;
#line 957
    __cil_tmp38 = (unsigned long volatile   )100;
#line 957
    __cil_tmp39 = drive * 128UL;
#line 957
    __cil_tmp40 = __cil_tmp39 + 58;
#line 957
    __cil_tmp41 = (unsigned long )(drive_params) + __cil_tmp40;
#line 957
    __cil_tmp42 = *((unsigned char *)__cil_tmp41);
#line 957
    __cil_tmp43 = (unsigned long volatile   )__cil_tmp42;
#line 957
    __cil_tmp44 = delta * __cil_tmp43;
#line 957
    __cil_tmp45 = __cil_tmp44 % __cil_tmp38;
#line 957
    delta = __cil_tmp45 / __cil_tmp37;
#line 958
    __cil_tmp46 = drive * 32UL;
#line 958
    __cil_tmp47 = (unsigned long )(motor_off_timer) + __cil_tmp46;
#line 958
    __cil_tmp48 = (unsigned long )delta;
#line 958
    __cil_tmp49 = drive * 128UL;
#line 958
    __cil_tmp50 = __cil_tmp49 + 48;
#line 958
    __cil_tmp51 = (unsigned long )(drive_params) + __cil_tmp50;
#line 958
    __cil_tmp52 = *((unsigned long *)__cil_tmp51);
#line 958
    __cil_tmp53 = jiffies + __cil_tmp52;
#line 958
    *((unsigned long *)__cil_tmp47) = __cil_tmp53 - __cil_tmp48;
  } else {

  }
  }
  {
#line 961
  __cil_tmp54 = 0 * 32UL;
#line 961
  __cil_tmp55 = (unsigned long )(motor_off_timer) + __cil_tmp54;
#line 961
  __cil_tmp56 = (struct timer_list *)__cil_tmp55;
#line 961
  __cil_tmp57 = __cil_tmp56 + drive;
#line 961
  add_timer(__cil_tmp57);
  }
#line 962
  return;
}
}
#line 969 "drivers/block/floppy.c"
static void scandrives(void) 
{ int i ;
  int drive ;
  int saved_drive ;
  int tmp ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  int __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned char __cil_tmp17 ;
  int __cil_tmp18 ;
  int __cil_tmp19 ;
  char __cil_tmp20 ;
  int __cil_tmp21 ;
  int __cil_tmp22 ;
  int __cil_tmp23 ;
  int __cil_tmp24 ;
  char __cil_tmp25 ;
  int __cil_tmp26 ;
  int __cil_tmp27 ;
  int __cil_tmp28 ;
  int __cil_tmp29 ;
  int __cil_tmp30 ;
  int __cil_tmp31 ;
  char __cil_tmp32 ;

  {
  {
#line 973
  __cil_tmp5 = current_drive * 128UL;
#line 973
  __cil_tmp6 = __cil_tmp5 + 57;
#line 973
  __cil_tmp7 = (unsigned long )(drive_params) + __cil_tmp6;
#line 973
  if (*((unsigned char *)__cil_tmp7)) {
#line 974
    return;
  } else {

  }
  }
#line 976
  saved_drive = (int )current_drive;
#line 977
  i = 0;
  {
#line 977
  while (1) {
    while_continue: /* CIL Label */ ;
#line 977
    if (i < 8) {

    } else {
#line 977
      goto while_break;
    }
#line 978
    __cil_tmp8 = saved_drive + i;
#line 978
    __cil_tmp9 = __cil_tmp8 + 1;
#line 978
    drive = __cil_tmp9 % 8;
    {
#line 979
    __cil_tmp10 = drive * 80UL;
#line 979
    __cil_tmp11 = __cil_tmp10 + 48;
#line 979
    __cil_tmp12 = (unsigned long )(drive_state) + __cil_tmp11;
#line 979
    __cil_tmp13 = *((int *)__cil_tmp12);
#line 979
    if (__cil_tmp13 == 0) {
#line 980
      goto __Cont;
    } else {
      {
#line 979
      __cil_tmp14 = drive * 128UL;
#line 979
      __cil_tmp15 = __cil_tmp14 + 57;
#line 979
      __cil_tmp16 = (unsigned long )(drive_params) + __cil_tmp15;
#line 979
      __cil_tmp17 = *((unsigned char *)__cil_tmp16);
#line 979
      __cil_tmp18 = (int )__cil_tmp17;
#line 979
      if (__cil_tmp18 != 0) {
#line 980
        goto __Cont;
      } else {

      }
      }
    }
    }
    {
#line 981
    set_fdc(drive);
#line 982
    __cil_tmp19 = ~ 3;
#line 982
    __cil_tmp20 = (char )__cil_tmp19;
#line 982
    __cil_tmp21 = drive & 3;
#line 982
    __cil_tmp22 = 16 << __cil_tmp21;
#line 982
    __cil_tmp23 = drive & 3;
#line 982
    __cil_tmp24 = __cil_tmp23 | __cil_tmp22;
#line 982
    __cil_tmp25 = (char )__cil_tmp24;
#line 982
    tmp = set_dor(fdc, __cil_tmp20, __cil_tmp25);
    }
    {
#line 982
    __cil_tmp26 = drive & 3;
#line 982
    __cil_tmp27 = 16 << __cil_tmp26;
#line 982
    __cil_tmp28 = tmp & __cil_tmp27;
#line 982
    if (! __cil_tmp28) {
      {
#line 986
      __cil_tmp29 = drive & 3;
#line 986
      __cil_tmp30 = 16 << __cil_tmp29;
#line 986
      __cil_tmp31 = ~ __cil_tmp30;
#line 986
      __cil_tmp32 = (char )__cil_tmp31;
#line 986
      set_dor(fdc, __cil_tmp32, (char)0);
      }
    } else {

    }
    }
    __Cont: 
#line 977
    i = i + 1;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 988
  set_fdc(saved_drive);
  }
#line 989
  return;
}
}
#line 991 "drivers/block/floppy.c"
static void empty(void) 
{ 

  {
#line 993
  return;
}
}
#line 995 "drivers/block/floppy.c"
static struct work_struct floppy_work  =    {0UL, (void (*)(void * ))((void *)0), (void *)0, 1};
#line 997 "drivers/block/floppy.c"
static void schedule_bh(void (*handler)(void) ) 
{ unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;

  {
  {
#line 999
  while (1) {
    while_continue: /* CIL Label */ ;
#line 999
    __cil_tmp2 = (unsigned long )(& floppy_work) + 8;
#line 999
    *((void (**)(void * ))__cil_tmp2) = (void (*)(void * ))handler;
#line 999
    __cil_tmp3 = (unsigned long )(& floppy_work) + 16;
#line 999
    *((void **)__cil_tmp3) = (void *)0;
#line 999
    __cil_tmp4 = (unsigned long )(& floppy_work) + 24;
#line 999
    *((int *)__cil_tmp4) = 1;
#line 999
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1000
  schedule_work(& floppy_work);
  }
#line 1001
  return;
}
}
#line 1003 "drivers/block/floppy.c"
static struct timer_list fd_timer  =    {0UL, (void (*)(unsigned long  ))((void *)0), 0UL, (short)0, (short)1};
#line 1005 "drivers/block/floppy.c"
static void cancel_activity(void) 
{ unsigned long flags ;
  void *__cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  void *__cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;

  {
  {
#line 1009
  spin_lock_irqsave(& floppy_lock, flags);
#line 1010
  __cil_tmp2 = (void *)0;
#line 1010
  do_floppy = (void (*)(void))__cil_tmp2;
  }
  {
#line 1011
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1011
    __cil_tmp3 = (unsigned long )(& floppy_work) + 8;
#line 1011
    __cil_tmp4 = (void *)(& empty);
#line 1011
    *((void (**)(void * ))__cil_tmp3) = (void (*)(void * ))__cil_tmp4;
#line 1011
    __cil_tmp5 = (unsigned long )(& floppy_work) + 16;
#line 1011
    *((void **)__cil_tmp5) = (void *)0;
#line 1011
    __cil_tmp6 = (unsigned long )(& floppy_work) + 24;
#line 1011
    *((int *)__cil_tmp6) = 1;
#line 1011
    goto while_break;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1012
  del_timer(& fd_timer);
#line 1013
  spin_unlock_irqrestore(& floppy_lock, flags);
  }
#line 1014
  return;
}
}
#line 1018 "drivers/block/floppy.c"
static void fd_watchdog(void) 
{ int tmp ;
  unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  char __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  void (*__cil_tmp12)(int  ) ;
  void (*__cil_tmp13)(void) ;
  unsigned long __cil_tmp14 ;
  struct timer_list *__cil_tmp15 ;

  {
  {
#line 1021
  __cil_tmp2 = current_drive * 128UL;
#line 1021
  __cil_tmp3 = __cil_tmp2 + 96;
#line 1021
  __cil_tmp4 = (unsigned long )(drive_params) + __cil_tmp3;
#line 1021
  __cil_tmp5 = *((char *)__cil_tmp4);
#line 1021
  __cil_tmp6 = (int )__cil_tmp5;
#line 1021
  if (__cil_tmp6 & 2) {
    {
#line 1022
    __cil_tmp7 = (int )current_drive;
#line 1022
    printk("floppy%d: calling disk change from watchdog\n", __cil_tmp7);
    }
  } else {

  }
  }
  {
#line 1026
  __cil_tmp8 = (int )current_drive;
#line 1026
  tmp = disk_change(__cil_tmp8);
  }
#line 1026
  if (tmp) {
    {
#line 1027
    __cil_tmp9 = (int )current_drive;
#line 1027
    printk("floppy%d: disk removed during i/o\n", __cil_tmp9);
#line 1028
    cancel_activity();
#line 1029
    __cil_tmp10 = (unsigned long )cont;
#line 1029
    __cil_tmp11 = __cil_tmp10 + 24;
#line 1029
    __cil_tmp12 = *((void (**)(int  ))__cil_tmp11);
#line 1029
    (*__cil_tmp12)(0);
#line 1030
    __cil_tmp13 = & reset_fdc;
#line 1030
    (*__cil_tmp13)();
    }
  } else {
    {
#line 1032
    del_timer(& fd_timer);
#line 1033
    __cil_tmp14 = (unsigned long )(& fd_timer) + 8;
#line 1033
    *((void (**)(unsigned long  ))__cil_tmp14) = (void (*)(unsigned long  ))(& fd_watchdog);
#line 1034
    __cil_tmp15 = & fd_timer;
#line 1034
    *((unsigned long *)__cil_tmp15) = jiffies + 10UL;
#line 1035
    add_timer(& fd_timer);
    }
  }
#line 1037
  return;
}
}
#line 1039 "drivers/block/floppy.c"
static void main_command_interrupt(void) 
{ void (*__cil_tmp1)(void) ;

  {
  {
#line 1041
  del_timer(& fd_timer);
#line 1042
  __cil_tmp1 = *((void (**)(void))cont);
#line 1042
  (*__cil_tmp1)();
  }
#line 1043
  return;
}
}
#line 1046 "drivers/block/floppy.c"
static int fd_wait_for_completion(unsigned long delay , void (*function)(unsigned long  ) ) 
{ unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  void (*__cil_tmp5)(void) ;
  long __cil_tmp6 ;
  long __cil_tmp7 ;
  long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  struct timer_list *__cil_tmp10 ;

  {
  {
#line 1048
  __cil_tmp3 = fdc * 40UL;
#line 1048
  __cil_tmp4 = (unsigned long )(fdc_state) + __cil_tmp3;
#line 1048
  if (((struct floppy_fdc_state *)__cil_tmp4)->reset) {
    {
#line 1049
    __cil_tmp5 = & reset_fdc;
#line 1049
    (*__cil_tmp5)();
    }
#line 1052
    return (1);
  } else {

  }
  }
  {
#line 1055
  __cil_tmp6 = (long )delay;
#line 1055
  __cil_tmp7 = (long )jiffies;
#line 1055
  __cil_tmp8 = __cil_tmp7 - __cil_tmp6;
#line 1055
  if (__cil_tmp8 < 0L) {
    {
#line 1056
    del_timer(& fd_timer);
#line 1057
    __cil_tmp9 = (unsigned long )(& fd_timer) + 8;
#line 1057
    *((void (**)(unsigned long  ))__cil_tmp9) = function;
#line 1058
    __cil_tmp10 = & fd_timer;
#line 1058
    *((unsigned long *)__cil_tmp10) = delay;
#line 1059
    add_timer(& fd_timer);
    }
#line 1060
    return (1);
  } else {

  }
  }
#line 1062
  return (0);
}
}
#line 1065 "drivers/block/floppy.c"
static spinlock_t floppy_hlt_lock  =    {1, 0};
#line 1066 "drivers/block/floppy.c"
static int hlt_disabled  ;
#line 1067 "drivers/block/floppy.c"
static void floppy_disable_hlt(void) 
{ unsigned long flags ;

  {
  {
#line 1071
  spin_lock_irqsave(& floppy_hlt_lock, flags);
  }
#line 1072
  if (! hlt_disabled) {
#line 1073
    hlt_disabled = 1;
  } else {

  }
  {
#line 1078
  spin_unlock_irqrestore(& floppy_hlt_lock, flags);
  }
#line 1079
  return;
}
}
#line 1081 "drivers/block/floppy.c"
static void floppy_enable_hlt(void) 
{ unsigned long flags ;

  {
  {
#line 1085
  spin_lock_irqsave(& floppy_hlt_lock, flags);
  }
#line 1086
  if (hlt_disabled) {
#line 1087
    hlt_disabled = 0;
  } else {

  }
  {
#line 1092
  spin_unlock_irqrestore(& floppy_hlt_lock, flags);
  }
#line 1093
  return;
}
}
#line 1118
extern int claim_dma_lock() ;
#line 1119
extern int fd_disable_dma() ;
#line 1131
extern int fd_clear_dma_ff() ;
#line 1132
extern int fd_cacheflush() ;
#line 1133
extern int fd_set_dma_mode() ;
#line 1135
extern int fd_set_dma_addr() ;
#line 1136
extern int fd_set_dma_count() ;
#line 1138
extern int fd_enable_dma() ;
#line 1139
extern int release_dma_lock() ;
#line 1095 "drivers/block/floppy.c"
static void setup_DMA(void) 
{ unsigned long f ;
  int i ;
  int tmp ;
  int tmp___0 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned char __cil_tmp10 ;
  int __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned char __cil_tmp16 ;
  int __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  void (*__cil_tmp20)(int  ) ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  char *__cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  char *__cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  void (*__cil_tmp32)(int  ) ;
  unsigned long __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned long __cil_tmp36 ;
  char *__cil_tmp37 ;
  unsigned long __cil_tmp38 ;
  unsigned long __cil_tmp39 ;
  long __cil_tmp40 ;
  unsigned int __cil_tmp41 ;
  unsigned long __cil_tmp42 ;
  unsigned long __cil_tmp43 ;
  char *__cil_tmp44 ;
  unsigned long __cil_tmp45 ;
  unsigned long __cil_tmp46 ;
  long __cil_tmp47 ;
  unsigned long __cil_tmp48 ;
  unsigned long __cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  unsigned long __cil_tmp51 ;

  {
  {
#line 1100
  __cil_tmp5 = (unsigned long )raw_cmd;
#line 1100
  __cil_tmp6 = __cil_tmp5 + 32;
#line 1100
  __cil_tmp7 = *((long *)__cil_tmp6);
#line 1100
  if (__cil_tmp7 == 0L) {
    {
#line 1103
    printk("zero dma transfer size:");
#line 1104
    i = 0;
    }
    {
#line 1104
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 1104
      __cil_tmp8 = (unsigned long )raw_cmd;
#line 1104
      __cil_tmp9 = __cil_tmp8 + 53;
#line 1104
      __cil_tmp10 = *((unsigned char *)__cil_tmp9);
#line 1104
      __cil_tmp11 = (int )__cil_tmp10;
#line 1104
      if (i < __cil_tmp11) {

      } else {
#line 1104
        goto while_break;
      }
      }
      {
#line 1105
      __cil_tmp12 = i * 1UL;
#line 1105
      __cil_tmp13 = 54 + __cil_tmp12;
#line 1105
      __cil_tmp14 = (unsigned long )raw_cmd;
#line 1105
      __cil_tmp15 = __cil_tmp14 + __cil_tmp13;
#line 1105
      __cil_tmp16 = *((unsigned char *)__cil_tmp15);
#line 1105
      __cil_tmp17 = (int )__cil_tmp16;
#line 1105
      printk("%x,", __cil_tmp17);
#line 1104
      i = i + 1;
      }
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 1106
    printk("\n");
#line 1107
    __cil_tmp18 = (unsigned long )cont;
#line 1107
    __cil_tmp19 = __cil_tmp18 + 24;
#line 1107
    __cil_tmp20 = *((void (**)(int  ))__cil_tmp19);
#line 1107
    (*__cil_tmp20)(0);
#line 1108
    __cil_tmp21 = fdc * 40UL;
#line 1108
    __cil_tmp22 = (unsigned long )(fdc_state) + __cil_tmp21;
#line 1108
    ((struct floppy_fdc_state *)__cil_tmp22)->reset = 1U;
    }
#line 1109
    return;
  } else {

  }
  }
  {
#line 1111
  __cil_tmp23 = (unsigned long )raw_cmd;
#line 1111
  __cil_tmp24 = __cil_tmp23 + 16;
#line 1111
  __cil_tmp25 = *((char **)__cil_tmp24);
#line 1111
  __cil_tmp26 = (unsigned long )__cil_tmp25;
#line 1111
  if (__cil_tmp26 % 512UL) {
    {
#line 1112
    __cil_tmp27 = (unsigned long )raw_cmd;
#line 1112
    __cil_tmp28 = __cil_tmp27 + 16;
#line 1112
    __cil_tmp29 = *((char **)__cil_tmp28);
#line 1112
    printk("non aligned address: %p\n", __cil_tmp29);
#line 1113
    __cil_tmp30 = (unsigned long )cont;
#line 1113
    __cil_tmp31 = __cil_tmp30 + 24;
#line 1113
    __cil_tmp32 = *((void (**)(int  ))__cil_tmp31);
#line 1113
    (*__cil_tmp32)(0);
#line 1114
    __cil_tmp33 = fdc * 40UL;
#line 1114
    __cil_tmp34 = (unsigned long )(fdc_state) + __cil_tmp33;
#line 1114
    ((struct floppy_fdc_state *)__cil_tmp34)->reset = 1U;
    }
#line 1115
    return;
  } else {

  }
  }
  {
#line 1118
  tmp = claim_dma_lock();
#line 1118
  f = (unsigned long )tmp;
#line 1119
  fd_disable_dma();
#line 1131
  fd_clear_dma_ff();
#line 1132
  __cil_tmp35 = (unsigned long )raw_cmd;
#line 1132
  __cil_tmp36 = __cil_tmp35 + 16;
#line 1132
  __cil_tmp37 = *((char **)__cil_tmp36);
#line 1132
  __cil_tmp38 = (unsigned long )raw_cmd;
#line 1132
  __cil_tmp39 = __cil_tmp38 + 32;
#line 1132
  __cil_tmp40 = *((long *)__cil_tmp39);
#line 1132
  fd_cacheflush(__cil_tmp37, __cil_tmp40);
  }
  {
#line 1133
  __cil_tmp41 = *((unsigned int *)raw_cmd);
#line 1133
  if (__cil_tmp41 & 1U) {
#line 1133
    tmp___0 = 68;
  } else {
#line 1133
    tmp___0 = 72;
  }
  }
  {
#line 1133
  fd_set_dma_mode(tmp___0);
#line 1135
  __cil_tmp42 = (unsigned long )raw_cmd;
#line 1135
  __cil_tmp43 = __cil_tmp42 + 16;
#line 1135
  __cil_tmp44 = *((char **)__cil_tmp43);
#line 1135
  fd_set_dma_addr(__cil_tmp44);
#line 1136
  __cil_tmp45 = (unsigned long )raw_cmd;
#line 1136
  __cil_tmp46 = __cil_tmp45 + 32;
#line 1136
  __cil_tmp47 = *((long *)__cil_tmp46);
#line 1136
  fd_set_dma_count(__cil_tmp47);
#line 1137
  __cil_tmp48 = fdc * 40UL;
#line 1137
  __cil_tmp49 = __cil_tmp48 + 16;
#line 1137
  __cil_tmp50 = (unsigned long )(fdc_state) + __cil_tmp49;
#line 1137
  __cil_tmp51 = *((unsigned long *)__cil_tmp50);
#line 1137
  virtual_dma_port = (unsigned short )__cil_tmp51;
#line 1138
  fd_enable_dma();
#line 1139
  release_dma_lock(f);
#line 1141
  floppy_disable_hlt();
  }
#line 1142
  return;
}
}
#line 1144
static void show_floppy(void) ;
#line 1147 "drivers/block/floppy.c"
static int wait_til_ready(void) 
{ int counter ;
  int status ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  int __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;

  {
  {
#line 1150
  __cil_tmp3 = fdc * 40UL;
#line 1150
  __cil_tmp4 = (unsigned long )(fdc_state) + __cil_tmp3;
#line 1150
  if (((struct floppy_fdc_state *)__cil_tmp4)->reset) {
#line 1151
    return (-1);
  } else {

  }
  }
#line 1152
  counter = 0;
  {
#line 1152
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1152
    if (counter < 10000) {

    } else {
#line 1152
      goto while_break;
    }
    {
#line 1153
    __cil_tmp5 = fdc * 40UL;
#line 1153
    __cil_tmp6 = __cil_tmp5 + 16;
#line 1153
    __cil_tmp7 = (unsigned long )(fdc_state) + __cil_tmp6;
#line 1153
    __cil_tmp8 = *((unsigned long *)__cil_tmp7);
#line 1153
    __cil_tmp9 = 4UL + __cil_tmp8;
#line 1153
    status = fd_inb(__cil_tmp9);
    }
#line 1154
    if (status & 128) {
#line 1155
      return (status);
    } else {

    }
#line 1152
    counter = counter + 1;
  }
  while_break: /* CIL Label */ ;
  }
#line 1157
  if (! initialising) {
    {
#line 1158
    __cil_tmp10 = (int )current_drive;
#line 1158
    printk("floppy%d: Getstatus times out (%x) on fdc %d\n", __cil_tmp10, status,
           fdc);
#line 1159
    show_floppy();
    }
  } else {

  }
#line 1161
  __cil_tmp11 = fdc * 40UL;
#line 1161
  __cil_tmp12 = (unsigned long )(fdc_state) + __cil_tmp11;
#line 1161
  ((struct floppy_fdc_state *)__cil_tmp12)->reset = 1U;
#line 1162
  return (-1);
}
}
#line 1166 "drivers/block/floppy.c"
static int output_byte(char byte ) 
{ int status ;
  int __cil_tmp3 ;
  int __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  int __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  int __cil_tmp21 ;
  int __cil_tmp22 ;

  {
  {
#line 1170
  status = wait_til_ready();
  }
#line 1170
  if (status < 0) {
#line 1171
    return (-1);
  } else {

  }
  {
#line 1172
  __cil_tmp3 = status & 224;
#line 1172
  if (__cil_tmp3 == 128) {
    {
#line 1173
    __cil_tmp4 = (int )byte;
#line 1173
    __cil_tmp5 = fdc * 40UL;
#line 1173
    __cil_tmp6 = __cil_tmp5 + 16;
#line 1173
    __cil_tmp7 = (unsigned long )(fdc_state) + __cil_tmp6;
#line 1173
    __cil_tmp8 = *((unsigned long *)__cil_tmp7);
#line 1173
    __cil_tmp9 = 5UL + __cil_tmp8;
#line 1173
    fd_outb(__cil_tmp4, __cil_tmp9);
#line 1175
    __cil_tmp10 = output_log_pos * 16UL;
#line 1175
    __cil_tmp11 = (unsigned long )(output_log) + __cil_tmp10;
#line 1175
    *((unsigned char *)__cil_tmp11) = (unsigned char )byte;
#line 1176
    __cil_tmp12 = output_log_pos * 16UL;
#line 1176
    __cil_tmp13 = __cil_tmp12 + 1;
#line 1176
    __cil_tmp14 = (unsigned long )(output_log) + __cil_tmp13;
#line 1176
    *((unsigned char *)__cil_tmp14) = (unsigned char )status;
#line 1177
    __cil_tmp15 = output_log_pos * 16UL;
#line 1177
    __cil_tmp16 = __cil_tmp15 + 8;
#line 1177
    __cil_tmp17 = (unsigned long )(output_log) + __cil_tmp16;
#line 1177
    *((unsigned long *)__cil_tmp17) = jiffies;
#line 1178
    __cil_tmp18 = output_log_pos + 1;
#line 1178
    output_log_pos = __cil_tmp18 % 20;
    }
#line 1180
    return (0);
  } else {

  }
  }
#line 1182
  __cil_tmp19 = fdc * 40UL;
#line 1182
  __cil_tmp20 = (unsigned long )(fdc_state) + __cil_tmp19;
#line 1182
  ((struct floppy_fdc_state *)__cil_tmp20)->reset = 1U;
#line 1183
  if (! initialising) {
    {
#line 1184
    __cil_tmp21 = (int )current_drive;
#line 1184
    __cil_tmp22 = (int )byte;
#line 1184
    printk("floppy%d: Unable to send byte %x to FDC. Fdc=%x Status=%x\n", __cil_tmp21,
           __cil_tmp22, fdc, status);
#line 1186
    show_floppy();
    }
  } else {

  }
#line 1188
  return (-1);
}
}
#line 1194 "drivers/block/floppy.c"
static int result(void) 
{ int i ;
  int status ;
  int tmp ;
  int __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  int __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;

  {
#line 1196
  status = 0;
#line 1198
  i = 0;
  {
#line 1198
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1198
    if (i < 16) {

    } else {
#line 1198
      goto while_break;
    }
    {
#line 1199
    status = wait_til_ready();
    }
#line 1199
    if (status < 0) {
#line 1200
      goto while_break;
    } else {

    }
#line 1201
    status = status & 240;
    {
#line 1202
    __cil_tmp4 = status & -17;
#line 1202
    if (__cil_tmp4 == 128) {
#line 1204
      resultjiffies = jiffies;
#line 1205
      resultsize = i;
#line 1207
      return (i);
    } else {

    }
    }
#line 1209
    if (status == 208) {
      {
#line 1210
      __cil_tmp5 = fdc * 40UL;
#line 1210
      __cil_tmp6 = __cil_tmp5 + 16;
#line 1210
      __cil_tmp7 = (unsigned long )(fdc_state) + __cil_tmp6;
#line 1210
      __cil_tmp8 = *((unsigned long *)__cil_tmp7);
#line 1210
      __cil_tmp9 = 5UL + __cil_tmp8;
#line 1210
      tmp = fd_inb(__cil_tmp9);
#line 1210
      __cil_tmp10 = i * 1UL;
#line 1210
      __cil_tmp11 = (unsigned long )(reply_buffer) + __cil_tmp10;
#line 1210
      *((unsigned char *)__cil_tmp11) = (unsigned char )tmp;
      }
    } else {
#line 1212
      goto while_break;
    }
#line 1198
    i = i + 1;
  }
  while_break: /* CIL Label */ ;
  }
#line 1214
  if (! initialising) {
    {
#line 1215
    __cil_tmp12 = (int )current_drive;
#line 1215
    printk("floppy%d: get result error. Fdc=%d Last status=%x Read bytes=%d\n", __cil_tmp12,
           fdc, status, i);
#line 1218
    show_floppy();
    }
  } else {

  }
#line 1220
  __cil_tmp13 = fdc * 40UL;
#line 1220
  __cil_tmp14 = (unsigned long )(fdc_state) + __cil_tmp13;
#line 1220
  ((struct floppy_fdc_state *)__cil_tmp14)->reset = 1U;
#line 1221
  return (-1);
}
}
#line 1226 "drivers/block/floppy.c"
static int need_more_output(void) 
{ int status ;
  int tmp ;
  int __cil_tmp3 ;

  {
  {
#line 1229
  status = wait_til_ready();
  }
#line 1229
  if (status < 0) {
#line 1230
    return (-1);
  } else {

  }
  {
#line 1231
  __cil_tmp3 = status & 224;
#line 1231
  if (__cil_tmp3 == 128) {
#line 1232
    return (-2);
  } else {

  }
  }
  {
#line 1233
  tmp = result();
  }
#line 1233
  return (tmp);
}
}
#line 1239 "drivers/block/floppy.c"
__inline static void perpendicular_mode(void) 
{ unsigned char perp_mode ;
  unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  unsigned char __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned char __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  void (*__cil_tmp13)(int  ) ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned int __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned char __cil_tmp23 ;
  int __cil_tmp24 ;
  char __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  int __cil_tmp28 ;

  {
  {
#line 1243
  __cil_tmp2 = (unsigned long )raw_cmd;
#line 1243
  __cil_tmp3 = __cil_tmp2 + 52;
#line 1243
  __cil_tmp4 = *((unsigned char *)__cil_tmp3);
#line 1243
  __cil_tmp5 = (int )__cil_tmp4;
#line 1243
  if (__cil_tmp5 & 64) {
    {
#line 1244
    __cil_tmp6 = (unsigned long )raw_cmd;
#line 1244
    __cil_tmp7 = __cil_tmp6 + 52;
#line 1244
    __cil_tmp8 = *((unsigned char *)__cil_tmp7);
#line 1244
    __cil_tmp9 = (int )__cil_tmp8;
    {
#line 1245
    if ((__cil_tmp9 & 3) == 0) {
#line 1245
      goto case_0;
    } else {

    }
#line 1248
    if ((__cil_tmp9 & 3) == 3) {
#line 1248
      goto case_3;
    } else {

    }
#line 1251
    goto switch_default;
    case_0: /* CIL Label */ 
#line 1246
    perp_mode = (unsigned char)2;
#line 1247
    goto switch_break;
    case_3: /* CIL Label */ 
#line 1249
    perp_mode = (unsigned char)3;
#line 1250
    goto switch_break;
    switch_default: /* CIL Label */ 
    {
#line 1252
    __cil_tmp10 = (int )current_drive;
#line 1252
    printk("floppy%d: Invalid data rate for perpendicular mode!\n", __cil_tmp10);
#line 1253
    __cil_tmp11 = (unsigned long )cont;
#line 1253
    __cil_tmp12 = __cil_tmp11 + 24;
#line 1253
    __cil_tmp13 = *((void (**)(int  ))__cil_tmp12);
#line 1253
    (*__cil_tmp13)(0);
#line 1254
    __cil_tmp14 = fdc * 40UL;
#line 1254
    __cil_tmp15 = (unsigned long )(fdc_state) + __cil_tmp14;
#line 1254
    ((struct floppy_fdc_state *)__cil_tmp15)->reset = 1U;
    }
#line 1257
    return;
    switch_break: /* CIL Label */ ;
    }
    }
  } else {
#line 1260
    perp_mode = (unsigned char)0;
  }
  }
  {
#line 1262
  __cil_tmp16 = (unsigned int )perp_mode;
#line 1262
  __cil_tmp17 = fdc * 40UL;
#line 1262
  __cil_tmp18 = (unsigned long )(fdc_state) + __cil_tmp17;
#line 1262
  __cil_tmp19 = ((struct floppy_fdc_state *)__cil_tmp18)->perp_mode;
#line 1262
  if (__cil_tmp19 == __cil_tmp16) {
#line 1263
    return;
  } else {

  }
  }
  {
#line 1264
  __cil_tmp20 = fdc * 40UL;
#line 1264
  __cil_tmp21 = __cil_tmp20 + 12;
#line 1264
  __cil_tmp22 = (unsigned long )(fdc_state) + __cil_tmp21;
#line 1264
  __cil_tmp23 = *((unsigned char *)__cil_tmp22);
#line 1264
  __cil_tmp24 = (int )__cil_tmp23;
#line 1264
  if (__cil_tmp24 >= 81) {
    {
#line 1265
    output_byte((char)18);
#line 1266
    __cil_tmp25 = (char )perp_mode;
#line 1266
    output_byte(__cil_tmp25);
#line 1267
    __cil_tmp26 = fdc * 40UL;
#line 1267
    __cil_tmp27 = (unsigned long )(fdc_state) + __cil_tmp26;
#line 1267
    ((struct floppy_fdc_state *)__cil_tmp27)->perp_mode = (unsigned int )perp_mode;
    }
  } else
#line 1268
  if (perp_mode) {
    {
#line 1269
    __cil_tmp28 = (int )current_drive;
#line 1269
    printk("floppy%d: perpendicular mode not supported by this FDC.\n", __cil_tmp28);
    }
  } else {

  }
  }
#line 1271
  return;
}
}
#line 1273 "drivers/block/floppy.c"
static int fifo_depth  =    10;
#line 1274 "drivers/block/floppy.c"
static int no_fifo  ;
#line 1276 "drivers/block/floppy.c"
static int fdc_configure(void) 
{ int tmp ;
  int *__cil_tmp2 ;
  int __cil_tmp3 ;
  int __cil_tmp4 ;
  int *__cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  char __cil_tmp10 ;

  {
  {
#line 1279
  output_byte((char)19);
#line 1280
  tmp = need_more_output();
  }
#line 1280
  if (tmp != -2) {
#line 1281
    return (0);
  } else {

  }
  {
#line 1282
  output_byte((char)0);
#line 1283
  __cil_tmp2 = & fifo_depth;
#line 1283
  __cil_tmp3 = *__cil_tmp2;
#line 1283
  __cil_tmp4 = __cil_tmp3 & 15;
#line 1283
  __cil_tmp5 = & no_fifo;
#line 1283
  __cil_tmp6 = *__cil_tmp5;
#line 1283
  __cil_tmp7 = __cil_tmp6 & 32;
#line 1283
  __cil_tmp8 = 16 | __cil_tmp7;
#line 1283
  __cil_tmp9 = __cil_tmp8 | __cil_tmp4;
#line 1283
  __cil_tmp10 = (char )__cil_tmp9;
#line 1283
  output_byte(__cil_tmp10);
#line 1284
  output_byte((char)0);
  }
#line 1286
  return (1);
}
}
#line 1310 "drivers/block/floppy.c"
static void fdc_specify(void) 
{ unsigned char spec1 ;
  unsigned char spec2 ;
  unsigned long srt ;
  unsigned long hlt ;
  unsigned long hut ;
  unsigned long dtr ;
  unsigned long scale_dtr ;
  int hlt_max_code ;
  int hut_max_code ;
  int tmp ;
  int __x ;
  int __y ;
  int tmp___0 ;
  int __x___0 ;
  int __y___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned char __cil_tmp24 ;
  int __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned char __cil_tmp30 ;
  int __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned char __cil_tmp35 ;
  int __cil_tmp36 ;
  int __cil_tmp37 ;
  int __cil_tmp38 ;
  char __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  unsigned long __cil_tmp41 ;
  unsigned long __cil_tmp42 ;
  unsigned char __cil_tmp43 ;
  int __cil_tmp44 ;
  unsigned long __cil_tmp45 ;
  unsigned long __cil_tmp46 ;
  unsigned long __cil_tmp47 ;
  unsigned long __cil_tmp48 ;
  unsigned long __cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  unsigned long __cil_tmp51 ;
  unsigned long __cil_tmp52 ;
  unsigned long __cil_tmp53 ;
  int *__cil_tmp54 ;
  unsigned long __cil_tmp55 ;
  unsigned long __cil_tmp56 ;
  unsigned long __cil_tmp57 ;
  unsigned long __cil_tmp58 ;
  unsigned long __cil_tmp59 ;
  unsigned long __cil_tmp60 ;
  unsigned long __cil_tmp61 ;
  unsigned long __cil_tmp62 ;
  unsigned long __cil_tmp63 ;
  unsigned long __cil_tmp64 ;
  unsigned long __cil_tmp65 ;
  unsigned long __cil_tmp66 ;
  unsigned long __cil_tmp67 ;
  unsigned long __cil_tmp68 ;
  unsigned long __cil_tmp69 ;
  unsigned long __cil_tmp70 ;
  unsigned long __cil_tmp71 ;
  unsigned long __cil_tmp72 ;
  int __cil_tmp73 ;
  unsigned long __cil_tmp74 ;
  unsigned long __cil_tmp75 ;
  unsigned long __cil_tmp76 ;
  int __cil_tmp77 ;
  unsigned long __cil_tmp78 ;
  unsigned long __cil_tmp79 ;
  int __cil_tmp80 ;
  int __cil_tmp81 ;
  unsigned long __cil_tmp82 ;
  unsigned long __cil_tmp83 ;
  unsigned long __cil_tmp84 ;
  int __cil_tmp85 ;
  unsigned long __cil_tmp86 ;
  unsigned long __cil_tmp87 ;
  char __cil_tmp88 ;
  unsigned long __cil_tmp89 ;
  unsigned long __cil_tmp90 ;
  unsigned long __cil_tmp91 ;
  char __cil_tmp92 ;

  {
#line 1314
  dtr = 500UL;
#line 1315
  scale_dtr = 500UL;
#line 1316
  hlt_max_code = 127;
#line 1317
  hut_max_code = 15;
  {
#line 1319
  __cil_tmp19 = fdc * 40UL;
#line 1319
  __cil_tmp20 = (unsigned long )(fdc_state) + __cil_tmp19;
#line 1319
  if (((struct floppy_fdc_state *)__cil_tmp20)->need_configure) {
    {
#line 1319
    __cil_tmp21 = fdc * 40UL;
#line 1319
    __cil_tmp22 = __cil_tmp21 + 12;
#line 1319
    __cil_tmp23 = (unsigned long )(fdc_state) + __cil_tmp22;
#line 1319
    __cil_tmp24 = *((unsigned char *)__cil_tmp23);
#line 1319
    __cil_tmp25 = (int )__cil_tmp24;
#line 1319
    if (__cil_tmp25 >= 69) {
      {
#line 1320
      fdc_configure();
#line 1321
      __cil_tmp26 = fdc * 40UL;
#line 1321
      __cil_tmp27 = (unsigned long )(fdc_state) + __cil_tmp26;
#line 1321
      ((struct floppy_fdc_state *)__cil_tmp27)->need_configure = 0U;
      }
    } else {

    }
    }
  } else {

  }
  }
  {
#line 1325
  __cil_tmp28 = (unsigned long )raw_cmd;
#line 1325
  __cil_tmp29 = __cil_tmp28 + 52;
#line 1325
  __cil_tmp30 = *((unsigned char *)__cil_tmp29);
#line 1325
  __cil_tmp31 = (int )__cil_tmp30;
  {
#line 1326
  if ((__cil_tmp31 & 3) == 3) {
#line 1326
    goto case_3;
  } else {

  }
#line 1329
  if ((__cil_tmp31 & 3) == 1) {
#line 1329
    goto case_1;
  } else {

  }
#line 1341
  if ((__cil_tmp31 & 3) == 2) {
#line 1341
    goto case_2;
  } else {

  }
#line 1325
  goto switch_break;
  case_3: /* CIL Label */ 
#line 1327
  dtr = 1000UL;
#line 1328
  goto switch_break;
  case_1: /* CIL Label */ 
#line 1330
  dtr = 300UL;
  {
#line 1331
  __cil_tmp32 = fdc * 40UL;
#line 1331
  __cil_tmp33 = __cil_tmp32 + 12;
#line 1331
  __cil_tmp34 = (unsigned long )(fdc_state) + __cil_tmp33;
#line 1331
  __cil_tmp35 = *((unsigned char *)__cil_tmp34);
#line 1331
  __cil_tmp36 = (int )__cil_tmp35;
#line 1331
  if (__cil_tmp36 >= 96) {
    {
#line 1334
    output_byte((char)-114);
#line 1335
    tmp = need_more_output();
    }
#line 1335
    if (tmp == -2) {
      {
#line 1336
      __cil_tmp37 = (int )current_drive;
#line 1336
      __cil_tmp38 = __cil_tmp37 & 3;
#line 1336
      __cil_tmp39 = (char )__cil_tmp38;
#line 1336
      output_byte(__cil_tmp39);
#line 1337
      output_byte((char)-64);
      }
    } else {

    }
  } else {

  }
  }
#line 1340
  goto switch_break;
  case_2: /* CIL Label */ 
#line 1342
  dtr = 250UL;
#line 1343
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
  }
  {
#line 1346
  __cil_tmp40 = fdc * 40UL;
#line 1346
  __cil_tmp41 = __cil_tmp40 + 12;
#line 1346
  __cil_tmp42 = (unsigned long )(fdc_state) + __cil_tmp41;
#line 1346
  __cil_tmp43 = *((unsigned char *)__cil_tmp42);
#line 1346
  __cil_tmp44 = (int )__cil_tmp43;
#line 1346
  if (__cil_tmp44 >= 64) {
#line 1347
    scale_dtr = dtr;
#line 1348
    hlt_max_code = 0;
#line 1349
    hut_max_code = 0;
  } else {

  }
  }
#line 1353
  __cil_tmp45 = current_drive * 128UL;
#line 1353
  __cil_tmp46 = __cil_tmp45 + 32;
#line 1353
  __cil_tmp47 = (unsigned long )(drive_params) + __cil_tmp46;
#line 1353
  __cil_tmp48 = *((unsigned long *)__cil_tmp47);
#line 1353
  __cil_tmp49 = __cil_tmp48 * scale_dtr;
#line 1353
  __cil_tmp50 = __cil_tmp49 / 1000UL;
#line 1353
  __cil_tmp51 = __cil_tmp50 + 500UL;
#line 1353
  __cil_tmp52 = __cil_tmp51 - 1UL;
#line 1353
  __cil_tmp53 = __cil_tmp52 / 500UL;
#line 1353
  srt = 16UL - __cil_tmp53;
  {
#line 1354
  __cil_tmp54 = & slow_floppy;
#line 1354
  if (*__cil_tmp54) {
#line 1355
    srt = srt / 4UL;
  } else {

  }
  }
#line 1357
  __x = (int )srt;
#line 1357
  __y = 15;
#line 1357
  if (__x < __y) {
#line 1357
    tmp___0 = __x;
  } else {
#line 1357
    tmp___0 = __y;
  }
#line 1357
  srt = (unsigned long )tmp___0;
#line 1358
  __x___0 = (int )srt;
#line 1358
  __y___0 = 0;
#line 1358
  if (__x___0 > __y___0) {
#line 1358
    tmp___1 = __x___0;
  } else {
#line 1358
    tmp___1 = __y___0;
  }
#line 1358
  srt = (unsigned long )tmp___1;
#line 1360
  __cil_tmp55 = current_drive * 128UL;
#line 1360
  __cil_tmp56 = __cil_tmp55 + 16;
#line 1360
  __cil_tmp57 = (unsigned long )(drive_params) + __cil_tmp56;
#line 1360
  __cil_tmp58 = *((unsigned long *)__cil_tmp57);
#line 1360
  __cil_tmp59 = __cil_tmp58 * scale_dtr;
#line 1360
  __cil_tmp60 = __cil_tmp59 / 2UL;
#line 1360
  __cil_tmp61 = __cil_tmp60 + 500UL;
#line 1360
  __cil_tmp62 = __cil_tmp61 - 1UL;
#line 1360
  hlt = __cil_tmp62 / 500UL;
#line 1361
  if (hlt < 1UL) {
#line 1362
    hlt = 1UL;
  } else
#line 1363
  if (hlt > 127UL) {
#line 1364
    hlt = (unsigned long )hlt_max_code;
  } else {

  }
#line 1366
  __cil_tmp63 = current_drive * 128UL;
#line 1366
  __cil_tmp64 = __cil_tmp63 + 24;
#line 1366
  __cil_tmp65 = (unsigned long )(drive_params) + __cil_tmp64;
#line 1366
  __cil_tmp66 = *((unsigned long *)__cil_tmp65);
#line 1366
  __cil_tmp67 = __cil_tmp66 * scale_dtr;
#line 1366
  __cil_tmp68 = __cil_tmp67 / 16UL;
#line 1366
  __cil_tmp69 = __cil_tmp68 + 500UL;
#line 1366
  __cil_tmp70 = __cil_tmp69 - 1UL;
#line 1366
  hut = __cil_tmp70 / 500UL;
#line 1367
  if (hut < 1UL) {
#line 1368
    hut = 1UL;
  } else
#line 1369
  if (hut > 15UL) {
#line 1370
    hut = (unsigned long )hut_max_code;
  } else {

  }
#line 1372
  __cil_tmp71 = srt << 4;
#line 1372
  __cil_tmp72 = __cil_tmp71 | hut;
#line 1372
  spec1 = (unsigned char )__cil_tmp72;
#line 1373
  __cil_tmp73 = use_virtual_dma & 1;
#line 1373
  __cil_tmp74 = (unsigned long )__cil_tmp73;
#line 1373
  __cil_tmp75 = hlt << 1;
#line 1373
  __cil_tmp76 = __cil_tmp75 | __cil_tmp74;
#line 1373
  spec2 = (unsigned char )__cil_tmp76;
  {
#line 1376
  __cil_tmp77 = (int )spec1;
#line 1376
  __cil_tmp78 = fdc * 40UL;
#line 1376
  __cil_tmp79 = (unsigned long )(fdc_state) + __cil_tmp78;
#line 1376
  __cil_tmp80 = *((int *)__cil_tmp79);
#line 1376
  if (__cil_tmp80 != __cil_tmp77) {
#line 1376
    goto _L;
  } else {
    {
#line 1376
    __cil_tmp81 = (int )spec2;
#line 1376
    __cil_tmp82 = fdc * 40UL;
#line 1376
    __cil_tmp83 = __cil_tmp82 + 4;
#line 1376
    __cil_tmp84 = (unsigned long )(fdc_state) + __cil_tmp83;
#line 1376
    __cil_tmp85 = *((int *)__cil_tmp84);
#line 1376
    if (__cil_tmp85 != __cil_tmp81) {
      _L: 
      {
#line 1378
      output_byte((char)3);
#line 1379
      tmp___2 = (int )spec1;
#line 1379
      __cil_tmp86 = fdc * 40UL;
#line 1379
      __cil_tmp87 = (unsigned long )(fdc_state) + __cil_tmp86;
#line 1379
      *((int *)__cil_tmp87) = tmp___2;
#line 1379
      __cil_tmp88 = (char )tmp___2;
#line 1379
      output_byte(__cil_tmp88);
#line 1380
      tmp___3 = (int )spec2;
#line 1380
      __cil_tmp89 = fdc * 40UL;
#line 1380
      __cil_tmp90 = __cil_tmp89 + 4;
#line 1380
      __cil_tmp91 = (unsigned long )(fdc_state) + __cil_tmp90;
#line 1380
      *((int *)__cil_tmp91) = tmp___3;
#line 1380
      __cil_tmp92 = (char )tmp___3;
#line 1380
      output_byte(__cil_tmp92);
      }
    } else {

    }
    }
  }
  }
#line 1382
  return;
}
}
#line 1388 "drivers/block/floppy.c"
static int fdc_dtr(void) 
{ int tmp ;
  unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned char __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned char __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned char __cil_tmp26 ;
  int __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  void (*__cil_tmp29)(unsigned long  ) ;

  {
  {
#line 1391
  __cil_tmp2 = fdc * 40UL;
#line 1391
  __cil_tmp3 = __cil_tmp2 + 8;
#line 1391
  __cil_tmp4 = (unsigned long )(fdc_state) + __cil_tmp3;
#line 1391
  __cil_tmp5 = *((int *)__cil_tmp4);
#line 1391
  __cil_tmp6 = (unsigned long )raw_cmd;
#line 1391
  __cil_tmp7 = __cil_tmp6 + 52;
#line 1391
  __cil_tmp8 = *((unsigned char *)__cil_tmp7);
#line 1391
  __cil_tmp9 = (int )__cil_tmp8;
#line 1391
  __cil_tmp10 = __cil_tmp9 & 3;
#line 1391
  if (__cil_tmp10 == __cil_tmp5) {
#line 1392
    return (0);
  } else {

  }
  }
  {
#line 1395
  __cil_tmp11 = (unsigned long )raw_cmd;
#line 1395
  __cil_tmp12 = __cil_tmp11 + 52;
#line 1395
  __cil_tmp13 = *((unsigned char *)__cil_tmp12);
#line 1395
  __cil_tmp14 = (int )__cil_tmp13;
#line 1395
  __cil_tmp15 = __cil_tmp14 & 3;
#line 1395
  __cil_tmp16 = fdc * 40UL;
#line 1395
  __cil_tmp17 = __cil_tmp16 + 16;
#line 1395
  __cil_tmp18 = (unsigned long )(fdc_state) + __cil_tmp17;
#line 1395
  __cil_tmp19 = *((unsigned long *)__cil_tmp18);
#line 1395
  __cil_tmp20 = 7UL + __cil_tmp19;
#line 1395
  fd_outb(__cil_tmp15, __cil_tmp20);
#line 1402
  __cil_tmp21 = fdc * 40UL;
#line 1402
  __cil_tmp22 = __cil_tmp21 + 8;
#line 1402
  __cil_tmp23 = (unsigned long )(fdc_state) + __cil_tmp22;
#line 1402
  __cil_tmp24 = (unsigned long )raw_cmd;
#line 1402
  __cil_tmp25 = __cil_tmp24 + 52;
#line 1402
  __cil_tmp26 = *((unsigned char *)__cil_tmp25);
#line 1402
  __cil_tmp27 = (int )__cil_tmp26;
#line 1402
  *((int *)__cil_tmp23) = __cil_tmp27 & 3;
#line 1403
  __cil_tmp28 = jiffies + 2UL;
#line 1403
  __cil_tmp29 = (void (*)(unsigned long  ))(& floppy_ready);
#line 1403
  tmp = fd_wait_for_completion(__cil_tmp28, __cil_tmp29);
  }
#line 1403
  return (tmp);
}
}
#line 1407 "drivers/block/floppy.c"
static void tell_sector(void) 
{ unsigned long __cil_tmp1 ;
  unsigned long __cil_tmp2 ;
  unsigned char __cil_tmp3 ;
  int __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned char __cil_tmp7 ;
  int __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned char __cil_tmp11 ;
  int __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned char __cil_tmp15 ;
  int __cil_tmp16 ;

  {
  {
#line 1409
  __cil_tmp1 = 3 * 1UL;
#line 1409
  __cil_tmp2 = (unsigned long )(reply_buffer) + __cil_tmp1;
#line 1409
  __cil_tmp3 = *((unsigned char *)__cil_tmp2);
#line 1409
  __cil_tmp4 = (int )__cil_tmp3;
#line 1409
  __cil_tmp5 = 4 * 1UL;
#line 1409
  __cil_tmp6 = (unsigned long )(reply_buffer) + __cil_tmp5;
#line 1409
  __cil_tmp7 = *((unsigned char *)__cil_tmp6);
#line 1409
  __cil_tmp8 = (int )__cil_tmp7;
#line 1409
  __cil_tmp9 = 5 * 1UL;
#line 1409
  __cil_tmp10 = (unsigned long )(reply_buffer) + __cil_tmp9;
#line 1409
  __cil_tmp11 = *((unsigned char *)__cil_tmp10);
#line 1409
  __cil_tmp12 = (int )__cil_tmp11;
#line 1409
  __cil_tmp13 = 6 * 1UL;
#line 1409
  __cil_tmp14 = (unsigned long )(reply_buffer) + __cil_tmp13;
#line 1409
  __cil_tmp15 = *((unsigned char *)__cil_tmp14);
#line 1409
  __cil_tmp16 = (int )__cil_tmp15;
#line 1409
  printk(": track %d, head %d, sector %d, size %d", __cil_tmp4, __cil_tmp8, __cil_tmp12,
         __cil_tmp16);
  }
#line 1411
  return;
}
}
#line 1420 "drivers/block/floppy.c"
static int interpret_errors(void) 
{ char bad ;
  int __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned char __cil_tmp7 ;
  int __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned char __cil_tmp11 ;
  int __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned char __cil_tmp15 ;
  int __cil_tmp16 ;
  int __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long *__cil_tmp20 ;
  unsigned long volatile   *__cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  void (*__cil_tmp24)(int  ) ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned char __cil_tmp27 ;
  int __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  unsigned long *__cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned char __cil_tmp34 ;
  int __cil_tmp35 ;
  unsigned long __cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  unsigned long __cil_tmp38 ;
  char __cil_tmp39 ;
  int __cil_tmp40 ;
  int __cil_tmp41 ;
  unsigned long __cil_tmp42 ;
  unsigned long __cil_tmp43 ;
  unsigned long __cil_tmp44 ;
  unsigned long __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  int __cil_tmp47 ;
  unsigned int __cil_tmp48 ;
  int __cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  unsigned long __cil_tmp51 ;
  unsigned char __cil_tmp52 ;
  int __cil_tmp53 ;
  unsigned long __cil_tmp54 ;
  unsigned long __cil_tmp55 ;
  unsigned char __cil_tmp56 ;
  int __cil_tmp57 ;
  unsigned long __cil_tmp58 ;
  unsigned long __cil_tmp59 ;
  unsigned char __cil_tmp60 ;
  int __cil_tmp61 ;
  unsigned long __cil_tmp62 ;
  unsigned long __cil_tmp63 ;
  unsigned char __cil_tmp64 ;
  int __cil_tmp65 ;
  unsigned long __cil_tmp66 ;
  unsigned long __cil_tmp67 ;
  unsigned char __cil_tmp68 ;
  int __cil_tmp69 ;
  unsigned long __cil_tmp70 ;
  unsigned long __cil_tmp71 ;
  unsigned char __cil_tmp72 ;
  int __cil_tmp73 ;
  unsigned long __cil_tmp74 ;
  unsigned long __cil_tmp75 ;
  unsigned char __cil_tmp76 ;
  int __cil_tmp77 ;
  unsigned long __cil_tmp78 ;
  unsigned long __cil_tmp79 ;
  unsigned char __cil_tmp80 ;
  int __cil_tmp81 ;
  unsigned long __cil_tmp82 ;
  unsigned long __cil_tmp83 ;
  unsigned char __cil_tmp84 ;
  int __cil_tmp85 ;
  unsigned long __cil_tmp86 ;
  unsigned long __cil_tmp87 ;
  unsigned char __cil_tmp88 ;
  int __cil_tmp89 ;
  unsigned long __cil_tmp90 ;
  unsigned long __cil_tmp91 ;
  unsigned char __cil_tmp92 ;
  int __cil_tmp93 ;
  unsigned long __cil_tmp94 ;
  unsigned long __cil_tmp95 ;
  unsigned long __cil_tmp96 ;
  unsigned long __cil_tmp97 ;
  unsigned long __cil_tmp98 ;
  unsigned char __cil_tmp99 ;
  int __cil_tmp100 ;
  unsigned long __cil_tmp101 ;
  unsigned long __cil_tmp102 ;
  unsigned long __cil_tmp103 ;
  int __cil_tmp104 ;
  unsigned long __cil_tmp105 ;
  unsigned long __cil_tmp106 ;
  void (*__cil_tmp107)(int  ) ;
  int __cil_tmp108 ;
  unsigned long __cil_tmp109 ;
  unsigned long __cil_tmp110 ;
  void (*__cil_tmp111)(void) ;

  {
#line 1424
  if (inr != 7) {
    {
#line 1425
    __cil_tmp2 = (int )current_drive;
#line 1425
    printk("floppy%d: -- FDC reply error", __cil_tmp2);
#line 1426
    __cil_tmp3 = fdc * 40UL;
#line 1426
    __cil_tmp4 = (unsigned long )(fdc_state) + __cil_tmp3;
#line 1426
    ((struct floppy_fdc_state *)__cil_tmp4)->reset = 1U;
    }
#line 1427
    return (1);
  } else {

  }
  {
#line 1431
  __cil_tmp5 = 0 * 1UL;
#line 1431
  __cil_tmp6 = (unsigned long )(reply_buffer) + __cil_tmp5;
#line 1431
  __cil_tmp7 = *((unsigned char *)__cil_tmp6);
#line 1431
  __cil_tmp8 = (int )__cil_tmp7;
  {
#line 1432
  if ((__cil_tmp8 & 192) == 64) {
#line 1432
    goto case_64;
  } else {

  }
#line 1481
  if ((__cil_tmp8 & 192) == 128) {
#line 1481
    goto case_128;
  } else {

  }
#line 1485
  if ((__cil_tmp8 & 192) == 192) {
#line 1485
    goto case_192;
  } else {

  }
#line 1489
  goto switch_default;
  case_64: /* CIL Label */ 
  {
#line 1433
  __cil_tmp9 = 1 * 1UL;
#line 1433
  __cil_tmp10 = (unsigned long )(reply_buffer) + __cil_tmp9;
#line 1433
  __cil_tmp11 = *((unsigned char *)__cil_tmp10);
#line 1433
  __cil_tmp12 = (int )__cil_tmp11;
#line 1433
  if (__cil_tmp12 & 128) {
#line 1434
    return (0);
  } else {

  }
  }
#line 1435
  bad = (char)1;
  {
#line 1436
  __cil_tmp13 = 1 * 1UL;
#line 1436
  __cil_tmp14 = (unsigned long )(reply_buffer) + __cil_tmp13;
#line 1436
  __cil_tmp15 = *((unsigned char *)__cil_tmp14);
#line 1436
  __cil_tmp16 = (int )__cil_tmp15;
#line 1436
  if (__cil_tmp16 & 2) {
    {
#line 1437
    __cil_tmp17 = (int )current_drive;
#line 1437
    printk("floppy%d: Drive is write protected\n", __cil_tmp17);
#line 1438
    __cil_tmp18 = current_drive * 80UL;
#line 1438
    __cil_tmp19 = (unsigned long )(drive_state) + __cil_tmp18;
#line 1438
    __cil_tmp20 = (unsigned long *)__cil_tmp19;
#line 1438
    __cil_tmp21 = (unsigned long volatile   *)__cil_tmp20;
#line 1438
    clear_bit(5, __cil_tmp21);
#line 1439
    __cil_tmp22 = (unsigned long )cont;
#line 1439
    __cil_tmp23 = __cil_tmp22 + 24;
#line 1439
    __cil_tmp24 = *((void (**)(int  ))__cil_tmp23);
#line 1439
    (*__cil_tmp24)(0);
#line 1440
    bad = (char)2;
    }
  } else {
    {
#line 1441
    __cil_tmp25 = 1 * 1UL;
#line 1441
    __cil_tmp26 = (unsigned long )(reply_buffer) + __cil_tmp25;
#line 1441
    __cil_tmp27 = *((unsigned char *)__cil_tmp26);
#line 1441
    __cil_tmp28 = (int )__cil_tmp27;
#line 1441
    if (__cil_tmp28 & 4) {
      {
#line 1442
      __cil_tmp29 = current_drive * 80UL;
#line 1442
      __cil_tmp30 = (unsigned long )(drive_state) + __cil_tmp29;
#line 1442
      __cil_tmp31 = (unsigned long *)__cil_tmp30;
#line 1442
      set_bit(0, __cil_tmp31);
      }
    } else {
      {
#line 1443
      __cil_tmp32 = 1 * 1UL;
#line 1443
      __cil_tmp33 = (unsigned long )(reply_buffer) + __cil_tmp32;
#line 1443
      __cil_tmp34 = *((unsigned char *)__cil_tmp33);
#line 1443
      __cil_tmp35 = (int )__cil_tmp34;
#line 1443
      if (__cil_tmp35 & 16) {
        {
#line 1444
        __cil_tmp36 = current_drive * 128UL;
#line 1444
        __cil_tmp37 = __cil_tmp36 + 96;
#line 1444
        __cil_tmp38 = (unsigned long )(drive_params) + __cil_tmp37;
#line 1444
        __cil_tmp39 = *((char *)__cil_tmp38);
#line 1444
        __cil_tmp40 = (int )__cil_tmp39;
#line 1444
        if (__cil_tmp40 & 16) {
          {
#line 1445
          __cil_tmp41 = (int )current_drive;
#line 1445
          printk("floppy%d: Over/Underrun - retrying\n", __cil_tmp41);
          }
        } else {

        }
        }
#line 1446
        bad = (char)0;
      } else {
        {
#line 1447
        __cil_tmp42 = 76 + 16;
#line 1447
        __cil_tmp43 = current_drive * 128UL;
#line 1447
        __cil_tmp44 = __cil_tmp43 + __cil_tmp42;
#line 1447
        __cil_tmp45 = (unsigned long )(drive_params) + __cil_tmp44;
#line 1447
        __cil_tmp46 = *((unsigned int *)__cil_tmp45);
#line 1447
        __cil_tmp47 = *errors;
#line 1447
        __cil_tmp48 = (unsigned int )__cil_tmp47;
#line 1447
        if (__cil_tmp48 >= __cil_tmp46) {
          {
#line 1448
          __cil_tmp49 = (int )current_drive;
#line 1448
          printk("floppy%d: ", __cil_tmp49);
          }
          {
#line 1449
          __cil_tmp50 = 0 * 1UL;
#line 1449
          __cil_tmp51 = (unsigned long )(reply_buffer) + __cil_tmp50;
#line 1449
          __cil_tmp52 = *((unsigned char *)__cil_tmp51);
#line 1449
          __cil_tmp53 = (int )__cil_tmp52;
#line 1449
          if (__cil_tmp53 & 16) {
            {
#line 1450
            printk("Recalibrate failed!");
            }
          } else {
            {
#line 1451
            __cil_tmp54 = 2 * 1UL;
#line 1451
            __cil_tmp55 = (unsigned long )(reply_buffer) + __cil_tmp54;
#line 1451
            __cil_tmp56 = *((unsigned char *)__cil_tmp55);
#line 1451
            __cil_tmp57 = (int )__cil_tmp56;
#line 1451
            if (__cil_tmp57 & 32) {
              {
#line 1452
              printk("data CRC error");
#line 1453
              tell_sector();
              }
            } else {
              {
#line 1454
              __cil_tmp58 = 1 * 1UL;
#line 1454
              __cil_tmp59 = (unsigned long )(reply_buffer) + __cil_tmp58;
#line 1454
              __cil_tmp60 = *((unsigned char *)__cil_tmp59);
#line 1454
              __cil_tmp61 = (int )__cil_tmp60;
#line 1454
              if (__cil_tmp61 & 32) {
                {
#line 1455
                printk("CRC error");
#line 1456
                tell_sector();
                }
              } else {
                {
#line 1457
                __cil_tmp62 = 1 * 1UL;
#line 1457
                __cil_tmp63 = (unsigned long )(reply_buffer) + __cil_tmp62;
#line 1457
                __cil_tmp64 = *((unsigned char *)__cil_tmp63);
#line 1457
                __cil_tmp65 = (int )__cil_tmp64;
#line 1457
                if (__cil_tmp65 & 5) {
#line 1457
                  goto _L;
                } else {
                  {
#line 1457
                  __cil_tmp66 = 2 * 1UL;
#line 1457
                  __cil_tmp67 = (unsigned long )(reply_buffer) + __cil_tmp66;
#line 1457
                  __cil_tmp68 = *((unsigned char *)__cil_tmp67);
#line 1457
                  __cil_tmp69 = (int )__cil_tmp68;
#line 1457
                  if (__cil_tmp69 & 1) {
                    _L: 
#line 1459
                    if (! probing) {
                      {
#line 1460
                      printk("sector not found");
#line 1461
                      tell_sector();
                      }
                    } else {
                      {
#line 1463
                      printk("probe failed...");
                      }
                    }
                  } else {
                    {
#line 1464
                    __cil_tmp70 = 2 * 1UL;
#line 1464
                    __cil_tmp71 = (unsigned long )(reply_buffer) + __cil_tmp70;
#line 1464
                    __cil_tmp72 = *((unsigned char *)__cil_tmp71);
#line 1464
                    __cil_tmp73 = (int )__cil_tmp72;
#line 1464
                    if (__cil_tmp73 & 16) {
                      {
#line 1465
                      printk("wrong cylinder");
                      }
                    } else {
                      {
#line 1466
                      __cil_tmp74 = 2 * 1UL;
#line 1466
                      __cil_tmp75 = (unsigned long )(reply_buffer) + __cil_tmp74;
#line 1466
                      __cil_tmp76 = *((unsigned char *)__cil_tmp75);
#line 1466
                      __cil_tmp77 = (int )__cil_tmp76;
#line 1466
                      if (__cil_tmp77 & 2) {
                        {
#line 1467
                        printk("bad cylinder");
                        }
                      } else {
                        {
#line 1469
                        __cil_tmp78 = 0 * 1UL;
#line 1469
                        __cil_tmp79 = (unsigned long )(reply_buffer) + __cil_tmp78;
#line 1469
                        __cil_tmp80 = *((unsigned char *)__cil_tmp79);
#line 1469
                        __cil_tmp81 = (int )__cil_tmp80;
#line 1469
                        __cil_tmp82 = 1 * 1UL;
#line 1469
                        __cil_tmp83 = (unsigned long )(reply_buffer) + __cil_tmp82;
#line 1469
                        __cil_tmp84 = *((unsigned char *)__cil_tmp83);
#line 1469
                        __cil_tmp85 = (int )__cil_tmp84;
#line 1469
                        __cil_tmp86 = 2 * 1UL;
#line 1469
                        __cil_tmp87 = (unsigned long )(reply_buffer) + __cil_tmp86;
#line 1469
                        __cil_tmp88 = *((unsigned char *)__cil_tmp87);
#line 1469
                        __cil_tmp89 = (int )__cil_tmp88;
#line 1469
                        printk("unknown error. ST[0..2] are: 0x%x 0x%x 0x%x", __cil_tmp81,
                               __cil_tmp85, __cil_tmp89);
#line 1472
                        tell_sector();
                        }
                      }
                      }
                    }
                    }
                  }
                  }
                }
                }
              }
              }
            }
            }
          }
          }
          {
#line 1474
          printk("\n");
          }
        } else {

        }
        }
      }
      }
    }
    }
  }
  }
  {
#line 1477
  __cil_tmp90 = 2 * 1UL;
#line 1477
  __cil_tmp91 = (unsigned long )(reply_buffer) + __cil_tmp90;
#line 1477
  __cil_tmp92 = *((unsigned char *)__cil_tmp91);
#line 1477
  __cil_tmp93 = (int )__cil_tmp92;
#line 1477
  if (__cil_tmp93 & 16) {
#line 1479
    __cil_tmp94 = current_drive * 80UL;
#line 1479
    __cil_tmp95 = __cil_tmp94 + 34;
#line 1479
    __cil_tmp96 = (unsigned long )(drive_state) + __cil_tmp95;
#line 1479
    *((short *)__cil_tmp96) = (short)-3;
  } else {
    {
#line 1477
    __cil_tmp97 = 2 * 1UL;
#line 1477
    __cil_tmp98 = (unsigned long )(reply_buffer) + __cil_tmp97;
#line 1477
    __cil_tmp99 = *((unsigned char *)__cil_tmp98);
#line 1477
    __cil_tmp100 = (int )__cil_tmp99;
#line 1477
    if (__cil_tmp100 & 2) {
#line 1479
      __cil_tmp101 = current_drive * 80UL;
#line 1479
      __cil_tmp102 = __cil_tmp101 + 34;
#line 1479
      __cil_tmp103 = (unsigned long )(drive_state) + __cil_tmp102;
#line 1479
      *((short *)__cil_tmp103) = (short)-3;
    } else {

    }
    }
  }
  }
#line 1480
  return ((int )bad);
  case_128: /* CIL Label */ 
  {
#line 1482
  __cil_tmp104 = (int )current_drive;
#line 1482
  printk("floppy%d: Invalid FDC command given!\n", __cil_tmp104);
#line 1483
  __cil_tmp105 = (unsigned long )cont;
#line 1483
  __cil_tmp106 = __cil_tmp105 + 24;
#line 1483
  __cil_tmp107 = *((void (**)(int  ))__cil_tmp106);
#line 1483
  (*__cil_tmp107)(0);
  }
#line 1484
  return (2);
  case_192: /* CIL Label */ 
  {
#line 1486
  __cil_tmp108 = (int )current_drive;
#line 1486
  printk("floppy%d: Abnormal termination caused by polling\n", __cil_tmp108);
#line 1487
  __cil_tmp109 = (unsigned long )cont;
#line 1487
  __cil_tmp110 = __cil_tmp109 + 16;
#line 1487
  __cil_tmp111 = *((void (**)(void))__cil_tmp110);
#line 1487
  (*__cil_tmp111)();
  }
#line 1488
  return (2);
  switch_default: /* CIL Label */ 
#line 1490
  return (0);
  switch_break: /* CIL Label */ ;
  }
  }
}
}
#line 1499 "drivers/block/floppy.c"
static void setup_rw_floppy(void) 
{ int i ;
  int r ;
  int flags ;
  int dflags ;
  unsigned long ready_date ;
  void (*function)(unsigned long  ) ;
  int tmp ;
  int tmp___0 ;
  unsigned int __cil_tmp9 ;
  int __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned char __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  long __cil_tmp26 ;
  long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  unsigned char __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned long __cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  unsigned char __cil_tmp38 ;
  int __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  unsigned long __cil_tmp41 ;
  unsigned long __cil_tmp42 ;
  unsigned long __cil_tmp43 ;
  unsigned char __cil_tmp44 ;
  char __cil_tmp45 ;
  unsigned long __cil_tmp46 ;
  unsigned long __cil_tmp47 ;
  void (*__cil_tmp48)(void) ;
  void (*__cil_tmp49)(void) ;
  int __cil_tmp50 ;
  void (*__cil_tmp51)(void) ;
  void (*__cil_tmp52)(void) ;

  {
#line 1505
  __cil_tmp9 = *((unsigned int *)raw_cmd);
#line 1505
  flags = (int )__cil_tmp9;
#line 1506
  if (flags & 3) {
#line 1507
    flags = flags | 8;
  } else {

  }
#line 1509
  if (flags & 16) {
    {
#line 1509
    __cil_tmp10 = flags & 4;
#line 1509
    if (! __cil_tmp10) {
#line 1510
      __cil_tmp11 = current_drive * 128UL;
#line 1510
      __cil_tmp12 = __cil_tmp11 + 40;
#line 1510
      __cil_tmp13 = (unsigned long )(drive_params) + __cil_tmp12;
#line 1510
      __cil_tmp14 = *((unsigned long *)__cil_tmp13);
#line 1510
      __cil_tmp15 = current_drive * 80UL;
#line 1510
      __cil_tmp16 = __cil_tmp15 + 8;
#line 1510
      __cil_tmp17 = (unsigned long )(drive_state) + __cil_tmp16;
#line 1510
      __cil_tmp18 = *((unsigned long *)__cil_tmp17);
#line 1510
      ready_date = __cil_tmp18 + __cil_tmp14;
      {
#line 1515
      __cil_tmp19 = (long )ready_date;
#line 1515
      __cil_tmp20 = current_drive * 128UL;
#line 1515
      __cil_tmp21 = __cil_tmp20 + 57;
#line 1515
      __cil_tmp22 = (unsigned long )(drive_params) + __cil_tmp21;
#line 1515
      __cil_tmp23 = *((unsigned char *)__cil_tmp22);
#line 1515
      __cil_tmp24 = (unsigned long )__cil_tmp23;
#line 1515
      __cil_tmp25 = jiffies + __cil_tmp24;
#line 1515
      __cil_tmp26 = (long )__cil_tmp25;
#line 1515
      __cil_tmp27 = __cil_tmp26 - __cil_tmp19;
#line 1515
      if (__cil_tmp27 < 0L) {
#line 1516
        __cil_tmp28 = current_drive * 128UL;
#line 1516
        __cil_tmp29 = __cil_tmp28 + 57;
#line 1516
        __cil_tmp30 = (unsigned long )(drive_params) + __cil_tmp29;
#line 1516
        __cil_tmp31 = *((unsigned char *)__cil_tmp30);
#line 1516
        __cil_tmp32 = (unsigned long )__cil_tmp31;
#line 1516
        ready_date = ready_date - __cil_tmp32;
#line 1517
        function = (void (*)(unsigned long  ))(& floppy_start);
      } else {
#line 1519
        function = (void (*)(unsigned long  ))(& setup_rw_floppy);
      }
      }
      {
#line 1522
      tmp = fd_wait_for_completion(ready_date, function);
      }
#line 1522
      if (tmp) {
#line 1523
        return;
      } else {

      }
    } else {

    }
    }
  } else {

  }
#line 1525
  __cil_tmp33 = current_drive * 80UL;
#line 1525
  __cil_tmp34 = (unsigned long )(drive_state) + __cil_tmp33;
#line 1525
  __cil_tmp35 = *((unsigned long *)__cil_tmp34);
#line 1525
  dflags = (int )__cil_tmp35;
#line 1527
  if (flags & 1) {
    {
#line 1528
    setup_DMA();
    }
  } else
#line 1527
  if (flags & 2) {
    {
#line 1528
    setup_DMA();
    }
  } else {

  }
#line 1530
  if (flags & 8) {
#line 1531
    do_floppy = & main_command_interrupt;
  } else {

  }
#line 1533
  r = 0;
#line 1534
  i = 0;
  {
#line 1534
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 1534
    __cil_tmp36 = (unsigned long )raw_cmd;
#line 1534
    __cil_tmp37 = __cil_tmp36 + 53;
#line 1534
    __cil_tmp38 = *((unsigned char *)__cil_tmp37);
#line 1534
    __cil_tmp39 = (int )__cil_tmp38;
#line 1534
    if (i < __cil_tmp39) {

    } else {
#line 1534
      goto while_break;
    }
    }
    {
#line 1535
    __cil_tmp40 = i * 1UL;
#line 1535
    __cil_tmp41 = 54 + __cil_tmp40;
#line 1535
    __cil_tmp42 = (unsigned long )raw_cmd;
#line 1535
    __cil_tmp43 = __cil_tmp42 + __cil_tmp41;
#line 1535
    __cil_tmp44 = *((unsigned char *)__cil_tmp43);
#line 1535
    __cil_tmp45 = (char )__cil_tmp44;
#line 1535
    tmp___0 = output_byte(__cil_tmp45);
#line 1535
    r = r | tmp___0;
#line 1534
    i = i + 1;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1537
  debugt("rw_command: ");
  }
#line 1539
  if (r) {
    {
#line 1540
    __cil_tmp46 = (unsigned long )cont;
#line 1540
    __cil_tmp47 = __cil_tmp46 + 16;
#line 1540
    __cil_tmp48 = *((void (**)(void))__cil_tmp47);
#line 1540
    (*__cil_tmp48)();
#line 1541
    __cil_tmp49 = & reset_fdc;
#line 1541
    (*__cil_tmp49)();
    }
#line 1542
    return;
  } else {

  }
  {
#line 1545
  __cil_tmp50 = flags & 8;
#line 1545
  if (! __cil_tmp50) {
    {
#line 1546
    inr = result();
#line 1547
    __cil_tmp51 = *((void (**)(void))cont);
#line 1547
    (*__cil_tmp51)();
    }
  } else
#line 1548
  if (flags & 64) {
    {
#line 1549
    __cil_tmp52 = & fd_watchdog;
#line 1549
    (*__cil_tmp52)();
    }
  } else {

  }
  }
#line 1550
  return;
}
}
#line 1552 "drivers/block/floppy.c"
static int blind_seek  ;
#line 1558 "drivers/block/floppy.c"
static void seek_interrupt(void) 
{ int __cil_tmp1 ;
  unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  void (*__cil_tmp7)(void) ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  void (*__cil_tmp10)(void) ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned char __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  void (*__cil_tmp22)(void) ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  void (*__cil_tmp25)(void) ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  short __cil_tmp29 ;
  int __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned char __cil_tmp33 ;
  int __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned long __cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  short __cil_tmp38 ;
  int __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  unsigned long __cil_tmp41 ;
  unsigned long __cil_tmp42 ;
  char __cil_tmp43 ;
  int __cil_tmp44 ;
  int __cil_tmp45 ;
  int __cil_tmp46 ;
  unsigned long __cil_tmp47 ;
  unsigned long __cil_tmp48 ;
  unsigned long *__cil_tmp49 ;
  unsigned long volatile   *__cil_tmp50 ;
  unsigned long __cil_tmp51 ;
  unsigned long __cil_tmp52 ;
  unsigned long __cil_tmp53 ;
  unsigned long __cil_tmp54 ;
  unsigned long __cil_tmp55 ;
  unsigned long __cil_tmp56 ;
  unsigned long __cil_tmp57 ;
  unsigned long __cil_tmp58 ;
  unsigned char __cil_tmp59 ;
  void (*__cil_tmp60)(void) ;

  {
  {
#line 1560
  debugt("seek interrupt:");
  }
#line 1561
  if (inr != 2) {
    {
#line 1562
    __cil_tmp1 = (int )current_drive;
#line 1562
    printk("floppy%d: seek failed\n", __cil_tmp1);
#line 1563
    __cil_tmp2 = current_drive * 80UL;
#line 1563
    __cil_tmp3 = __cil_tmp2 + 34;
#line 1563
    __cil_tmp4 = (unsigned long )(drive_state) + __cil_tmp3;
#line 1563
    *((short *)__cil_tmp4) = (short)-3;
#line 1564
    __cil_tmp5 = (unsigned long )cont;
#line 1564
    __cil_tmp6 = __cil_tmp5 + 16;
#line 1564
    __cil_tmp7 = *((void (**)(void))__cil_tmp6);
#line 1564
    (*__cil_tmp7)();
#line 1565
    __cil_tmp8 = (unsigned long )cont;
#line 1565
    __cil_tmp9 = __cil_tmp8 + 8;
#line 1565
    __cil_tmp10 = *((void (**)(void))__cil_tmp9);
#line 1565
    (*__cil_tmp10)();
    }
#line 1566
    return;
  } else {
    {
#line 1561
    __cil_tmp11 = 0 * 1UL;
#line 1561
    __cil_tmp12 = (unsigned long )(reply_buffer) + __cil_tmp11;
#line 1561
    __cil_tmp13 = *((unsigned char *)__cil_tmp12);
#line 1561
    __cil_tmp14 = (int )__cil_tmp13;
#line 1561
    __cil_tmp15 = __cil_tmp14 & 248;
#line 1561
    if (__cil_tmp15 != 32) {
      {
#line 1562
      __cil_tmp16 = (int )current_drive;
#line 1562
      printk("floppy%d: seek failed\n", __cil_tmp16);
#line 1563
      __cil_tmp17 = current_drive * 80UL;
#line 1563
      __cil_tmp18 = __cil_tmp17 + 34;
#line 1563
      __cil_tmp19 = (unsigned long )(drive_state) + __cil_tmp18;
#line 1563
      *((short *)__cil_tmp19) = (short)-3;
#line 1564
      __cil_tmp20 = (unsigned long )cont;
#line 1564
      __cil_tmp21 = __cil_tmp20 + 16;
#line 1564
      __cil_tmp22 = *((void (**)(void))__cil_tmp21);
#line 1564
      (*__cil_tmp22)();
#line 1565
      __cil_tmp23 = (unsigned long )cont;
#line 1565
      __cil_tmp24 = __cil_tmp23 + 8;
#line 1565
      __cil_tmp25 = *((void (**)(void))__cil_tmp24);
#line 1565
      (*__cil_tmp25)();
      }
#line 1566
      return;
    } else {

    }
    }
  }
  {
#line 1568
  __cil_tmp26 = current_drive * 80UL;
#line 1568
  __cil_tmp27 = __cil_tmp26 + 34;
#line 1568
  __cil_tmp28 = (unsigned long )(drive_state) + __cil_tmp27;
#line 1568
  __cil_tmp29 = *((short *)__cil_tmp28);
#line 1568
  __cil_tmp30 = (int )__cil_tmp29;
#line 1568
  if (__cil_tmp30 >= 0) {
    {
#line 1568
    __cil_tmp31 = 1 * 1UL;
#line 1568
    __cil_tmp32 = (unsigned long )(reply_buffer) + __cil_tmp31;
#line 1568
    __cil_tmp33 = *((unsigned char *)__cil_tmp32);
#line 1568
    __cil_tmp34 = (int )__cil_tmp33;
#line 1568
    __cil_tmp35 = current_drive * 80UL;
#line 1568
    __cil_tmp36 = __cil_tmp35 + 34;
#line 1568
    __cil_tmp37 = (unsigned long )(drive_state) + __cil_tmp36;
#line 1568
    __cil_tmp38 = *((short *)__cil_tmp37);
#line 1568
    __cil_tmp39 = (int )__cil_tmp38;
#line 1568
    if (__cil_tmp39 != __cil_tmp34) {
#line 1568
      if (! blind_seek) {
        {
#line 1570
        __cil_tmp40 = current_drive * 128UL;
#line 1570
        __cil_tmp41 = __cil_tmp40 + 96;
#line 1570
        __cil_tmp42 = (unsigned long )(drive_params) + __cil_tmp41;
#line 1570
        __cil_tmp43 = *((char *)__cil_tmp42);
#line 1570
        __cil_tmp44 = (int )__cil_tmp43;
#line 1570
        if (__cil_tmp44 & 2) {
          {
#line 1571
          __cil_tmp45 = (int )current_drive;
#line 1571
          printk("floppy%d: clearing NEWCHANGE flag because of effective seek\n",
                 __cil_tmp45);
#line 1573
          __cil_tmp46 = (int )current_drive;
#line 1573
          printk("floppy%d: jiffies=%lu\n", __cil_tmp46, jiffies);
          }
        } else {

        }
        }
        {
#line 1576
        __cil_tmp47 = current_drive * 80UL;
#line 1576
        __cil_tmp48 = (unsigned long )(drive_state) + __cil_tmp47;
#line 1576
        __cil_tmp49 = (unsigned long *)__cil_tmp48;
#line 1576
        __cil_tmp50 = (unsigned long volatile   *)__cil_tmp49;
#line 1576
        clear_bit(2, __cil_tmp50);
#line 1577
        __cil_tmp51 = current_drive * 80UL;
#line 1577
        __cil_tmp52 = __cil_tmp51 + 16;
#line 1577
        __cil_tmp53 = (unsigned long )(drive_state) + __cil_tmp52;
#line 1577
        *((unsigned long *)__cil_tmp53) = jiffies;
        }
      } else {

      }
    } else {

    }
    }
  } else {

  }
  }
  {
#line 1579
  __cil_tmp54 = current_drive * 80UL;
#line 1579
  __cil_tmp55 = __cil_tmp54 + 34;
#line 1579
  __cil_tmp56 = (unsigned long )(drive_state) + __cil_tmp55;
#line 1579
  __cil_tmp57 = 1 * 1UL;
#line 1579
  __cil_tmp58 = (unsigned long )(reply_buffer) + __cil_tmp57;
#line 1579
  __cil_tmp59 = *((unsigned char *)__cil_tmp58);
#line 1579
  *((short *)__cil_tmp56) = (short )__cil_tmp59;
#line 1580
  __cil_tmp60 = & floppy_ready;
#line 1580
  (*__cil_tmp60)();
  }
#line 1581
  return;
}
}
#line 1583 "drivers/block/floppy.c"
static void check_wp(void) 
{ int tmp ;
  int tmp___0 ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  unsigned long *__cil_tmp5 ;
  void const   *__cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  char __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long *__cil_tmp14 ;
  unsigned long volatile   *__cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long *__cil_tmp18 ;
  unsigned long volatile   *__cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  char __cil_tmp23 ;
  int __cil_tmp24 ;
  int __cil_tmp25 ;
  int __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned char __cil_tmp29 ;
  int __cil_tmp30 ;
  int __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned char __cil_tmp34 ;
  int __cil_tmp35 ;
  int __cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  unsigned long __cil_tmp38 ;
  unsigned long *__cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  unsigned long __cil_tmp41 ;
  unsigned long *__cil_tmp42 ;
  unsigned long volatile   *__cil_tmp43 ;

  {
  {
#line 1585
  __cil_tmp3 = current_drive * 80UL;
#line 1585
  __cil_tmp4 = (unsigned long )(drive_state) + __cil_tmp3;
#line 1585
  __cil_tmp5 = (unsigned long *)__cil_tmp4;
#line 1585
  __cil_tmp6 = (void const   *)__cil_tmp5;
#line 1585
  tmp___0 = test_bit(1, __cil_tmp6);
  }
#line 1585
  if (tmp___0) {
    {
#line 1587
    output_byte((char)4);
#line 1588
    __cil_tmp7 = (int )current_drive;
#line 1588
    __cil_tmp8 = __cil_tmp7 & 3;
#line 1588
    __cil_tmp9 = (char )__cil_tmp8;
#line 1588
    output_byte(__cil_tmp9);
#line 1589
    tmp = result();
    }
#line 1589
    if (tmp != 1) {
#line 1590
      __cil_tmp10 = fdc * 40UL;
#line 1590
      __cil_tmp11 = (unsigned long )(fdc_state) + __cil_tmp10;
#line 1590
      ((struct floppy_fdc_state *)__cil_tmp11)->reset = 1U;
#line 1591
      return;
    } else {

    }
    {
#line 1593
    __cil_tmp12 = current_drive * 80UL;
#line 1593
    __cil_tmp13 = (unsigned long )(drive_state) + __cil_tmp12;
#line 1593
    __cil_tmp14 = (unsigned long *)__cil_tmp13;
#line 1593
    __cil_tmp15 = (unsigned long volatile   *)__cil_tmp14;
#line 1593
    clear_bit(1, __cil_tmp15);
#line 1594
    __cil_tmp16 = current_drive * 80UL;
#line 1594
    __cil_tmp17 = (unsigned long )(drive_state) + __cil_tmp16;
#line 1594
    __cil_tmp18 = (unsigned long *)__cil_tmp17;
#line 1594
    __cil_tmp19 = (unsigned long volatile   *)__cil_tmp18;
#line 1594
    clear_bit(0, __cil_tmp19);
    }
    {
#line 1596
    __cil_tmp20 = current_drive * 128UL;
#line 1596
    __cil_tmp21 = __cil_tmp20 + 96;
#line 1596
    __cil_tmp22 = (unsigned long )(drive_params) + __cil_tmp21;
#line 1596
    __cil_tmp23 = *((char *)__cil_tmp22);
#line 1596
    __cil_tmp24 = (int )__cil_tmp23;
#line 1596
    if (__cil_tmp24 & 2) {
      {
#line 1597
      __cil_tmp25 = (int )current_drive;
#line 1597
      printk("floppy%d: checking whether disk is write protected\n", __cil_tmp25);
#line 1598
      __cil_tmp26 = (int )current_drive;
#line 1598
      __cil_tmp27 = 0 * 1UL;
#line 1598
      __cil_tmp28 = (unsigned long )(reply_buffer) + __cil_tmp27;
#line 1598
      __cil_tmp29 = *((unsigned char *)__cil_tmp28);
#line 1598
      __cil_tmp30 = (int )__cil_tmp29;
#line 1598
      __cil_tmp31 = __cil_tmp30 & 64;
#line 1598
      printk("floppy%d: wp=%x\n", __cil_tmp26, __cil_tmp31);
      }
    } else {

    }
    }
    {
#line 1601
    __cil_tmp32 = 0 * 1UL;
#line 1601
    __cil_tmp33 = (unsigned long )(reply_buffer) + __cil_tmp32;
#line 1601
    __cil_tmp34 = *((unsigned char *)__cil_tmp33);
#line 1601
    __cil_tmp35 = (int )__cil_tmp34;
#line 1601
    __cil_tmp36 = __cil_tmp35 & 64;
#line 1601
    if (! __cil_tmp36) {
      {
#line 1602
      __cil_tmp37 = current_drive * 80UL;
#line 1602
      __cil_tmp38 = (unsigned long )(drive_state) + __cil_tmp37;
#line 1602
      __cil_tmp39 = (unsigned long *)__cil_tmp38;
#line 1602
      set_bit(5, __cil_tmp39);
      }
    } else {
      {
#line 1604
      __cil_tmp40 = current_drive * 80UL;
#line 1604
      __cil_tmp41 = (unsigned long )(drive_state) + __cil_tmp40;
#line 1604
      __cil_tmp42 = (unsigned long *)__cil_tmp41;
#line 1604
      __cil_tmp43 = (unsigned long volatile   *)__cil_tmp42;
#line 1604
      clear_bit(5, __cil_tmp43);
      }
    }
    }
  } else {

  }
#line 1606
  return;
}
}
#line 1608 "drivers/block/floppy.c"
static void seek_floppy(void) 
{ int track ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  char __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long *__cil_tmp14 ;
  void const   *__cil_tmp15 ;
  int __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long *__cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  void (*__cil_tmp23)(int  ) ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  void (*__cil_tmp26)(void) ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  short __cil_tmp30 ;
  int __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long *__cil_tmp34 ;
  void const   *__cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  unsigned long __cil_tmp38 ;
  unsigned long __cil_tmp39 ;
  short __cil_tmp40 ;
  int __cil_tmp41 ;
  unsigned long __cil_tmp42 ;
  unsigned long __cil_tmp43 ;
  int __cil_tmp44 ;
  unsigned long __cil_tmp45 ;
  unsigned long __cil_tmp46 ;
  unsigned long __cil_tmp47 ;
  short __cil_tmp48 ;
  int __cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  unsigned long __cil_tmp51 ;
  unsigned long __cil_tmp52 ;
  unsigned long __cil_tmp53 ;
  int __cil_tmp54 ;
  unsigned long __cil_tmp55 ;
  unsigned long __cil_tmp56 ;
  unsigned long __cil_tmp57 ;
  char __cil_tmp58 ;
  int __cil_tmp59 ;
  int __cil_tmp60 ;
  int __cil_tmp61 ;
  int __cil_tmp62 ;
  int __cil_tmp63 ;
  char __cil_tmp64 ;
  unsigned int __cil_tmp65 ;
  unsigned long __cil_tmp66 ;
  unsigned long __cil_tmp67 ;
  unsigned long __cil_tmp68 ;
  short __cil_tmp69 ;
  int __cil_tmp70 ;
  unsigned long __cil_tmp71 ;
  unsigned long __cil_tmp72 ;
  int __cil_tmp73 ;
  unsigned int __cil_tmp74 ;
  unsigned long __cil_tmp75 ;
  unsigned long __cil_tmp76 ;
  void (*__cil_tmp77)(void) ;
  void (*__cil_tmp78)(void) ;
  int __cil_tmp79 ;
  int __cil_tmp80 ;
  char __cil_tmp81 ;
  char __cil_tmp82 ;
  void (*__cil_tmp83)(void) ;

  {
#line 1612
  blind_seek = 0;
  {
#line 1615
  __cil_tmp6 = current_drive * 128UL;
#line 1615
  __cil_tmp7 = __cil_tmp6 + 96;
#line 1615
  __cil_tmp8 = (unsigned long )(drive_params) + __cil_tmp7;
#line 1615
  __cil_tmp9 = *((char *)__cil_tmp8);
#line 1615
  __cil_tmp10 = (int )__cil_tmp9;
#line 1615
  if (__cil_tmp10 & 2) {
    {
#line 1616
    __cil_tmp11 = (int )current_drive;
#line 1616
    printk("floppy%d: calling disk change from seek\n", __cil_tmp11);
    }
  } else {

  }
  }
  {
#line 1620
  __cil_tmp12 = current_drive * 80UL;
#line 1620
  __cil_tmp13 = (unsigned long )(drive_state) + __cil_tmp12;
#line 1620
  __cil_tmp14 = (unsigned long *)__cil_tmp13;
#line 1620
  __cil_tmp15 = (void const   *)__cil_tmp14;
#line 1620
  tmp = test_bit(2, __cil_tmp15);
  }
#line 1620
  if (! tmp) {
    {
#line 1620
    __cil_tmp16 = (int )current_drive;
#line 1620
    tmp___0 = disk_change(__cil_tmp16);
    }
#line 1620
    if (tmp___0) {
      {
#line 1620
      __cil_tmp17 = *((unsigned int *)raw_cmd);
#line 1620
      if (__cil_tmp17 & 64U) {
        {
#line 1626
        __cil_tmp18 = current_drive * 80UL;
#line 1626
        __cil_tmp19 = (unsigned long )(drive_state) + __cil_tmp18;
#line 1626
        __cil_tmp20 = (unsigned long *)__cil_tmp19;
#line 1626
        set_bit(4, __cil_tmp20);
#line 1627
        __cil_tmp21 = (unsigned long )cont;
#line 1627
        __cil_tmp22 = __cil_tmp21 + 24;
#line 1627
        __cil_tmp23 = *((void (**)(int  ))__cil_tmp22);
#line 1627
        (*__cil_tmp23)(0);
#line 1628
        __cil_tmp24 = (unsigned long )cont;
#line 1628
        __cil_tmp25 = __cil_tmp24 + 8;
#line 1628
        __cil_tmp26 = *((void (**)(void))__cil_tmp25);
#line 1628
        (*__cil_tmp26)();
        }
#line 1629
        return;
      } else {

      }
      }
    } else {

    }
  } else {

  }
  {
#line 1631
  __cil_tmp27 = current_drive * 80UL;
#line 1631
  __cil_tmp28 = __cil_tmp27 + 34;
#line 1631
  __cil_tmp29 = (unsigned long )(drive_state) + __cil_tmp28;
#line 1631
  __cil_tmp30 = *((short *)__cil_tmp29);
#line 1631
  __cil_tmp31 = (int )__cil_tmp30;
#line 1631
  if (__cil_tmp31 <= -2) {
    {
#line 1632
    recalibrate_floppy();
    }
#line 1633
    return;
  } else {
    {
#line 1634
    __cil_tmp32 = current_drive * 80UL;
#line 1634
    __cil_tmp33 = (unsigned long )(drive_state) + __cil_tmp32;
#line 1634
    __cil_tmp34 = (unsigned long *)__cil_tmp33;
#line 1634
    __cil_tmp35 = (void const   *)__cil_tmp34;
#line 1634
    tmp___1 = test_bit(2, __cil_tmp35);
    }
#line 1634
    if (tmp___1) {
      {
#line 1634
      __cil_tmp36 = *((unsigned int *)raw_cmd);
#line 1634
      if (__cil_tmp36 & 64U) {
        {
#line 1634
        __cil_tmp37 = current_drive * 80UL;
#line 1634
        __cil_tmp38 = __cil_tmp37 + 34;
#line 1634
        __cil_tmp39 = (unsigned long )(drive_state) + __cil_tmp38;
#line 1634
        __cil_tmp40 = *((short *)__cil_tmp39);
#line 1634
        __cil_tmp41 = (int )__cil_tmp40;
#line 1634
        if (__cil_tmp41 <= -1) {
#line 1634
          goto _L___0;
        } else {
          {
#line 1634
          __cil_tmp42 = (unsigned long )raw_cmd;
#line 1634
          __cil_tmp43 = __cil_tmp42 + 88;
#line 1634
          __cil_tmp44 = *((int *)__cil_tmp43);
#line 1634
          __cil_tmp45 = current_drive * 80UL;
#line 1634
          __cil_tmp46 = __cil_tmp45 + 34;
#line 1634
          __cil_tmp47 = (unsigned long )(drive_state) + __cil_tmp46;
#line 1634
          __cil_tmp48 = *((short *)__cil_tmp47);
#line 1634
          __cil_tmp49 = (int )__cil_tmp48;
#line 1634
          if (__cil_tmp49 == __cil_tmp44) {
            _L___0: 
            {
#line 1639
            __cil_tmp50 = (unsigned long )raw_cmd;
#line 1639
            __cil_tmp51 = __cil_tmp50 + 88;
#line 1639
            if (*((int *)__cil_tmp51)) {
#line 1640
              __cil_tmp52 = (unsigned long )raw_cmd;
#line 1640
              __cil_tmp53 = __cil_tmp52 + 88;
#line 1640
              __cil_tmp54 = *((int *)__cil_tmp53);
#line 1640
              track = __cil_tmp54 - 1;
            } else {
              {
#line 1642
              __cil_tmp55 = current_drive * 128UL;
#line 1642
              __cil_tmp56 = __cil_tmp55 + 96;
#line 1642
              __cil_tmp57 = (unsigned long )(drive_params) + __cil_tmp56;
#line 1642
              __cil_tmp58 = *((char *)__cil_tmp57);
#line 1642
              __cil_tmp59 = (int )__cil_tmp58;
#line 1642
              if (__cil_tmp59 & 4) {
                {
#line 1643
                __cil_tmp60 = (int )current_drive;
#line 1643
                __cil_tmp61 = __cil_tmp60 & 3;
#line 1643
                __cil_tmp62 = 16 << __cil_tmp61;
#line 1643
                __cil_tmp63 = ~ __cil_tmp62;
#line 1643
                __cil_tmp64 = (char )__cil_tmp63;
#line 1643
                set_dor(fdc, __cil_tmp64, (char)0);
#line 1644
                blind_seek = 1;
#line 1645
                __cil_tmp65 = *((unsigned int *)raw_cmd);
#line 1645
                *((unsigned int *)raw_cmd) = __cil_tmp65 | 128U;
                }
              } else {

              }
              }
#line 1647
              track = 1;
            }
            }
          } else {
#line 1634
            goto _L___1;
          }
          }
        }
        }
      } else {
#line 1634
        goto _L___1;
      }
      }
    } else {
      _L___1: 
      {
#line 1650
      check_wp();
      }
      {
#line 1651
      __cil_tmp66 = current_drive * 80UL;
#line 1651
      __cil_tmp67 = __cil_tmp66 + 34;
#line 1651
      __cil_tmp68 = (unsigned long )(drive_state) + __cil_tmp67;
#line 1651
      __cil_tmp69 = *((short *)__cil_tmp68);
#line 1651
      __cil_tmp70 = (int )__cil_tmp69;
#line 1651
      __cil_tmp71 = (unsigned long )raw_cmd;
#line 1651
      __cil_tmp72 = __cil_tmp71 + 88;
#line 1651
      __cil_tmp73 = *((int *)__cil_tmp72);
#line 1651
      if (__cil_tmp73 != __cil_tmp70) {
        {
#line 1651
        __cil_tmp74 = *((unsigned int *)raw_cmd);
#line 1651
        if (__cil_tmp74 & 128U) {
#line 1653
          __cil_tmp75 = (unsigned long )raw_cmd;
#line 1653
          __cil_tmp76 = __cil_tmp75 + 88;
#line 1653
          track = *((int *)__cil_tmp76);
        } else {
          {
#line 1655
          __cil_tmp77 = & setup_rw_floppy;
#line 1655
          (*__cil_tmp77)();
          }
#line 1656
          return;
        }
        }
      } else {
        {
#line 1655
        __cil_tmp78 = & setup_rw_floppy;
#line 1655
        (*__cil_tmp78)();
        }
#line 1656
        return;
      }
      }
    }
  }
  }
  {
#line 1660
  do_floppy = & seek_interrupt;
#line 1661
  output_byte((char)15);
#line 1662
  __cil_tmp79 = (int )current_drive;
#line 1662
  __cil_tmp80 = __cil_tmp79 & 3;
#line 1662
  __cil_tmp81 = (char )__cil_tmp80;
#line 1662
  output_byte(__cil_tmp81);
#line 1663
  __cil_tmp82 = (char )track;
#line 1663
  tmp___2 = output_byte(__cil_tmp82);
  }
#line 1663
  if (tmp___2 < 0) {
    {
#line 1663
    __cil_tmp83 = & reset_fdc;
#line 1663
    (*__cil_tmp83)();
    }
#line 1663
    return;
  } else {

  }
  {
#line 1664
  debugt("seek command:");
  }
#line 1665
  return;
}
}
#line 1667 "drivers/block/floppy.c"
static void recal_interrupt(void) 
{ unsigned long __cil_tmp1 ;
  unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  unsigned char __cil_tmp5 ;
  int __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  short __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  void (*__cil_tmp13)(void) ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  void (*__cil_tmp16)(void) ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  char __cil_tmp20 ;
  int __cil_tmp21 ;
  int __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long *__cil_tmp25 ;
  unsigned long volatile   *__cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned long __cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  unsigned char __cil_tmp38 ;
  void (*__cil_tmp39)(void) ;

  {
  {
#line 1669
  debugt("recal interrupt:");
  }
#line 1670
  if (inr != 2) {
#line 1671
    __cil_tmp1 = fdc * 40UL;
#line 1671
    __cil_tmp2 = (unsigned long )(fdc_state) + __cil_tmp1;
#line 1671
    ((struct floppy_fdc_state *)__cil_tmp2)->reset = 1U;
  } else {
    {
#line 1672
    __cil_tmp3 = 0 * 1UL;
#line 1672
    __cil_tmp4 = (unsigned long )(reply_buffer) + __cil_tmp3;
#line 1672
    __cil_tmp5 = *((unsigned char *)__cil_tmp4);
#line 1672
    __cil_tmp6 = (int )__cil_tmp5;
#line 1672
    if (__cil_tmp6 & 16) {
      {
#line 1673
      __cil_tmp7 = current_drive * 80UL;
#line 1673
      __cil_tmp8 = __cil_tmp7 + 34;
#line 1673
      __cil_tmp9 = (unsigned long )(drive_state) + __cil_tmp8;
#line 1673
      __cil_tmp10 = *((short *)__cil_tmp9);
      {
#line 1674
      if ((int )__cil_tmp10 == -2) {
#line 1674
        goto case_neg_2;
      } else {

      }
#line 1683
      if ((int )__cil_tmp10 == -3) {
#line 1683
        goto case_neg_3;
      } else {

      }
#line 1700
      goto switch_default;
      case_neg_2: /* CIL Label */ 
      {
#line 1675
      debugt("recal interrupt need 1 recal:");
#line 1680
      __cil_tmp11 = (unsigned long )cont;
#line 1680
      __cil_tmp12 = __cil_tmp11 + 16;
#line 1680
      __cil_tmp13 = *((void (**)(void))__cil_tmp12);
#line 1680
      (*__cil_tmp13)();
#line 1681
      __cil_tmp14 = (unsigned long )cont;
#line 1681
      __cil_tmp15 = __cil_tmp14 + 8;
#line 1681
      __cil_tmp16 = *((void (**)(void))__cil_tmp15);
#line 1681
      (*__cil_tmp16)();
      }
#line 1682
      return;
      case_neg_3: /* CIL Label */ 
      {
#line 1684
      debugt("recal interrupt need 2 recal:");
      }
      {
#line 1692
      __cil_tmp17 = current_drive * 128UL;
#line 1692
      __cil_tmp18 = __cil_tmp17 + 96;
#line 1692
      __cil_tmp19 = (unsigned long )(drive_params) + __cil_tmp18;
#line 1692
      __cil_tmp20 = *((char *)__cil_tmp19);
#line 1692
      __cil_tmp21 = (int )__cil_tmp20;
#line 1692
      if (__cil_tmp21 & 2) {
        {
#line 1693
        __cil_tmp22 = (int )current_drive;
#line 1693
        printk("floppy%d: clearing NEWCHANGE flag because of second recalibrate\n",
               __cil_tmp22);
        }
      } else {

      }
      }
      {
#line 1698
      __cil_tmp23 = current_drive * 80UL;
#line 1698
      __cil_tmp24 = (unsigned long )(drive_state) + __cil_tmp23;
#line 1698
      __cil_tmp25 = (unsigned long *)__cil_tmp24;
#line 1698
      __cil_tmp26 = (unsigned long volatile   *)__cil_tmp25;
#line 1698
      clear_bit(2, __cil_tmp26);
#line 1699
      __cil_tmp27 = current_drive * 80UL;
#line 1699
      __cil_tmp28 = __cil_tmp27 + 16;
#line 1699
      __cil_tmp29 = (unsigned long )(drive_state) + __cil_tmp28;
#line 1699
      *((unsigned long *)__cil_tmp29) = jiffies;
      }
      switch_default: /* CIL Label */ 
      {
#line 1702
      debugt("recal interrupt default:");
#line 1709
      __cil_tmp30 = current_drive * 80UL;
#line 1709
      __cil_tmp31 = __cil_tmp30 + 34;
#line 1709
      __cil_tmp32 = (unsigned long )(drive_state) + __cil_tmp31;
#line 1709
      *((short *)__cil_tmp32) = (short)-2;
      }
#line 1710
      goto switch_break;
      switch_break: /* CIL Label */ ;
      }
      }
    } else {
#line 1713
      __cil_tmp33 = current_drive * 80UL;
#line 1713
      __cil_tmp34 = __cil_tmp33 + 34;
#line 1713
      __cil_tmp35 = (unsigned long )(drive_state) + __cil_tmp34;
#line 1713
      __cil_tmp36 = 1 * 1UL;
#line 1713
      __cil_tmp37 = (unsigned long )(reply_buffer) + __cil_tmp36;
#line 1713
      __cil_tmp38 = *((unsigned char *)__cil_tmp37);
#line 1713
      *((short *)__cil_tmp35) = (short )__cil_tmp38;
    }
    }
  }
  {
#line 1714
  __cil_tmp39 = & floppy_ready;
#line 1714
  (*__cil_tmp39)();
  }
#line 1715
  return;
}
}
#line 1717 "drivers/block/floppy.c"
static void print_result(char *message , int inr___0 ) 
{ int i ;
  int __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned char __cil_tmp7 ;
  int __cil_tmp8 ;

  {
  {
#line 1721
  __cil_tmp4 = (int )current_drive;
#line 1721
  printk("floppy%d: %s ", __cil_tmp4, message);
  }
#line 1722
  if (inr___0 >= 0) {
#line 1723
    i = 0;
    {
#line 1723
    while (1) {
      while_continue: /* CIL Label */ ;
#line 1723
      if (i < inr___0) {

      } else {
#line 1723
        goto while_break;
      }
      {
#line 1724
      __cil_tmp5 = i * 1UL;
#line 1724
      __cil_tmp6 = (unsigned long )(reply_buffer) + __cil_tmp5;
#line 1724
      __cil_tmp7 = *((unsigned char *)__cil_tmp6);
#line 1724
      __cil_tmp8 = (int )__cil_tmp7;
#line 1724
      printk("repl[%d]=%x ", i, __cil_tmp8);
#line 1723
      i = i + 1;
      }
    }
    while_break: /* CIL Label */ ;
    }
  } else {

  }
  {
#line 1725
  printk("\n");
  }
#line 1726
  return;
}
}
#line 1729 "drivers/block/floppy.c"
irqreturn_t floppy_interrupt(int irq , void *dev_id ) 
{ void (*handler)(void) ;
  int do_print ;
  unsigned long f ;
  int tmp ;
  int tmp___0 ;
  int max_sensei ;
  void *__cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned char __cil_tmp13 ;
  int __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned char __cil_tmp22 ;
  int __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  int *__cil_tmp26 ;
  char *__cil_tmp27 ;
  char *__cil_tmp28 ;
  int __cil_tmp29 ;
  int __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned char __cil_tmp33 ;
  int __cil_tmp34 ;
  int __cil_tmp35 ;
  unsigned long __cil_tmp36 ;
  unsigned long __cil_tmp37 ;

  {
  {
#line 1731
  handler = do_floppy;
#line 1735
  lasthandler = handler;
#line 1736
  interruptjiffies = jiffies;
#line 1738
  tmp = claim_dma_lock();
#line 1738
  f = (unsigned long )tmp;
#line 1739
  fd_disable_dma();
#line 1740
  release_dma_lock(f);
#line 1742
  floppy_enable_hlt();
#line 1743
  __cil_tmp9 = (void *)0;
#line 1743
  do_floppy = (void (*)(void))__cil_tmp9;
  }
#line 1744
  if (fdc >= 2) {
    {
#line 1746
    __cil_tmp10 = 0 * 40UL;
#line 1746
    __cil_tmp11 = __cil_tmp10 + 13;
#line 1746
    __cil_tmp12 = (unsigned long )(fdc_state) + __cil_tmp11;
#line 1746
    __cil_tmp13 = *((unsigned char *)__cil_tmp12);
#line 1746
    __cil_tmp14 = (int )__cil_tmp13;
#line 1746
    printk("DOR0=%x\n", __cil_tmp14);
#line 1747
    printk("floppy interrupt on bizarre fdc %d\n", fdc);
#line 1748
    printk("handler=%p\n", handler);
#line 1749
    is_alive("bizarre fdc");
    }
#line 1750
    return (0);
  } else {
    {
#line 1744
    __cil_tmp15 = fdc * 40UL;
#line 1744
    __cil_tmp16 = __cil_tmp15 + 16;
#line 1744
    __cil_tmp17 = (unsigned long )(fdc_state) + __cil_tmp16;
#line 1744
    __cil_tmp18 = *((unsigned long *)__cil_tmp17);
#line 1744
    if (__cil_tmp18 == 0xffffffffffffffffUL) {
      {
#line 1746
      __cil_tmp19 = 0 * 40UL;
#line 1746
      __cil_tmp20 = __cil_tmp19 + 13;
#line 1746
      __cil_tmp21 = (unsigned long )(fdc_state) + __cil_tmp20;
#line 1746
      __cil_tmp22 = *((unsigned char *)__cil_tmp21);
#line 1746
      __cil_tmp23 = (int )__cil_tmp22;
#line 1746
      printk("DOR0=%x\n", __cil_tmp23);
#line 1747
      printk("floppy interrupt on bizarre fdc %d\n", fdc);
#line 1748
      printk("handler=%p\n", handler);
#line 1749
      is_alive("bizarre fdc");
      }
#line 1750
      return (0);
    } else {

    }
    }
  }
#line 1753
  __cil_tmp24 = fdc * 40UL;
#line 1753
  __cil_tmp25 = (unsigned long )(fdc_state) + __cil_tmp24;
#line 1753
  ((struct floppy_fdc_state *)__cil_tmp25)->reset = 0U;
#line 1763
  if (! handler) {
    {
#line 1763
    __cil_tmp26 = & print_unex;
#line 1763
    if (*__cil_tmp26) {
#line 1763
      if (! initialising) {
#line 1763
        tmp___0 = 1;
      } else {
#line 1763
        tmp___0 = 0;
      }
    } else {
#line 1763
      tmp___0 = 0;
    }
    }
  } else {
#line 1763
    tmp___0 = 0;
  }
  {
#line 1763
  do_print = tmp___0;
#line 1765
  inr = result();
  }
#line 1766
  if (do_print) {
    {
#line 1767
    __cil_tmp27 = (char *)"unexpected interrupt";
#line 1767
    print_result(__cil_tmp27, inr);
    }
  } else {

  }
#line 1768
  if (inr == 0) {
#line 1769
    max_sensei = 4;
    {
#line 1770
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 1771
      output_byte((char)8);
#line 1772
      inr = result();
      }
#line 1773
      if (do_print) {
        {
#line 1774
        __cil_tmp28 = (char *)"sensei";
#line 1774
        print_result(__cil_tmp28, inr);
        }
      } else {

      }
#line 1775
      max_sensei = max_sensei - 1;
      {
#line 1770
      __cil_tmp29 = (int )current_drive;
#line 1770
      __cil_tmp30 = __cil_tmp29 & 3;
#line 1770
      __cil_tmp31 = 0 * 1UL;
#line 1770
      __cil_tmp32 = (unsigned long )(reply_buffer) + __cil_tmp31;
#line 1770
      __cil_tmp33 = *((unsigned char *)__cil_tmp32);
#line 1770
      __cil_tmp34 = (int )__cil_tmp33;
#line 1770
      __cil_tmp35 = __cil_tmp34 & 131;
#line 1770
      if (__cil_tmp35 != __cil_tmp30) {
#line 1770
        if (inr == 2) {
#line 1770
          if (! max_sensei) {
#line 1770
            goto while_break;
          } else {

          }
        } else {
#line 1770
          goto while_break;
        }
      } else {
#line 1770
        goto while_break;
      }
      }
    }
    while_break: /* CIL Label */ ;
    }
  } else {

  }
#line 1779
  if (! handler) {
#line 1780
    __cil_tmp36 = fdc * 40UL;
#line 1780
    __cil_tmp37 = (unsigned long )(fdc_state) + __cil_tmp36;
#line 1780
    ((struct floppy_fdc_state *)__cil_tmp37)->reset = 1U;
#line 1781
    return (0);
  } else {

  }
  {
#line 1783
  schedule_bh(handler);
#line 1784
  is_alive("normal interrupt end");
  }
#line 1787
  return (1);
}
}
#line 1790 "drivers/block/floppy.c"
static void recalibrate_floppy(void) 
{ int tmp ;
  int __cil_tmp2 ;
  int __cil_tmp3 ;
  char __cil_tmp4 ;
  void (*__cil_tmp5)(void) ;

  {
  {
#line 1792
  debugt("recalibrate floppy:");
#line 1793
  do_floppy = & recal_interrupt;
#line 1794
  output_byte((char)7);
#line 1795
  __cil_tmp2 = (int )current_drive;
#line 1795
  __cil_tmp3 = __cil_tmp2 & 3;
#line 1795
  __cil_tmp4 = (char )__cil_tmp3;
#line 1795
  tmp = output_byte(__cil_tmp4);
  }
#line 1795
  if (tmp < 0) {
    {
#line 1795
    __cil_tmp5 = & reset_fdc;
#line 1795
    (*__cil_tmp5)();
    }
#line 1795
    return;
  } else {

  }
#line 1796
  return;
}
}
#line 1801 "drivers/block/floppy.c"
static void reset_interrupt(void) 
{ unsigned long __cil_tmp1 ;
  unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  void (*__cil_tmp5)(void) ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  void (*__cil_tmp8)(void) ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  void (*__cil_tmp11)(void) ;

  {
  {
#line 1803
  debugt("reset interrupt:");
#line 1804
  result();
  }
  {
#line 1805
  __cil_tmp1 = fdc * 40UL;
#line 1805
  __cil_tmp2 = (unsigned long )(fdc_state) + __cil_tmp1;
#line 1805
  if (((struct floppy_fdc_state *)__cil_tmp2)->reset) {
    {
#line 1806
    __cil_tmp3 = (unsigned long )cont;
#line 1806
    __cil_tmp4 = __cil_tmp3 + 16;
#line 1806
    __cil_tmp5 = *((void (**)(void))__cil_tmp4);
#line 1806
    printk("reset set in interrupt, calling %p\n", __cil_tmp5);
#line 1807
    __cil_tmp6 = (unsigned long )cont;
#line 1807
    __cil_tmp7 = __cil_tmp6 + 16;
#line 1807
    __cil_tmp8 = *((void (**)(void))__cil_tmp7);
#line 1807
    (*__cil_tmp8)();
    }
  } else {

  }
  }
  {
#line 1809
  __cil_tmp9 = (unsigned long )cont;
#line 1809
  __cil_tmp10 = __cil_tmp9 + 8;
#line 1809
  __cil_tmp11 = *((void (**)(void))__cil_tmp10);
#line 1809
  (*__cil_tmp11)();
  }
#line 1810
  return;
}
}
#line 1816 "drivers/block/floppy.c"
static void reset_fdc(void) 
{ unsigned long flags ;
  int tmp ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned char __cil_tmp8 ;
  int __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned char __cil_tmp24 ;
  int __cil_tmp25 ;
  int __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned char __cil_tmp35 ;
  int __cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  unsigned long __cil_tmp38 ;
  unsigned long __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  unsigned long __cil_tmp41 ;

  {
  {
#line 1820
  do_floppy = & reset_interrupt;
#line 1821
  __cil_tmp3 = fdc * 40UL;
#line 1821
  __cil_tmp4 = (unsigned long )(fdc_state) + __cil_tmp3;
#line 1821
  ((struct floppy_fdc_state *)__cil_tmp4)->reset = 0U;
#line 1822
  reset_fdc_info(0);
#line 1827
  tmp = claim_dma_lock();
#line 1827
  flags = (unsigned long )tmp;
#line 1828
  fd_disable_dma();
#line 1829
  release_dma_lock(flags);
  }
  {
#line 1831
  __cil_tmp5 = fdc * 40UL;
#line 1831
  __cil_tmp6 = __cil_tmp5 + 12;
#line 1831
  __cil_tmp7 = (unsigned long )(fdc_state) + __cil_tmp6;
#line 1831
  __cil_tmp8 = *((unsigned char *)__cil_tmp7);
#line 1831
  __cil_tmp9 = (int )__cil_tmp8;
#line 1831
  if (__cil_tmp9 >= 69) {
    {
#line 1832
    __cil_tmp10 = fdc * 40UL;
#line 1832
    __cil_tmp11 = __cil_tmp10 + 8;
#line 1832
    __cil_tmp12 = (unsigned long )(fdc_state) + __cil_tmp11;
#line 1832
    __cil_tmp13 = *((int *)__cil_tmp12);
#line 1832
    __cil_tmp14 = __cil_tmp13 & 3;
#line 1832
    __cil_tmp15 = 128 | __cil_tmp14;
#line 1832
    __cil_tmp16 = fdc * 40UL;
#line 1832
    __cil_tmp17 = __cil_tmp16 + 16;
#line 1832
    __cil_tmp18 = (unsigned long )(fdc_state) + __cil_tmp17;
#line 1832
    __cil_tmp19 = *((unsigned long *)__cil_tmp18);
#line 1832
    __cil_tmp20 = 4UL + __cil_tmp19;
#line 1832
    fd_outb(__cil_tmp15, __cil_tmp20);
    }
  } else {
    {
#line 1834
    __cil_tmp21 = fdc * 40UL;
#line 1834
    __cil_tmp22 = __cil_tmp21 + 13;
#line 1834
    __cil_tmp23 = (unsigned long )(fdc_state) + __cil_tmp22;
#line 1834
    __cil_tmp24 = *((unsigned char *)__cil_tmp23);
#line 1834
    __cil_tmp25 = (int )__cil_tmp24;
#line 1834
    __cil_tmp26 = __cil_tmp25 & -5;
#line 1834
    __cil_tmp27 = fdc * 40UL;
#line 1834
    __cil_tmp28 = __cil_tmp27 + 16;
#line 1834
    __cil_tmp29 = (unsigned long )(fdc_state) + __cil_tmp28;
#line 1834
    __cil_tmp30 = *((unsigned long *)__cil_tmp29);
#line 1834
    __cil_tmp31 = 2UL + __cil_tmp30;
#line 1834
    fd_outb(__cil_tmp26, __cil_tmp31);
#line 1835
    udelay(20);
#line 1836
    __cil_tmp32 = fdc * 40UL;
#line 1836
    __cil_tmp33 = __cil_tmp32 + 13;
#line 1836
    __cil_tmp34 = (unsigned long )(fdc_state) + __cil_tmp33;
#line 1836
    __cil_tmp35 = *((unsigned char *)__cil_tmp34);
#line 1836
    __cil_tmp36 = (int )__cil_tmp35;
#line 1836
    __cil_tmp37 = fdc * 40UL;
#line 1836
    __cil_tmp38 = __cil_tmp37 + 16;
#line 1836
    __cil_tmp39 = (unsigned long )(fdc_state) + __cil_tmp38;
#line 1836
    __cil_tmp40 = *((unsigned long *)__cil_tmp39);
#line 1836
    __cil_tmp41 = 2UL + __cil_tmp40;
#line 1836
    fd_outb(__cil_tmp36, __cil_tmp41);
    }
  }
  }
#line 1838
  return;
}
}
#line 1840 "drivers/block/floppy.c"
static void show_floppy(void) 
{ int i ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  unsigned long __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned char __cil_tmp10 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned char __cil_tmp17 ;
  int __cil_tmp18 ;
  int __cil_tmp19 ;
  int __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned char __cil_tmp27 ;
  int __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long *__cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  struct work_struct *__cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  void (*__cil_tmp38)(void * ) ;
  unsigned long __cil_tmp39 ;
  void (*__cil_tmp40)(unsigned long  ) ;
  unsigned long __cil_tmp41 ;
  void (*__cil_tmp42)(unsigned long  ) ;
  struct timer_list *__cil_tmp43 ;
  unsigned long __cil_tmp44 ;
  unsigned long __cil_tmp45 ;

  {
  {
#line 1844
  printk("\n");
#line 1845
  printk("floppy driver state\n");
#line 1846
  printk("-------------------\n");
#line 1847
  __cil_tmp5 = jiffies - interruptjiffies;
#line 1847
  printk("now=%lu last interrupt=%lu diff=%lu last called handler=%p\n", jiffies,
         interruptjiffies, __cil_tmp5, lasthandler);
#line 1852
  printk("timeout_message=%s\n", timeout_message);
#line 1853
  printk("last output bytes:\n");
#line 1854
  i = 0;
  }
  {
#line 1854
  while (1) {
    while_continue: /* CIL Label */ ;
#line 1854
    if (i < 20) {

    } else {
#line 1854
      goto while_break;
    }
    {
#line 1855
    __cil_tmp6 = i + output_log_pos;
#line 1855
    __cil_tmp7 = __cil_tmp6 % 20;
#line 1855
    __cil_tmp8 = __cil_tmp7 * 16UL;
#line 1855
    __cil_tmp9 = (unsigned long )(output_log) + __cil_tmp8;
#line 1855
    __cil_tmp10 = *((unsigned char *)__cil_tmp9);
#line 1855
    __cil_tmp11 = (int )__cil_tmp10;
#line 1855
    __cil_tmp12 = i + output_log_pos;
#line 1855
    __cil_tmp13 = __cil_tmp12 % 20;
#line 1855
    __cil_tmp14 = __cil_tmp13 * 16UL;
#line 1855
    __cil_tmp15 = __cil_tmp14 + 1;
#line 1855
    __cil_tmp16 = (unsigned long )(output_log) + __cil_tmp15;
#line 1855
    __cil_tmp17 = *((unsigned char *)__cil_tmp16);
#line 1855
    __cil_tmp18 = (int )__cil_tmp17;
#line 1855
    __cil_tmp19 = i + output_log_pos;
#line 1855
    __cil_tmp20 = __cil_tmp19 % 20;
#line 1855
    __cil_tmp21 = __cil_tmp20 * 16UL;
#line 1855
    __cil_tmp22 = __cil_tmp21 + 8;
#line 1855
    __cil_tmp23 = (unsigned long )(output_log) + __cil_tmp22;
#line 1855
    __cil_tmp24 = *((unsigned long *)__cil_tmp23);
#line 1855
    printk("%2x %2x %lu\n", __cil_tmp11, __cil_tmp18, __cil_tmp24);
#line 1854
    i = i + 1;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 1859
  printk("last result at %lu\n", resultjiffies);
#line 1860
  printk("last redo_fd_request at %lu\n", lastredo);
#line 1861
  i = 0;
  }
  {
#line 1861
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 1861
    if (i < resultsize) {

    } else {
#line 1861
      goto while_break___0;
    }
    {
#line 1862
    __cil_tmp25 = i * 1UL;
#line 1862
    __cil_tmp26 = (unsigned long )(reply_buffer) + __cil_tmp25;
#line 1862
    __cil_tmp27 = *((unsigned char *)__cil_tmp26);
#line 1862
    __cil_tmp28 = (int )__cil_tmp27;
#line 1862
    printk("%2x ", __cil_tmp28);
#line 1861
    i = i + 1;
    }
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 1864
  printk("\n");
#line 1867
  __cil_tmp29 = fdc * 40UL;
#line 1867
  __cil_tmp30 = __cil_tmp29 + 16;
#line 1867
  __cil_tmp31 = (unsigned long )(fdc_state) + __cil_tmp30;
#line 1867
  __cil_tmp32 = *((unsigned long *)__cil_tmp31);
#line 1867
  __cil_tmp33 = 4UL + __cil_tmp32;
#line 1867
  tmp = fd_inb(__cil_tmp33);
#line 1867
  printk("status=%x\n", tmp);
#line 1868
  __cil_tmp34 = & fdc_busy;
#line 1868
  __cil_tmp35 = *__cil_tmp34;
#line 1868
  printk("fdc_busy=%lu\n", __cil_tmp35);
  }
#line 1869
  if (do_floppy) {
    {
#line 1870
    printk("do_floppy=%p\n", do_floppy);
    }
  } else {

  }
  {
#line 1871
  __cil_tmp36 = & floppy_work;
#line 1871
  if (*((unsigned long *)__cil_tmp36)) {
    {
#line 1872
    __cil_tmp37 = (unsigned long )(& floppy_work) + 8;
#line 1872
    __cil_tmp38 = *((void (**)(void * ))__cil_tmp37);
#line 1872
    printk("floppy_work.func=%p\n", __cil_tmp38);
    }
  } else {

  }
  }
  {
#line 1873
  tmp___0 = timer_pending(& fd_timer);
  }
#line 1873
  if (tmp___0) {
    {
#line 1874
    __cil_tmp39 = (unsigned long )(& fd_timer) + 8;
#line 1874
    __cil_tmp40 = *((void (**)(unsigned long  ))__cil_tmp39);
#line 1874
    printk("fd_timer.function=%p\n", __cil_tmp40);
    }
  } else {

  }
  {
#line 1875
  tmp___1 = timer_pending(& fd_timeout);
  }
#line 1875
  if (tmp___1) {
    {
#line 1876
    __cil_tmp41 = (unsigned long )(& fd_timeout) + 8;
#line 1876
    __cil_tmp42 = *((void (**)(unsigned long  ))__cil_tmp41);
#line 1876
    printk("timer_function=%p\n", __cil_tmp42);
#line 1877
    __cil_tmp43 = & fd_timeout;
#line 1877
    __cil_tmp44 = *((unsigned long *)__cil_tmp43);
#line 1877
    __cil_tmp45 = __cil_tmp44 - jiffies;
#line 1877
    printk("expires=%lu\n", __cil_tmp45);
#line 1878
    printk("now=%lu\n", jiffies);
    }
  } else {

  }
  {
#line 1880
  printk("cont=%p\n", cont);
#line 1881
  printk("current_req=%p\n", current_req);
#line 1882
  printk("command_status=%d\n", command_status);
#line 1883
  printk("\n");
  }
#line 1884
  return;
}
}
#line 1886 "drivers/block/floppy.c"
static void floppy_shutdown(unsigned long data ) 
{ unsigned long flags ;
  int tmp ;
  int __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  void (*__cil_tmp9)(int  ) ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  void (*__cil_tmp12)(void) ;
  void (*__cil_tmp13)(void) ;

  {
#line 1890
  if (! initialising) {
    {
#line 1891
    show_floppy();
    }
  } else {

  }
  {
#line 1892
  cancel_activity();
#line 1894
  floppy_enable_hlt();
#line 1896
  tmp = claim_dma_lock();
#line 1896
  flags = (unsigned long )tmp;
#line 1897
  fd_disable_dma();
#line 1898
  release_dma_lock(flags);
  }
#line 1902
  if (! initialising) {
    {
#line 1903
    __cil_tmp4 = (int )current_drive;
#line 1903
    printk("floppy%d: floppy timeout called\n", __cil_tmp4);
    }
  } else {

  }
#line 1904
  __cil_tmp5 = fdc * 40UL;
#line 1904
  __cil_tmp6 = (unsigned long )(fdc_state) + __cil_tmp5;
#line 1904
  ((struct floppy_fdc_state *)__cil_tmp6)->reset = 1U;
#line 1905
  if (cont) {
    {
#line 1906
    __cil_tmp7 = (unsigned long )cont;
#line 1906
    __cil_tmp8 = __cil_tmp7 + 24;
#line 1906
    __cil_tmp9 = *((void (**)(int  ))__cil_tmp8);
#line 1906
    (*__cil_tmp9)(0);
#line 1907
    __cil_tmp10 = (unsigned long )cont;
#line 1907
    __cil_tmp11 = __cil_tmp10 + 8;
#line 1907
    __cil_tmp12 = *((void (**)(void))__cil_tmp11);
#line 1907
    (*__cil_tmp12)();
    }
  } else {
    {
#line 1909
    printk("no cont in shutdown!\n");
#line 1910
    __cil_tmp13 = & process_fd_request;
#line 1910
    (*__cil_tmp13)();
    }
  }
  {
#line 1912
  is_alive("floppy shutdown");
  }
#line 1913
  return;
}
}
#line 1918 "drivers/block/floppy.c"
static int start_motor(void (*function)(void) ) 
{ int mask ;
  int data ;
  int tmp ;
  int __cil_tmp5 ;
  unsigned int __cil_tmp6 ;
  unsigned int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned char __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  int __cil_tmp23 ;
  int __cil_tmp24 ;
  int __cil_tmp25 ;
  int __cil_tmp26 ;
  int __cil_tmp27 ;
  int __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  unsigned char __cil_tmp32 ;
  int __cil_tmp33 ;
  int __cil_tmp34 ;
  int __cil_tmp35 ;
  int __cil_tmp36 ;
  int __cil_tmp37 ;
  int __cil_tmp38 ;
  unsigned long __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  struct timer_list *__cil_tmp41 ;
  struct timer_list *__cil_tmp42 ;
  char __cil_tmp43 ;
  char __cil_tmp44 ;
  unsigned long __cil_tmp45 ;
  unsigned long __cil_tmp46 ;
  unsigned long __cil_tmp47 ;
  unsigned char __cil_tmp48 ;
  unsigned long __cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  unsigned long __cil_tmp51 ;
  unsigned long __cil_tmp52 ;
  unsigned long __cil_tmp53 ;
  unsigned long __cil_tmp54 ;
  void (*__cil_tmp55)(unsigned long  ) ;

  {
#line 1922
  mask = 252;
#line 1923
  __cil_tmp5 = (int )current_drive;
#line 1923
  data = __cil_tmp5 & 3;
  {
#line 1924
  __cil_tmp6 = *((unsigned int *)raw_cmd);
#line 1924
  __cil_tmp7 = __cil_tmp6 & 4U;
#line 1924
  if (! __cil_tmp7) {
    {
#line 1925
    __cil_tmp8 = (int )current_drive;
#line 1925
    __cil_tmp9 = __cil_tmp8 & 3;
#line 1925
    __cil_tmp10 = 16 << __cil_tmp9;
#line 1925
    __cil_tmp11 = fdc * 40UL;
#line 1925
    __cil_tmp12 = __cil_tmp11 + 13;
#line 1925
    __cil_tmp13 = (unsigned long )(fdc_state) + __cil_tmp12;
#line 1925
    __cil_tmp14 = *((unsigned char *)__cil_tmp13);
#line 1925
    __cil_tmp15 = (int )__cil_tmp14;
#line 1925
    __cil_tmp16 = __cil_tmp15 & __cil_tmp10;
#line 1925
    if (! __cil_tmp16) {
      {
#line 1926
      set_debugt();
#line 1928
      __cil_tmp17 = current_drive * 80UL;
#line 1928
      __cil_tmp18 = __cil_tmp17 + 24;
#line 1928
      __cil_tmp19 = (unsigned long )(drive_state) + __cil_tmp18;
#line 1928
      *((unsigned long *)__cil_tmp19) = 0UL;
#line 1930
      __cil_tmp20 = current_drive * 80UL;
#line 1930
      __cil_tmp21 = __cil_tmp20 + 8;
#line 1930
      __cil_tmp22 = (unsigned long )(drive_state) + __cil_tmp21;
#line 1930
      *((unsigned long *)__cil_tmp22) = jiffies;
#line 1931
      __cil_tmp23 = (int )current_drive;
#line 1931
      __cil_tmp24 = __cil_tmp23 & 3;
#line 1931
      __cil_tmp25 = 16 << __cil_tmp24;
#line 1931
      data = data | __cil_tmp25;
      }
    } else {

    }
    }
  } else {
    {
#line 1933
    __cil_tmp26 = (int )current_drive;
#line 1933
    __cil_tmp27 = __cil_tmp26 & 3;
#line 1933
    __cil_tmp28 = 16 << __cil_tmp27;
#line 1933
    __cil_tmp29 = fdc * 40UL;
#line 1933
    __cil_tmp30 = __cil_tmp29 + 13;
#line 1933
    __cil_tmp31 = (unsigned long )(fdc_state) + __cil_tmp30;
#line 1933
    __cil_tmp32 = *((unsigned char *)__cil_tmp31);
#line 1933
    __cil_tmp33 = (int )__cil_tmp32;
#line 1933
    if (__cil_tmp33 & __cil_tmp28) {
#line 1934
      __cil_tmp34 = (int )current_drive;
#line 1934
      __cil_tmp35 = __cil_tmp34 & 3;
#line 1934
      __cil_tmp36 = 16 << __cil_tmp35;
#line 1934
      __cil_tmp37 = ~ __cil_tmp36;
#line 1934
      mask = mask & __cil_tmp37;
    } else {

    }
    }
  }
  }
  {
#line 1937
  __cil_tmp38 = (int )current_drive;
#line 1937
  __cil_tmp39 = 0 * 32UL;
#line 1937
  __cil_tmp40 = (unsigned long )(motor_off_timer) + __cil_tmp39;
#line 1937
  __cil_tmp41 = (struct timer_list *)__cil_tmp40;
#line 1937
  __cil_tmp42 = __cil_tmp41 + __cil_tmp38;
#line 1937
  del_timer(__cil_tmp42);
#line 1938
  __cil_tmp43 = (char )mask;
#line 1938
  __cil_tmp44 = (char )data;
#line 1938
  set_dor(fdc, __cil_tmp43, __cil_tmp44);
#line 1941
  __cil_tmp45 = current_drive * 128UL;
#line 1941
  __cil_tmp46 = __cil_tmp45 + 57;
#line 1941
  __cil_tmp47 = (unsigned long )(drive_params) + __cil_tmp46;
#line 1941
  __cil_tmp48 = *((unsigned char *)__cil_tmp47);
#line 1941
  __cil_tmp49 = (unsigned long )__cil_tmp48;
#line 1941
  __cil_tmp50 = current_drive * 80UL;
#line 1941
  __cil_tmp51 = __cil_tmp50 + 16;
#line 1941
  __cil_tmp52 = (unsigned long )(drive_state) + __cil_tmp51;
#line 1941
  __cil_tmp53 = *((unsigned long *)__cil_tmp52);
#line 1941
  __cil_tmp54 = __cil_tmp53 + __cil_tmp49;
#line 1941
  __cil_tmp55 = (void (*)(unsigned long  ))function;
#line 1941
  tmp = fd_wait_for_completion(__cil_tmp54, __cil_tmp55);
  }
#line 1941
  return (tmp);
}
}
#line 1945 "drivers/block/floppy.c"
static void floppy_ready(void) 
{ int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  void (*__cil_tmp6)(void) ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  char __cil_tmp10 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  unsigned int __cil_tmp14 ;
  int __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned char __cil_tmp19 ;
  unsigned int __cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  unsigned int __cil_tmp22 ;
  void (*__cil_tmp23)(void) ;

  {
  {
#line 1947
  __cil_tmp4 = fdc * 40UL;
#line 1947
  __cil_tmp5 = (unsigned long )(fdc_state) + __cil_tmp4;
#line 1947
  if (((struct floppy_fdc_state *)__cil_tmp5)->reset) {
    {
#line 1947
    __cil_tmp6 = & reset_fdc;
#line 1947
    (*__cil_tmp6)();
    }
#line 1947
    return;
  } else {

  }
  }
  {
#line 1948
  tmp = start_motor(& floppy_ready);
  }
#line 1948
  if (tmp) {
#line 1949
    return;
  } else {

  }
  {
#line 1950
  tmp___0 = fdc_dtr();
  }
#line 1950
  if (tmp___0) {
#line 1951
    return;
  } else {

  }
  {
#line 1954
  __cil_tmp7 = current_drive * 128UL;
#line 1954
  __cil_tmp8 = __cil_tmp7 + 96;
#line 1954
  __cil_tmp9 = (unsigned long )(drive_params) + __cil_tmp8;
#line 1954
  __cil_tmp10 = *((char *)__cil_tmp9);
#line 1954
  __cil_tmp11 = (int )__cil_tmp10;
#line 1954
  if (__cil_tmp11 & 2) {
    {
#line 1955
    __cil_tmp12 = (int )current_drive;
#line 1955
    printk("floppy%d: calling disk change from floppy_ready\n", __cil_tmp12);
    }
  } else {

  }
  }
  {
#line 1958
  __cil_tmp13 = *((unsigned int *)raw_cmd);
#line 1958
  __cil_tmp14 = __cil_tmp13 & 4U;
#line 1958
  if (! __cil_tmp14) {
    {
#line 1958
    __cil_tmp15 = (int )current_drive;
#line 1958
    tmp___1 = disk_change(__cil_tmp15);
    }
#line 1958
    if (tmp___1) {
      {
#line 1958
      __cil_tmp16 = current_drive * 128UL;
#line 1958
      __cil_tmp17 = __cil_tmp16 + 57;
#line 1958
      __cil_tmp18 = (unsigned long )(drive_params) + __cil_tmp17;
#line 1958
      __cil_tmp19 = *((unsigned char *)__cil_tmp18);
#line 1958
      if (! __cil_tmp19) {
        {
#line 1960
        twaddle();
        }
      } else {

      }
      }
    } else {

    }
  } else {

  }
  }
  {
#line 1971
  __cil_tmp20 = *((unsigned int *)raw_cmd);
#line 1971
  if (__cil_tmp20 & 192U) {
    {
#line 1972
    perpendicular_mode();
#line 1973
    fdc_specify();
#line 1974
    seek_floppy();
    }
  } else {
    {
#line 1976
    __cil_tmp21 = *((unsigned int *)raw_cmd);
#line 1976
    if (__cil_tmp21 & 1U) {
      {
#line 1978
      fdc_specify();
      }
    } else {
      {
#line 1976
      __cil_tmp22 = *((unsigned int *)raw_cmd);
#line 1976
      if (__cil_tmp22 & 2U) {
        {
#line 1978
        fdc_specify();
        }
      } else {

      }
      }
    }
    }
    {
#line 1979
    __cil_tmp23 = & setup_rw_floppy;
#line 1979
    (*__cil_tmp23)();
    }
  }
  }
#line 1981
  return;
}
}
#line 1983 "drivers/block/floppy.c"
static void floppy_start(void) 
{ unsigned long __cil_tmp1 ;
  unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  char __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long *__cil_tmp9 ;
  void (*__cil_tmp10)(void) ;

  {
  {
#line 1985
  reschedule_timeout(-1, "floppy start", 0);
#line 1987
  scandrives();
  }
  {
#line 1989
  __cil_tmp1 = current_drive * 128UL;
#line 1989
  __cil_tmp2 = __cil_tmp1 + 96;
#line 1989
  __cil_tmp3 = (unsigned long )(drive_params) + __cil_tmp2;
#line 1989
  __cil_tmp4 = *((char *)__cil_tmp3);
#line 1989
  __cil_tmp5 = (int )__cil_tmp4;
#line 1989
  if (__cil_tmp5 & 2) {
    {
#line 1990
    __cil_tmp6 = (int )current_drive;
#line 1990
    printk("floppy%d: setting NEWCHANGE in floppy_start\n", __cil_tmp6);
    }
  } else {

  }
  }
  {
#line 1993
  __cil_tmp7 = current_drive * 80UL;
#line 1993
  __cil_tmp8 = (unsigned long )(drive_state) + __cil_tmp7;
#line 1993
  __cil_tmp9 = (unsigned long *)__cil_tmp8;
#line 1993
  set_bit(2, __cil_tmp9);
#line 1994
  __cil_tmp10 = & floppy_ready;
#line 1994
  (*__cil_tmp10)();
  }
#line 1995
  return;
}
}
#line 2011 "drivers/block/floppy.c"
static void do_wakeup(void) 
{ void *__cil_tmp1 ;
  int volatile   __cil_tmp2 ;

  {
  {
#line 2013
  reschedule_timeout(-2, "do wakeup", 0);
#line 2014
  __cil_tmp1 = (void *)0;
#line 2014
  cont = (struct cont_t *)__cil_tmp1;
#line 2015
  __cil_tmp2 = (int volatile   )2;
#line 2015
  command_status = command_status + __cil_tmp2;
#line 2016
  wake_up(& command_done);
  }
#line 2017
  return;
}
}
#line 2019 "drivers/block/floppy.c"
static struct cont_t wakeup_cont  =    {& empty, & do_wakeup, & empty, (void (*)(int  ))(& empty)};
#line 2026 "drivers/block/floppy.c"
static struct cont_t intr_cont  =    {& empty, & process_fd_request, & empty, (void (*)(int  ))(& empty)};
#line 2033 "drivers/block/floppy.c"
static int wait_til_done(void (*handler)(void) , int interruptible ) 
{ int ret ;
  wait_queue_t wait ;
  int tmp ;
  struct task_struct *tmp___0 ;
  int tmp___1 ;
  struct task_struct *tmp___2 ;
  int tmp___3 ;
  int volatile   __cil_tmp10 ;
  int volatile   __cil_tmp11 ;
  int __cil_tmp12 ;
  int volatile   __cil_tmp13 ;
  void (*__cil_tmp14)(void) ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  int volatile   __cil_tmp17 ;

  {
  {
#line 2037
  schedule_bh(handler);
  }
  {
#line 2039
  __cil_tmp10 = (int volatile   )2;
#line 2039
  if (command_status < __cil_tmp10) {
#line 2039
    if (! interruptible) {
#line 2039
      goto _L;
    } else {
      {
#line 2039
      tmp___2 = get_current();
#line 2039
      tmp___3 = signal_pending(tmp___2);
      }
#line 2039
      if (! tmp___3) {
        _L: 
        {
#line 2042
        add_wait_queue(& command_done, & wait);
        }
        {
#line 2043
        while (1) {
          while_continue: /* CIL Label */ ;
#line 2044
          if (interruptible) {
#line 2044
            tmp = 1;
          } else {
#line 2044
            tmp = 2;
          }
          {
#line 2044
          set_current_state(tmp);
          }
          {
#line 2048
          __cil_tmp11 = (int volatile   )2;
#line 2048
          if (command_status >= __cil_tmp11) {
#line 2049
            goto while_break;
          } else {
            {
#line 2048
            __cil_tmp12 = ! interruptible;
#line 2048
            if (! __cil_tmp12) {
              {
#line 2048
              tmp___0 = get_current();
#line 2048
              tmp___1 = signal_pending(tmp___0);
              }
#line 2048
              if (tmp___1) {
#line 2049
                goto while_break;
              } else {

              }
            } else {

            }
            }
          }
          }
          {
#line 2051
          is_alive("wait_til_done");
#line 2053
          schedule();
          }
        }
        while_break: /* CIL Label */ ;
        }
        {
#line 2056
        set_current_state(0);
#line 2057
        remove_wait_queue(& command_done, & wait);
        }
      } else {

      }
    }
  } else {

  }
  }
  {
#line 2060
  __cil_tmp13 = (int volatile   )2;
#line 2060
  if (command_status < __cil_tmp13) {
    {
#line 2061
    cancel_activity();
#line 2062
    cont = & intr_cont;
#line 2063
    __cil_tmp14 = & reset_fdc;
#line 2063
    (*__cil_tmp14)();
    }
#line 2064
    return (-4);
  } else {

  }
  }
  {
#line 2067
  __cil_tmp15 = fdc * 40UL;
#line 2067
  __cil_tmp16 = (unsigned long )(fdc_state) + __cil_tmp15;
#line 2067
  if (((struct floppy_fdc_state *)__cil_tmp16)->reset) {
#line 2068
    command_status = (int volatile   )2;
  } else {

  }
  }
  {
#line 2069
  __cil_tmp17 = (int volatile   )3;
#line 2069
  if (command_status == __cil_tmp17) {
#line 2070
    ret = 0;
  } else {
#line 2072
    ret = -5;
  }
  }
#line 2073
  command_status = (int volatile   )-1;
#line 2074
  return (ret);
}
}
#line 2077 "drivers/block/floppy.c"
static void generic_done(int result___0 ) 
{ 

  {
#line 2079
  command_status = (int volatile   )result___0;
#line 2080
  cont = & wakeup_cont;
#line 2081
  return;
}
}
#line 2083 "drivers/block/floppy.c"
static void generic_success(void) 
{ unsigned long __cil_tmp1 ;
  unsigned long __cil_tmp2 ;
  void (*__cil_tmp3)(int  ) ;

  {
  {
#line 2085
  __cil_tmp1 = (unsigned long )cont;
#line 2085
  __cil_tmp2 = __cil_tmp1 + 24;
#line 2085
  __cil_tmp3 = *((void (**)(int  ))__cil_tmp2);
#line 2085
  (*__cil_tmp3)(1);
  }
#line 2086
  return;
}
}
#line 2088 "drivers/block/floppy.c"
static void generic_failure(void) 
{ unsigned long __cil_tmp1 ;
  unsigned long __cil_tmp2 ;
  void (*__cil_tmp3)(int  ) ;

  {
  {
#line 2090
  __cil_tmp1 = (unsigned long )cont;
#line 2090
  __cil_tmp2 = __cil_tmp1 + 24;
#line 2090
  __cil_tmp3 = *((void (**)(int  ))__cil_tmp2);
#line 2090
  (*__cil_tmp3)(0);
  }
#line 2091
  return;
}
}
#line 2093 "drivers/block/floppy.c"
static void success_and_wakeup(void) 
{ unsigned long __cil_tmp1 ;
  unsigned long __cil_tmp2 ;
  void (*__cil_tmp3)(void) ;

  {
  {
#line 2095
  generic_success();
#line 2096
  __cil_tmp1 = (unsigned long )cont;
#line 2096
  __cil_tmp2 = __cil_tmp1 + 8;
#line 2096
  __cil_tmp3 = *((void (**)(void))__cil_tmp2);
#line 2096
  (*__cil_tmp3)();
  }
#line 2097
  return;
}
}
#line 2104 "drivers/block/floppy.c"
static int next_valid_format(void) 
{ int probed_format ;
  unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  short __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  short __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  short __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;

  {
#line 2108
  __cil_tmp2 = current_drive * 80UL;
#line 2108
  __cil_tmp3 = __cil_tmp2 + 32;
#line 2108
  __cil_tmp4 = (unsigned long )(drive_state) + __cil_tmp3;
#line 2108
  __cil_tmp5 = *((short *)__cil_tmp4);
#line 2108
  probed_format = (int )__cil_tmp5;
  {
#line 2109
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2110
    if (probed_format >= 8) {
#line 2111
      __cil_tmp6 = current_drive * 80UL;
#line 2111
      __cil_tmp7 = __cil_tmp6 + 32;
#line 2111
      __cil_tmp8 = (unsigned long )(drive_state) + __cil_tmp7;
#line 2111
      *((short *)__cil_tmp8) = (short)0;
#line 2112
      return (1);
    } else {
      {
#line 2110
      __cil_tmp9 = probed_format * 2UL;
#line 2110
      __cil_tmp10 = 98 + __cil_tmp9;
#line 2110
      __cil_tmp11 = current_drive * 128UL;
#line 2110
      __cil_tmp12 = __cil_tmp11 + __cil_tmp10;
#line 2110
      __cil_tmp13 = (unsigned long )(drive_params) + __cil_tmp12;
#line 2110
      __cil_tmp14 = *((short *)__cil_tmp13);
#line 2110
      if (! __cil_tmp14) {
#line 2111
        __cil_tmp15 = current_drive * 80UL;
#line 2111
        __cil_tmp16 = __cil_tmp15 + 32;
#line 2111
        __cil_tmp17 = (unsigned long )(drive_state) + __cil_tmp16;
#line 2111
        *((short *)__cil_tmp17) = (short)0;
#line 2112
        return (1);
      } else {

      }
      }
    }
    {
#line 2114
    __cil_tmp18 = probed_format * 2UL;
#line 2114
    __cil_tmp19 = 98 + __cil_tmp18;
#line 2114
    __cil_tmp20 = current_drive * 128UL;
#line 2114
    __cil_tmp21 = __cil_tmp20 + __cil_tmp19;
#line 2114
    __cil_tmp22 = (unsigned long )(drive_params) + __cil_tmp21;
#line 2114
    __cil_tmp23 = *((short *)__cil_tmp22);
#line 2114
    __cil_tmp24 = __cil_tmp23 * 32UL;
#line 2114
    __cil_tmp25 = __cil_tmp24 + 4;
#line 2114
    __cil_tmp26 = (unsigned long )(floppy_type) + __cil_tmp25;
#line 2114
    if (*((unsigned int *)__cil_tmp26)) {
#line 2115
      __cil_tmp27 = current_drive * 80UL;
#line 2115
      __cil_tmp28 = __cil_tmp27 + 32;
#line 2115
      __cil_tmp29 = (unsigned long )(drive_state) + __cil_tmp28;
#line 2115
      *((short *)__cil_tmp29) = (short )probed_format;
#line 2116
      return (0);
    } else {

    }
    }
#line 2118
    probed_format = probed_format + 1;
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 2122 "drivers/block/floppy.c"
static void bad_flp_intr(void) 
{ int err_count ;
  int tmp ;
  int __x ;
  int __y ;
  int tmp___0 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  short __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned int __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned int __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  void (*__cil_tmp30)(int  ) ;
  unsigned long __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned int __cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  unsigned long __cil_tmp38 ;
  unsigned long __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  unsigned long __cil_tmp41 ;
  unsigned long __cil_tmp42 ;
  unsigned int __cil_tmp43 ;
  unsigned int __cil_tmp44 ;
  unsigned long __cil_tmp45 ;
  unsigned long __cil_tmp46 ;
  unsigned long __cil_tmp47 ;

  {
#line 2126
  if (probing) {
    {
#line 2127
    __cil_tmp6 = current_drive * 80UL;
#line 2127
    __cil_tmp7 = __cil_tmp6 + 32;
#line 2127
    __cil_tmp8 = (unsigned long )(drive_state) + __cil_tmp7;
#line 2127
    __cil_tmp9 = current_drive * 80UL;
#line 2127
    __cil_tmp10 = __cil_tmp9 + 32;
#line 2127
    __cil_tmp11 = (unsigned long )(drive_state) + __cil_tmp10;
#line 2127
    __cil_tmp12 = *((short *)__cil_tmp11);
#line 2127
    __cil_tmp13 = (int )__cil_tmp12;
#line 2127
    __cil_tmp14 = __cil_tmp13 + 1;
#line 2127
    *((short *)__cil_tmp8) = (short )__cil_tmp14;
#line 2128
    tmp = next_valid_format();
    }
#line 2128
    if (! tmp) {
#line 2129
      return;
    } else {

    }
  } else {

  }
#line 2131
  __cil_tmp15 = *errors;
#line 2131
  *errors = __cil_tmp15 + 1;
#line 2131
  err_count = *errors;
#line 2132
  __cil_tmp16 = current_drive * 40UL;
#line 2132
  __cil_tmp17 = __cil_tmp16 + 36;
#line 2132
  __cil_tmp18 = (unsigned long )(write_errors) + __cil_tmp17;
#line 2132
  __cil_tmp19 = *((unsigned int *)__cil_tmp18);
#line 2132
  __x = (int )__cil_tmp19;
#line 2132
  __y = err_count;
#line 2132
  if (__x > __y) {
#line 2132
    tmp___0 = __x;
  } else {
#line 2132
    tmp___0 = __y;
  }
#line 2132
  __cil_tmp20 = current_drive * 40UL;
#line 2132
  __cil_tmp21 = __cil_tmp20 + 36;
#line 2132
  __cil_tmp22 = (unsigned long )(write_errors) + __cil_tmp21;
#line 2132
  *((unsigned int *)__cil_tmp22) = (unsigned int )tmp___0;
  {
#line 2133
  __cil_tmp23 = current_drive * 128UL;
#line 2133
  __cil_tmp24 = __cil_tmp23 + 76;
#line 2133
  __cil_tmp25 = (unsigned long )(drive_params) + __cil_tmp24;
#line 2133
  __cil_tmp26 = *((unsigned int *)__cil_tmp25);
#line 2133
  __cil_tmp27 = (unsigned int )err_count;
#line 2133
  if (__cil_tmp27 > __cil_tmp26) {
    {
#line 2134
    __cil_tmp28 = (unsigned long )cont;
#line 2134
    __cil_tmp29 = __cil_tmp28 + 24;
#line 2134
    __cil_tmp30 = *((void (**)(int  ))__cil_tmp29);
#line 2134
    (*__cil_tmp30)(0);
    }
  } else {

  }
  }
  {
#line 2135
  __cil_tmp31 = 76 + 8;
#line 2135
  __cil_tmp32 = current_drive * 128UL;
#line 2135
  __cil_tmp33 = __cil_tmp32 + __cil_tmp31;
#line 2135
  __cil_tmp34 = (unsigned long )(drive_params) + __cil_tmp33;
#line 2135
  __cil_tmp35 = *((unsigned int *)__cil_tmp34);
#line 2135
  __cil_tmp36 = (unsigned int )err_count;
#line 2135
  if (__cil_tmp36 > __cil_tmp35) {
#line 2136
    __cil_tmp37 = fdc * 40UL;
#line 2136
    __cil_tmp38 = (unsigned long )(fdc_state) + __cil_tmp37;
#line 2136
    ((struct floppy_fdc_state *)__cil_tmp38)->reset = 1U;
  } else {
    {
#line 2137
    __cil_tmp39 = 76 + 12;
#line 2137
    __cil_tmp40 = current_drive * 128UL;
#line 2137
    __cil_tmp41 = __cil_tmp40 + __cil_tmp39;
#line 2137
    __cil_tmp42 = (unsigned long )(drive_params) + __cil_tmp41;
#line 2137
    __cil_tmp43 = *((unsigned int *)__cil_tmp42);
#line 2137
    __cil_tmp44 = (unsigned int )err_count;
#line 2137
    if (__cil_tmp44 > __cil_tmp43) {
#line 2138
      __cil_tmp45 = current_drive * 80UL;
#line 2138
      __cil_tmp46 = __cil_tmp45 + 34;
#line 2138
      __cil_tmp47 = (unsigned long )(drive_state) + __cil_tmp46;
#line 2138
      *((short *)__cil_tmp47) = (short)-3;
    } else {

    }
    }
  }
  }
#line 2139
  return;
}
}
#line 2141 "drivers/block/floppy.c"
static void set_floppy(int drive ) 
{ int type ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  struct floppy_struct *__cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;

  {
#line 2143
  __cil_tmp3 = drive * 80UL;
#line 2143
  __cil_tmp4 = __cil_tmp3 + 52;
#line 2143
  __cil_tmp5 = (unsigned long )(drive_state) + __cil_tmp4;
#line 2143
  __cil_tmp6 = *((int *)__cil_tmp5);
#line 2143
  __cil_tmp7 = __cil_tmp6 >> 2;
#line 2143
  type = __cil_tmp7 & 31;
#line 2144
  if (type) {
#line 2145
    __cil_tmp8 = 0 * 32UL;
#line 2145
    __cil_tmp9 = (unsigned long )(floppy_type) + __cil_tmp8;
#line 2145
    __cil_tmp10 = (struct floppy_struct *)__cil_tmp9;
#line 2145
    _floppy = __cil_tmp10 + type;
  } else {
#line 2147
    __cil_tmp11 = drive * 8UL;
#line 2147
    __cil_tmp12 = (unsigned long )(current_type) + __cil_tmp11;
#line 2147
    _floppy = *((struct floppy_struct **)__cil_tmp12);
  }
#line 2148
  return;
}
}
#line 2154 "drivers/block/floppy.c"
static void format_interrupt(void) 
{ int tmp ;
  unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  void (*__cil_tmp4)(void) ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  void (*__cil_tmp7)(int  ) ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  void (*__cil_tmp10)(void) ;

  {
  {
#line 2156
  tmp = interpret_errors();
  }
  {
#line 2157
  if (tmp == 1) {
#line 2157
    goto case_1;
  } else {

  }
#line 2159
  if (tmp == 2) {
#line 2159
    goto case_2;
  } else {

  }
#line 2161
  if (tmp == 0) {
#line 2161
    goto case_0;
  } else {

  }
#line 2156
  goto switch_break;
  case_1: /* CIL Label */ 
  {
#line 2158
  __cil_tmp2 = (unsigned long )cont;
#line 2158
  __cil_tmp3 = __cil_tmp2 + 16;
#line 2158
  __cil_tmp4 = *((void (**)(void))__cil_tmp3);
#line 2158
  (*__cil_tmp4)();
  }
  case_2: /* CIL Label */ 
#line 2160
  goto switch_break;
  case_0: /* CIL Label */ 
  {
#line 2162
  __cil_tmp5 = (unsigned long )cont;
#line 2162
  __cil_tmp6 = __cil_tmp5 + 24;
#line 2162
  __cil_tmp7 = *((void (**)(int  ))__cil_tmp6);
#line 2162
  (*__cil_tmp7)(1);
  }
  switch_break: /* CIL Label */ ;
  }
  {
#line 2164
  __cil_tmp8 = (unsigned long )cont;
#line 2164
  __cil_tmp9 = __cil_tmp8 + 8;
#line 2164
  __cil_tmp10 = *((void (**)(void))__cil_tmp9);
#line 2164
  (*__cil_tmp10)();
  }
#line 2165
  return;
}
}
#line 2170 "drivers/block/floppy.c"
static void setup_format_params(int track ) 
{ struct fparm *here ;
  int il ;
  int n ;
  int count ;
  int head_shift ;
  int track_shift ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned char __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned char __cil_tmp25 ;
  int __cil_tmp26 ;
  int __cil_tmp27 ;
  int __cil_tmp28 ;
  int __cil_tmp29 ;
  int __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned long __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  unsigned int __cil_tmp38 ;
  unsigned int __cil_tmp39 ;
  unsigned int __cil_tmp40 ;
  unsigned int __cil_tmp41 ;
  int __cil_tmp42 ;
  int __cil_tmp43 ;
  unsigned int __cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  unsigned long __cil_tmp46 ;
  unsigned long __cil_tmp47 ;
  unsigned long __cil_tmp48 ;
  unsigned long __cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  unsigned long __cil_tmp51 ;
  unsigned char __cil_tmp52 ;
  int __cil_tmp53 ;
  int __cil_tmp54 ;
  int __cil_tmp55 ;
  int __cil_tmp56 ;
  int __cil_tmp57 ;
  unsigned long __cil_tmp58 ;
  unsigned long __cil_tmp59 ;
  unsigned long __cil_tmp60 ;
  unsigned long __cil_tmp61 ;
  unsigned long __cil_tmp62 ;
  unsigned long __cil_tmp63 ;
  unsigned long __cil_tmp64 ;
  unsigned long __cil_tmp65 ;
  unsigned char __cil_tmp66 ;
  int __cil_tmp67 ;
  unsigned long __cil_tmp68 ;
  unsigned long __cil_tmp69 ;
  unsigned int __cil_tmp70 ;
  unsigned int __cil_tmp71 ;
  unsigned int __cil_tmp72 ;
  unsigned long __cil_tmp73 ;
  unsigned long __cil_tmp74 ;
  unsigned long __cil_tmp75 ;
  unsigned long __cil_tmp76 ;
  unsigned long __cil_tmp77 ;
  unsigned long __cil_tmp78 ;
  unsigned long __cil_tmp79 ;
  unsigned long __cil_tmp80 ;
  unsigned long __cil_tmp81 ;
  unsigned long __cil_tmp82 ;
  unsigned long __cil_tmp83 ;
  unsigned long __cil_tmp84 ;
  unsigned long __cil_tmp85 ;
  unsigned long __cil_tmp86 ;
  unsigned long __cil_tmp87 ;
  unsigned long __cil_tmp88 ;
  unsigned long __cil_tmp89 ;
  unsigned long __cil_tmp90 ;
  unsigned char __cil_tmp91 ;
  int __cil_tmp92 ;
  int __cil_tmp93 ;
  unsigned long __cil_tmp94 ;
  unsigned long __cil_tmp95 ;
  unsigned long __cil_tmp96 ;
  unsigned long __cil_tmp97 ;
  unsigned char __cil_tmp98 ;
  int __cil_tmp99 ;
  int __cil_tmp100 ;
  int __cil_tmp101 ;
  unsigned long __cil_tmp102 ;
  unsigned long __cil_tmp103 ;
  unsigned long __cil_tmp104 ;
  unsigned long __cil_tmp105 ;
  unsigned char __cil_tmp106 ;
  unsigned int __cil_tmp107 ;
  unsigned int __cil_tmp108 ;
  unsigned int __cil_tmp109 ;
  unsigned int __cil_tmp110 ;
  unsigned int __cil_tmp111 ;
  unsigned int __cil_tmp112 ;
  unsigned int __cil_tmp113 ;
  unsigned long __cil_tmp114 ;
  unsigned long __cil_tmp115 ;
  unsigned char __cil_tmp116 ;
  int __cil_tmp117 ;
  unsigned long __cil_tmp118 ;
  unsigned long __cil_tmp119 ;
  unsigned long __cil_tmp120 ;
  unsigned long __cil_tmp121 ;
  unsigned char __cil_tmp122 ;
  int __cil_tmp123 ;
  struct fparm *__cil_tmp124 ;
  struct fparm *__cil_tmp125 ;
  unsigned long __cil_tmp126 ;
  unsigned long __cil_tmp127 ;
  struct fparm *__cil_tmp128 ;
  unsigned long __cil_tmp129 ;
  unsigned long __cil_tmp130 ;
  struct fparm *__cil_tmp131 ;
  unsigned long __cil_tmp132 ;
  unsigned long __cil_tmp133 ;
  unsigned long __cil_tmp134 ;
  unsigned long __cil_tmp135 ;
  unsigned long __cil_tmp136 ;
  unsigned long __cil_tmp137 ;
  unsigned long __cil_tmp138 ;
  unsigned long __cil_tmp139 ;
  unsigned long __cil_tmp140 ;
  unsigned long __cil_tmp141 ;
  unsigned char __cil_tmp142 ;
  int __cil_tmp143 ;
  struct fparm *__cil_tmp144 ;
  unsigned long __cil_tmp145 ;
  unsigned long __cil_tmp146 ;
  unsigned long __cil_tmp147 ;
  unsigned long __cil_tmp148 ;
  unsigned long __cil_tmp149 ;
  unsigned long __cil_tmp150 ;
  unsigned char __cil_tmp151 ;
  int __cil_tmp152 ;
  int __cil_tmp153 ;
  struct fparm *__cil_tmp154 ;
  unsigned long __cil_tmp155 ;
  unsigned long __cil_tmp156 ;
  unsigned long __cil_tmp157 ;
  unsigned long __cil_tmp158 ;
  unsigned long __cil_tmp159 ;
  unsigned long __cil_tmp160 ;
  unsigned char __cil_tmp161 ;
  int __cil_tmp162 ;
  unsigned long __cil_tmp163 ;
  unsigned long __cil_tmp164 ;
  unsigned long __cil_tmp165 ;
  unsigned long __cil_tmp166 ;
  unsigned char __cil_tmp167 ;
  int __cil_tmp168 ;
  struct fparm *__cil_tmp169 ;
  unsigned long __cil_tmp170 ;
  unsigned long __cil_tmp171 ;
  unsigned long __cil_tmp172 ;
  unsigned long __cil_tmp173 ;
  unsigned int __cil_tmp174 ;
  unsigned long __cil_tmp175 ;
  unsigned long __cil_tmp176 ;
  unsigned long __cil_tmp177 ;
  unsigned long __cil_tmp178 ;
  unsigned char __cil_tmp179 ;
  int __cil_tmp180 ;
  struct fparm *__cil_tmp181 ;
  unsigned long __cil_tmp182 ;
  unsigned long __cil_tmp183 ;
  struct fparm *__cil_tmp184 ;
  unsigned long __cil_tmp185 ;
  unsigned long __cil_tmp186 ;
  unsigned char __cil_tmp187 ;
  int __cil_tmp188 ;
  int __cil_tmp189 ;

  {
#line 2172
  here = (struct fparm *)floppy_track_buffer;
#line 2178
  raw_cmd = & default_raw_cmd;
#line 2179
  __cil_tmp8 = (unsigned long )raw_cmd;
#line 2179
  __cil_tmp9 = __cil_tmp8 + 88;
#line 2179
  *((int *)__cil_tmp9) = track;
#line 2181
  *((unsigned int *)raw_cmd) = 218U;
#line 2183
  __cil_tmp10 = (unsigned long )raw_cmd;
#line 2183
  __cil_tmp11 = __cil_tmp10 + 52;
#line 2183
  __cil_tmp12 = (unsigned long )_floppy;
#line 2183
  __cil_tmp13 = __cil_tmp12 + 21;
#line 2183
  __cil_tmp14 = *((unsigned char *)__cil_tmp13);
#line 2183
  __cil_tmp15 = (int )__cil_tmp14;
#line 2183
  __cil_tmp16 = __cil_tmp15 & 67;
#line 2183
  *((unsigned char *)__cil_tmp11) = (unsigned char )__cil_tmp16;
#line 2184
  __cil_tmp17 = (unsigned long )raw_cmd;
#line 2184
  __cil_tmp18 = __cil_tmp17 + 53;
#line 2184
  *((unsigned char *)__cil_tmp18) = (unsigned char)6;
#line 2185
  __cil_tmp19 = 0 * 1UL;
#line 2185
  __cil_tmp20 = 54 + __cil_tmp19;
#line 2185
  __cil_tmp21 = (unsigned long )raw_cmd;
#line 2185
  __cil_tmp22 = __cil_tmp21 + __cil_tmp20;
#line 2185
  __cil_tmp23 = (unsigned long )_floppy;
#line 2185
  __cil_tmp24 = __cil_tmp23 + 21;
#line 2185
  __cil_tmp25 = *((unsigned char *)__cil_tmp24);
#line 2185
  __cil_tmp26 = (int )__cil_tmp25;
#line 2185
  __cil_tmp27 = __cil_tmp26 & 128;
#line 2185
  __cil_tmp28 = __cil_tmp27 >> 1;
#line 2185
  __cil_tmp29 = ~ __cil_tmp28;
#line 2185
  __cil_tmp30 = 77 & __cil_tmp29;
#line 2185
  *((unsigned char *)__cil_tmp22) = (unsigned char )__cil_tmp30;
#line 2186
  __cil_tmp31 = 1 * 1UL;
#line 2186
  __cil_tmp32 = 54 + __cil_tmp31;
#line 2186
  __cil_tmp33 = (unsigned long )raw_cmd;
#line 2186
  __cil_tmp34 = __cil_tmp33 + __cil_tmp32;
#line 2186
  __cil_tmp35 = (unsigned long )_floppy;
#line 2186
  __cil_tmp36 = __cil_tmp35 + 16;
#line 2186
  __cil_tmp37 = *((unsigned int *)__cil_tmp36);
#line 2186
  __cil_tmp38 = __cil_tmp37 & 2U;
#line 2186
  __cil_tmp39 = __cil_tmp38 >> 1;
#line 2186
  __cil_tmp40 = __cil_tmp39 ^ format_req.head;
#line 2186
  __cil_tmp41 = __cil_tmp40 << 2;
#line 2186
  __cil_tmp42 = (int )current_drive;
#line 2186
  __cil_tmp43 = __cil_tmp42 & 3;
#line 2186
  __cil_tmp44 = (unsigned int )__cil_tmp43;
#line 2186
  __cil_tmp45 = __cil_tmp44 + __cil_tmp41;
#line 2186
  *((unsigned char *)__cil_tmp34) = (unsigned char )__cil_tmp45;
#line 2187
  __cil_tmp46 = 2 * 1UL;
#line 2187
  __cil_tmp47 = 54 + __cil_tmp46;
#line 2187
  __cil_tmp48 = (unsigned long )raw_cmd;
#line 2187
  __cil_tmp49 = __cil_tmp48 + __cil_tmp47;
#line 2187
  __cil_tmp50 = (unsigned long )_floppy;
#line 2187
  __cil_tmp51 = __cil_tmp50 + 21;
#line 2187
  __cil_tmp52 = *((unsigned char *)__cil_tmp51);
#line 2187
  __cil_tmp53 = (int )__cil_tmp52;
#line 2187
  __cil_tmp54 = __cil_tmp53 & 56;
#line 2187
  __cil_tmp55 = __cil_tmp54 >> 3;
#line 2187
  __cil_tmp56 = __cil_tmp55 + 2;
#line 2187
  __cil_tmp57 = __cil_tmp56 % 8;
#line 2187
  *((unsigned char *)__cil_tmp49) = (unsigned char )__cil_tmp57;
#line 2188
  __cil_tmp58 = 3 * 1UL;
#line 2188
  __cil_tmp59 = 54 + __cil_tmp58;
#line 2188
  __cil_tmp60 = (unsigned long )raw_cmd;
#line 2188
  __cil_tmp61 = __cil_tmp60 + __cil_tmp59;
#line 2188
  __cil_tmp62 = 2 * 1UL;
#line 2188
  __cil_tmp63 = 54 + __cil_tmp62;
#line 2188
  __cil_tmp64 = (unsigned long )raw_cmd;
#line 2188
  __cil_tmp65 = __cil_tmp64 + __cil_tmp63;
#line 2188
  __cil_tmp66 = *((unsigned char *)__cil_tmp65);
#line 2188
  __cil_tmp67 = (int )__cil_tmp66;
#line 2188
  __cil_tmp68 = (unsigned long )_floppy;
#line 2188
  __cil_tmp69 = __cil_tmp68 + 4;
#line 2188
  __cil_tmp70 = *((unsigned int *)__cil_tmp69);
#line 2188
  __cil_tmp71 = __cil_tmp70 << 2;
#line 2188
  __cil_tmp72 = __cil_tmp71 >> __cil_tmp67;
#line 2188
  *((unsigned char *)__cil_tmp61) = (unsigned char )__cil_tmp72;
#line 2189
  __cil_tmp73 = 4 * 1UL;
#line 2189
  __cil_tmp74 = 54 + __cil_tmp73;
#line 2189
  __cil_tmp75 = (unsigned long )raw_cmd;
#line 2189
  __cil_tmp76 = __cil_tmp75 + __cil_tmp74;
#line 2189
  __cil_tmp77 = (unsigned long )_floppy;
#line 2189
  __cil_tmp78 = __cil_tmp77 + 23;
#line 2189
  *((unsigned char *)__cil_tmp76) = *((unsigned char *)__cil_tmp78);
#line 2190
  __cil_tmp79 = 5 * 1UL;
#line 2190
  __cil_tmp80 = 54 + __cil_tmp79;
#line 2190
  __cil_tmp81 = (unsigned long )raw_cmd;
#line 2190
  __cil_tmp82 = __cil_tmp81 + __cil_tmp80;
#line 2190
  *((unsigned char *)__cil_tmp82) = (unsigned char)246;
#line 2192
  __cil_tmp83 = (unsigned long )raw_cmd;
#line 2192
  __cil_tmp84 = __cil_tmp83 + 16;
#line 2192
  *((char **)__cil_tmp84) = floppy_track_buffer;
#line 2193
  __cil_tmp85 = (unsigned long )raw_cmd;
#line 2193
  __cil_tmp86 = __cil_tmp85 + 32;
#line 2193
  __cil_tmp87 = 3 * 1UL;
#line 2193
  __cil_tmp88 = 54 + __cil_tmp87;
#line 2193
  __cil_tmp89 = (unsigned long )raw_cmd;
#line 2193
  __cil_tmp90 = __cil_tmp89 + __cil_tmp88;
#line 2193
  __cil_tmp91 = *((unsigned char *)__cil_tmp90);
#line 2193
  __cil_tmp92 = (int )__cil_tmp91;
#line 2193
  __cil_tmp93 = 4 * __cil_tmp92;
#line 2193
  *((long *)__cil_tmp86) = (long )__cil_tmp93;
#line 2196
  __cil_tmp94 = 3 * 1UL;
#line 2196
  __cil_tmp95 = 54 + __cil_tmp94;
#line 2196
  __cil_tmp96 = (unsigned long )raw_cmd;
#line 2196
  __cil_tmp97 = __cil_tmp96 + __cil_tmp95;
#line 2196
  __cil_tmp98 = *((unsigned char *)__cil_tmp97);
#line 2196
  __cil_tmp99 = (int )__cil_tmp98;
#line 2196
  __cil_tmp100 = __cil_tmp99 + 5;
#line 2196
  head_shift = __cil_tmp100 / 6;
#line 2199
  __cil_tmp101 = 2 * head_shift;
#line 2199
  track_shift = __cil_tmp101 + 3;
#line 2202
  __cil_tmp102 = 3 * 1UL;
#line 2202
  __cil_tmp103 = 54 + __cil_tmp102;
#line 2202
  __cil_tmp104 = (unsigned long )raw_cmd;
#line 2202
  __cil_tmp105 = __cil_tmp104 + __cil_tmp103;
#line 2202
  __cil_tmp106 = *((unsigned char *)__cil_tmp105);
#line 2202
  __cil_tmp107 = (unsigned int )__cil_tmp106;
#line 2202
  __cil_tmp108 = (unsigned int )head_shift;
#line 2202
  __cil_tmp109 = __cil_tmp108 * format_req.head;
#line 2202
  __cil_tmp110 = (unsigned int )track_shift;
#line 2202
  __cil_tmp111 = __cil_tmp110 * format_req.track;
#line 2202
  __cil_tmp112 = __cil_tmp111 + __cil_tmp109;
#line 2202
  __cil_tmp113 = __cil_tmp112 % __cil_tmp107;
#line 2202
  n = (int )__cil_tmp113;
#line 2206
  il = 1;
  {
#line 2207
  __cil_tmp114 = (unsigned long )_floppy;
#line 2207
  __cil_tmp115 = __cil_tmp114 + 23;
#line 2207
  __cil_tmp116 = *((unsigned char *)__cil_tmp115);
#line 2207
  __cil_tmp117 = (int )__cil_tmp116;
#line 2207
  if (__cil_tmp117 < 34) {
#line 2208
    il = il + 1;
  } else {

  }
  }
#line 2211
  count = 0;
  {
#line 2211
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 2211
    __cil_tmp118 = 3 * 1UL;
#line 2211
    __cil_tmp119 = 54 + __cil_tmp118;
#line 2211
    __cil_tmp120 = (unsigned long )raw_cmd;
#line 2211
    __cil_tmp121 = __cil_tmp120 + __cil_tmp119;
#line 2211
    __cil_tmp122 = *((unsigned char *)__cil_tmp121);
#line 2211
    __cil_tmp123 = (int )__cil_tmp122;
#line 2211
    if (count < __cil_tmp123) {

    } else {
#line 2211
      goto while_break;
    }
    }
#line 2212
    __cil_tmp124 = here + count;
#line 2212
    *((unsigned char *)__cil_tmp124) = (unsigned char )format_req.track;
#line 2213
    __cil_tmp125 = here + count;
#line 2213
    __cil_tmp126 = (unsigned long )__cil_tmp125;
#line 2213
    __cil_tmp127 = __cil_tmp126 + 1;
#line 2213
    *((unsigned char *)__cil_tmp127) = (unsigned char )format_req.head;
#line 2214
    __cil_tmp128 = here + count;
#line 2214
    __cil_tmp129 = (unsigned long )__cil_tmp128;
#line 2214
    __cil_tmp130 = __cil_tmp129 + 2;
#line 2214
    *((unsigned char *)__cil_tmp130) = (unsigned char)0;
#line 2215
    __cil_tmp131 = here + count;
#line 2215
    __cil_tmp132 = (unsigned long )__cil_tmp131;
#line 2215
    __cil_tmp133 = __cil_tmp132 + 3;
#line 2215
    __cil_tmp134 = 2 * 1UL;
#line 2215
    __cil_tmp135 = 54 + __cil_tmp134;
#line 2215
    __cil_tmp136 = (unsigned long )raw_cmd;
#line 2215
    __cil_tmp137 = __cil_tmp136 + __cil_tmp135;
#line 2215
    *((unsigned char *)__cil_tmp133) = *((unsigned char *)__cil_tmp137);
#line 2211
    count = count + 1;
  }
  while_break: /* CIL Label */ ;
  }
#line 2218
  count = 1;
  {
#line 2218
  while (1) {
    while_continue___0: /* CIL Label */ ;
    {
#line 2218
    __cil_tmp138 = 3 * 1UL;
#line 2218
    __cil_tmp139 = 54 + __cil_tmp138;
#line 2218
    __cil_tmp140 = (unsigned long )raw_cmd;
#line 2218
    __cil_tmp141 = __cil_tmp140 + __cil_tmp139;
#line 2218
    __cil_tmp142 = *((unsigned char *)__cil_tmp141);
#line 2218
    __cil_tmp143 = (int )__cil_tmp142;
#line 2218
    if (count <= __cil_tmp143) {

    } else {
#line 2218
      goto while_break___0;
    }
    }
#line 2219
    __cil_tmp144 = here + n;
#line 2219
    __cil_tmp145 = (unsigned long )__cil_tmp144;
#line 2219
    __cil_tmp146 = __cil_tmp145 + 2;
#line 2219
    *((unsigned char *)__cil_tmp146) = (unsigned char )count;
#line 2220
    __cil_tmp147 = 3 * 1UL;
#line 2220
    __cil_tmp148 = 54 + __cil_tmp147;
#line 2220
    __cil_tmp149 = (unsigned long )raw_cmd;
#line 2220
    __cil_tmp150 = __cil_tmp149 + __cil_tmp148;
#line 2220
    __cil_tmp151 = *((unsigned char *)__cil_tmp150);
#line 2220
    __cil_tmp152 = (int )__cil_tmp151;
#line 2220
    __cil_tmp153 = n + il;
#line 2220
    n = __cil_tmp153 % __cil_tmp152;
    {
#line 2221
    __cil_tmp154 = here + n;
#line 2221
    __cil_tmp155 = (unsigned long )__cil_tmp154;
#line 2221
    __cil_tmp156 = __cil_tmp155 + 2;
#line 2221
    if (*((unsigned char *)__cil_tmp156)) {
#line 2222
      n = n + 1;
      {
#line 2223
      __cil_tmp157 = 3 * 1UL;
#line 2223
      __cil_tmp158 = 54 + __cil_tmp157;
#line 2223
      __cil_tmp159 = (unsigned long )raw_cmd;
#line 2223
      __cil_tmp160 = __cil_tmp159 + __cil_tmp158;
#line 2223
      __cil_tmp161 = *((unsigned char *)__cil_tmp160);
#line 2223
      __cil_tmp162 = (int )__cil_tmp161;
#line 2223
      if (n >= __cil_tmp162) {
#line 2224
        __cil_tmp163 = 3 * 1UL;
#line 2224
        __cil_tmp164 = 54 + __cil_tmp163;
#line 2224
        __cil_tmp165 = (unsigned long )raw_cmd;
#line 2224
        __cil_tmp166 = __cil_tmp165 + __cil_tmp164;
#line 2224
        __cil_tmp167 = *((unsigned char *)__cil_tmp166);
#line 2224
        __cil_tmp168 = (int )__cil_tmp167;
#line 2224
        n = n - __cil_tmp168;
        {
#line 2225
        while (1) {
          while_continue___1: /* CIL Label */ ;
          {
#line 2225
          __cil_tmp169 = here + n;
#line 2225
          __cil_tmp170 = (unsigned long )__cil_tmp169;
#line 2225
          __cil_tmp171 = __cil_tmp170 + 2;
#line 2225
          if (*((unsigned char *)__cil_tmp171)) {

          } else {
#line 2225
            goto while_break___1;
          }
          }
#line 2226
          n = n + 1;
        }
        while_break___1: /* CIL Label */ ;
        }
      } else {

      }
      }
    } else {

    }
    }
#line 2218
    count = count + 1;
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 2230
  __cil_tmp172 = (unsigned long )_floppy;
#line 2230
  __cil_tmp173 = __cil_tmp172 + 16;
#line 2230
  __cil_tmp174 = *((unsigned int *)__cil_tmp173);
#line 2230
  if (__cil_tmp174 & 4U) {
#line 2231
    count = 0;
    {
#line 2231
    while (1) {
      while_continue___2: /* CIL Label */ ;
      {
#line 2231
      __cil_tmp175 = 3 * 1UL;
#line 2231
      __cil_tmp176 = 54 + __cil_tmp175;
#line 2231
      __cil_tmp177 = (unsigned long )raw_cmd;
#line 2231
      __cil_tmp178 = __cil_tmp177 + __cil_tmp176;
#line 2231
      __cil_tmp179 = *((unsigned char *)__cil_tmp178);
#line 2231
      __cil_tmp180 = (int )__cil_tmp179;
#line 2231
      if (count < __cil_tmp180) {

      } else {
#line 2231
        goto while_break___2;
      }
      }
#line 2232
      __cil_tmp181 = here + count;
#line 2232
      __cil_tmp182 = (unsigned long )__cil_tmp181;
#line 2232
      __cil_tmp183 = __cil_tmp182 + 2;
#line 2232
      __cil_tmp184 = here + count;
#line 2232
      __cil_tmp185 = (unsigned long )__cil_tmp184;
#line 2232
      __cil_tmp186 = __cil_tmp185 + 2;
#line 2232
      __cil_tmp187 = *((unsigned char *)__cil_tmp186);
#line 2232
      __cil_tmp188 = (int )__cil_tmp187;
#line 2232
      __cil_tmp189 = __cil_tmp188 - 1;
#line 2232
      *((unsigned char *)__cil_tmp183) = (unsigned char )__cil_tmp189;
#line 2231
      count = count + 1;
    }
    while_break___2: /* CIL Label */ ;
    }
  } else {

  }
  }
#line 2234
  return;
}
}
#line 2236 "drivers/block/floppy.c"
static void redo_format(void) 
{ unsigned long __cil_tmp1 ;
  unsigned long __cil_tmp2 ;
  unsigned int __cil_tmp3 ;
  unsigned int __cil_tmp4 ;
  unsigned int __cil_tmp5 ;
  int __cil_tmp6 ;
  void (*__cil_tmp7)(void) ;

  {
  {
#line 2238
  buffer_track = -1;
#line 2239
  __cil_tmp1 = (unsigned long )_floppy;
#line 2239
  __cil_tmp2 = __cil_tmp1 + 16;
#line 2239
  __cil_tmp3 = *((unsigned int *)__cil_tmp2);
#line 2239
  __cil_tmp4 = __cil_tmp3 & 1U;
#line 2239
  __cil_tmp5 = format_req.track << __cil_tmp4;
#line 2239
  __cil_tmp6 = (int )__cil_tmp5;
#line 2239
  setup_format_params(__cil_tmp6);
#line 2240
  __cil_tmp7 = & floppy_start;
#line 2240
  (*__cil_tmp7)();
#line 2241
  debugt("queue format request");
  }
#line 2242
  return;
}
}
#line 2244 "drivers/block/floppy.c"
static struct cont_t format_cont  =    {& format_interrupt, & redo_format, & bad_flp_intr, & generic_done};
#line 2251 "drivers/block/floppy.c"
static int do_format(int drive , struct format_descr *tmp_format_req ) 
{ int ret ;
  int tmp ;
  void (*__cil_tmp5)(void) ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned char __cil_tmp9 ;
  unsigned int __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  void (*__cil_tmp14)(void) ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned int __cil_tmp20 ;
  void (*__cil_tmp21)(void) ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  void (*__cil_tmp28)(void) ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  unsigned char __cil_tmp31 ;
  int __cil_tmp32 ;
  int __cil_tmp33 ;
  int __cil_tmp34 ;
  int __cil_tmp35 ;
  int __cil_tmp36 ;
  int __cil_tmp37 ;
  unsigned int __cil_tmp38 ;
  unsigned long __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  unsigned int __cil_tmp41 ;
  unsigned int __cil_tmp42 ;
  void (*__cil_tmp43)(void) ;
  unsigned long __cil_tmp44 ;
  unsigned long __cil_tmp45 ;
  unsigned char __cil_tmp46 ;
  void (*__cil_tmp47)(void) ;
  int *__cil_tmp48 ;
  void (*__cil_tmp49)(void) ;

  {
  {
#line 2255
  tmp = _lock_fdc(drive, 1, 2255);
  }
#line 2255
  if (tmp) {
#line 2255
    return (-4);
  } else {

  }
  {
#line 2256
  set_floppy(drive);
  }
#line 2257
  if (! _floppy) {
    {
#line 2263
    __cil_tmp5 = & process_fd_request;
#line 2263
    (*__cil_tmp5)();
    }
#line 2264
    return (-22);
  } else {
    {
#line 2257
    __cil_tmp6 = current_drive * 128UL;
#line 2257
    __cil_tmp7 = __cil_tmp6 + 59;
#line 2257
    __cil_tmp8 = (unsigned long )(drive_params) + __cil_tmp7;
#line 2257
    __cil_tmp9 = *((unsigned char *)__cil_tmp8);
#line 2257
    __cil_tmp10 = (unsigned int )__cil_tmp9;
#line 2257
    __cil_tmp11 = (unsigned long )_floppy;
#line 2257
    __cil_tmp12 = __cil_tmp11 + 12;
#line 2257
    __cil_tmp13 = *((unsigned int *)__cil_tmp12);
#line 2257
    if (__cil_tmp13 > __cil_tmp10) {
      {
#line 2263
      __cil_tmp14 = & process_fd_request;
#line 2263
      (*__cil_tmp14)();
      }
#line 2264
      return (-22);
    } else {
      {
#line 2257
      __cil_tmp15 = (unsigned long )_floppy;
#line 2257
      __cil_tmp16 = __cil_tmp15 + 12;
#line 2257
      __cil_tmp17 = *((unsigned int *)__cil_tmp16);
#line 2257
      __cil_tmp18 = (unsigned long )tmp_format_req;
#line 2257
      __cil_tmp19 = __cil_tmp18 + 8;
#line 2257
      __cil_tmp20 = *((unsigned int *)__cil_tmp19);
#line 2257
      if (__cil_tmp20 >= __cil_tmp17) {
        {
#line 2263
        __cil_tmp21 = & process_fd_request;
#line 2263
        (*__cil_tmp21)();
        }
#line 2264
        return (-22);
      } else {
        {
#line 2257
        __cil_tmp22 = (unsigned long )_floppy;
#line 2257
        __cil_tmp23 = __cil_tmp22 + 8;
#line 2257
        __cil_tmp24 = *((unsigned int *)__cil_tmp23);
#line 2257
        __cil_tmp25 = (unsigned long )tmp_format_req;
#line 2257
        __cil_tmp26 = __cil_tmp25 + 4;
#line 2257
        __cil_tmp27 = *((unsigned int *)__cil_tmp26);
#line 2257
        if (__cil_tmp27 >= __cil_tmp24) {
          {
#line 2263
          __cil_tmp28 = & process_fd_request;
#line 2263
          (*__cil_tmp28)();
          }
#line 2264
          return (-22);
        } else {
          {
#line 2257
          __cil_tmp29 = (unsigned long )_floppy;
#line 2257
          __cil_tmp30 = __cil_tmp29 + 21;
#line 2257
          __cil_tmp31 = *((unsigned char *)__cil_tmp30);
#line 2257
          __cil_tmp32 = (int )__cil_tmp31;
#line 2257
          __cil_tmp33 = __cil_tmp32 & 56;
#line 2257
          __cil_tmp34 = __cil_tmp33 >> 3;
#line 2257
          __cil_tmp35 = __cil_tmp34 + 2;
#line 2257
          __cil_tmp36 = __cil_tmp35 % 8;
#line 2257
          __cil_tmp37 = 1 << __cil_tmp36;
#line 2257
          __cil_tmp38 = (unsigned int )__cil_tmp37;
#line 2257
          __cil_tmp39 = (unsigned long )_floppy;
#line 2257
          __cil_tmp40 = __cil_tmp39 + 4;
#line 2257
          __cil_tmp41 = *((unsigned int *)__cil_tmp40);
#line 2257
          __cil_tmp42 = __cil_tmp41 << 2;
#line 2257
          if (__cil_tmp42 % __cil_tmp38) {
            {
#line 2263
            __cil_tmp43 = & process_fd_request;
#line 2263
            (*__cil_tmp43)();
            }
#line 2264
            return (-22);
          } else {
            {
#line 2257
            __cil_tmp44 = (unsigned long )_floppy;
#line 2257
            __cil_tmp45 = __cil_tmp44 + 23;
#line 2257
            __cil_tmp46 = *((unsigned char *)__cil_tmp45);
#line 2257
            if (! __cil_tmp46) {
              {
#line 2263
              __cil_tmp47 = & process_fd_request;
#line 2263
              (*__cil_tmp47)();
              }
#line 2264
              return (-22);
            } else {

            }
            }
          }
          }
        }
        }
      }
      }
    }
    }
  }
  {
#line 2266
  format_req = *tmp_format_req;
#line 2267
  __cil_tmp48 = & format_errors;
#line 2267
  *__cil_tmp48 = 0;
#line 2268
  cont = & format_cont;
#line 2269
  errors = & format_errors;
#line 2270
  ret = wait_til_done(& redo_format, 1);
  }
#line 2270
  if (ret == -4) {
#line 2270
    return (-4);
  } else {

  }
  {
#line 2271
  __cil_tmp49 = & process_fd_request;
#line 2271
  (*__cil_tmp49)();
  }
#line 2272
  return (ret);
}
}
#line 2280 "drivers/block/floppy.c"
static void floppy_end_request(struct request *req , int uptodate ) 
{ unsigned int nr_sectors ;
  int tmp ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  int __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  struct gendisk *__cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  struct gendisk *__cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  void *__cil_tmp16 ;
  long __cil_tmp17 ;
  unsigned int __cil_tmp18 ;
  void *__cil_tmp19 ;

  {
#line 2282
  nr_sectors = (unsigned int )current_count_sectors;
#line 2285
  if (! uptodate) {
#line 2286
    __cil_tmp5 = (unsigned long )req;
#line 2286
    __cil_tmp6 = __cil_tmp5 + 64;
#line 2286
    nr_sectors = *((unsigned int *)__cil_tmp6);
  } else {

  }
  {
#line 2287
  __cil_tmp7 = (int )nr_sectors;
#line 2287
  tmp = end_that_request_first(req, uptodate, __cil_tmp7);
  }
#line 2287
  if (tmp) {
#line 2288
    return;
  } else {

  }
  {
#line 2289
  __cil_tmp8 = (unsigned long )req;
#line 2289
  __cil_tmp9 = __cil_tmp8 + 88;
#line 2289
  __cil_tmp10 = *((struct gendisk **)__cil_tmp9);
#line 2289
  add_disk_randomness(__cil_tmp10);
#line 2290
  __cil_tmp11 = (unsigned long )req;
#line 2290
  __cil_tmp12 = __cil_tmp11 + 88;
#line 2290
  __cil_tmp13 = *((struct gendisk **)__cil_tmp12);
#line 2290
  __cil_tmp14 = (unsigned long )__cil_tmp13;
#line 2290
  __cil_tmp15 = __cil_tmp14 + 64;
#line 2290
  __cil_tmp16 = *((void **)__cil_tmp15);
#line 2290
  __cil_tmp17 = (long )__cil_tmp16;
#line 2290
  __cil_tmp18 = (unsigned int )__cil_tmp17;
#line 2290
  floppy_off(__cil_tmp18);
#line 2291
  blkdev_dequeue_request(req);
#line 2292
  end_that_request_last(req, uptodate);
#line 2295
  __cil_tmp19 = (void *)0;
#line 2295
  current_req = (struct request *)__cil_tmp19;
  }
#line 2296
  return;
}
}
#line 2300 "drivers/block/floppy.c"
static void request_done(int uptodate ) 
{ struct request_queue *q ;
  struct request *req ;
  unsigned long flags ;
  int block ;
  int __x ;
  int __y ;
  int tmp ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  sector_t __cil_tmp11 ;
  sector_t __cil_tmp12 ;
  sector_t __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  short __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  spinlock_t *__cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  spinlock_t *__cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  unsigned int __cil_tmp37 ;
  unsigned long __cil_tmp38 ;
  unsigned long __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  unsigned long __cil_tmp41 ;
  unsigned int __cil_tmp42 ;
  unsigned long __cil_tmp43 ;
  unsigned long __cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  unsigned long __cil_tmp46 ;
  unsigned long __cil_tmp47 ;
  unsigned long __cil_tmp48 ;
  unsigned long __cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  unsigned long __cil_tmp51 ;
  unsigned long __cil_tmp52 ;
  unsigned long __cil_tmp53 ;
  unsigned long __cil_tmp54 ;
  unsigned long __cil_tmp55 ;
  unsigned long __cil_tmp56 ;
  unsigned long __cil_tmp57 ;
  unsigned long __cil_tmp58 ;
  unsigned long __cil_tmp59 ;
  unsigned long __cil_tmp60 ;
  unsigned long __cil_tmp61 ;
  unsigned long __cil_tmp62 ;
  unsigned long __cil_tmp63 ;
  unsigned long __cil_tmp64 ;
  unsigned long __cil_tmp65 ;
  unsigned long __cil_tmp66 ;
  unsigned long __cil_tmp67 ;
  unsigned long __cil_tmp68 ;
  unsigned long __cil_tmp69 ;
  spinlock_t *__cil_tmp70 ;
  unsigned long __cil_tmp71 ;
  unsigned long __cil_tmp72 ;
  spinlock_t *__cil_tmp73 ;

  {
  {
#line 2302
  q = floppy_queue;
#line 2303
  req = current_req;
#line 2307
  probing = 0;
#line 2308
  reschedule_timeout(-2, "request done %d", uptodate);
  }
#line 2310
  if (! req) {
    {
#line 2311
    printk("floppy.c: no request in request_done\n");
    }
#line 2312
    return;
  } else {

  }
#line 2315
  if (uptodate) {
#line 2318
    __cil_tmp9 = (unsigned long )req;
#line 2318
    __cil_tmp10 = __cil_tmp9 + 48;
#line 2318
    __cil_tmp11 = *((sector_t *)__cil_tmp10);
#line 2318
    __cil_tmp12 = (sector_t )current_count_sectors;
#line 2318
    __cil_tmp13 = __cil_tmp12 + __cil_tmp11;
#line 2318
    block = (int )__cil_tmp13;
#line 2319
    __cil_tmp14 = current_drive * 80UL;
#line 2319
    __cil_tmp15 = __cil_tmp14 + 36;
#line 2319
    __cil_tmp16 = (unsigned long )(drive_state) + __cil_tmp15;
#line 2319
    __cil_tmp17 = *((short *)__cil_tmp16);
#line 2319
    __x = (int )__cil_tmp17;
#line 2319
    __y = block;
#line 2319
    if (__x > __y) {
#line 2319
      tmp = __x;
    } else {
#line 2319
      tmp = __y;
    }
#line 2319
    __cil_tmp18 = current_drive * 80UL;
#line 2319
    __cil_tmp19 = __cil_tmp18 + 36;
#line 2319
    __cil_tmp20 = (unsigned long )(drive_state) + __cil_tmp19;
#line 2319
    *((short *)__cil_tmp20) = (short )tmp;
    {
#line 2320
    __cil_tmp21 = (unsigned long )_floppy;
#line 2320
    __cil_tmp22 = __cil_tmp21 + 4;
#line 2320
    __cil_tmp23 = *((unsigned int *)__cil_tmp22);
#line 2320
    __cil_tmp24 = (unsigned int )block;
#line 2320
    if (__cil_tmp24 > __cil_tmp23) {
#line 2321
      __cil_tmp25 = current_drive * 80UL;
#line 2321
      __cil_tmp26 = __cil_tmp25 + 38;
#line 2321
      __cil_tmp27 = (unsigned long )(drive_state) + __cil_tmp26;
#line 2321
      *((short *)__cil_tmp27) = (short)1;
    } else {

    }
    }
    {
#line 2324
    __cil_tmp28 = (unsigned long )q;
#line 2324
    __cil_tmp29 = __cil_tmp28 + 64;
#line 2324
    __cil_tmp30 = *((spinlock_t **)__cil_tmp29);
#line 2324
    spin_lock_irqsave(__cil_tmp30, flags);
#line 2325
    floppy_end_request(req, 1);
#line 2326
    __cil_tmp31 = (unsigned long )q;
#line 2326
    __cil_tmp32 = __cil_tmp31 + 64;
#line 2326
    __cil_tmp33 = *((spinlock_t **)__cil_tmp32);
#line 2326
    spin_unlock_irqrestore(__cil_tmp33, flags);
    }
  } else {
    {
#line 2328
    __cil_tmp34 = (unsigned long )req;
#line 2328
    __cil_tmp35 = __cil_tmp34 + 40;
#line 2328
    __cil_tmp36 = *((unsigned int *)__cil_tmp35);
#line 2328
    __cil_tmp37 = __cil_tmp36 & 1U;
#line 2328
    if (__cil_tmp37 == 1U) {
#line 2330
      __cil_tmp38 = current_drive * 40UL;
#line 2330
      __cil_tmp39 = (unsigned long )(write_errors) + __cil_tmp38;
#line 2330
      __cil_tmp40 = current_drive * 40UL;
#line 2330
      __cil_tmp41 = (unsigned long )(write_errors) + __cil_tmp40;
#line 2330
      __cil_tmp42 = *((unsigned int *)__cil_tmp41);
#line 2330
      *((unsigned int *)__cil_tmp39) = __cil_tmp42 + 1U;
      {
#line 2331
      __cil_tmp43 = current_drive * 40UL;
#line 2331
      __cil_tmp44 = (unsigned long )(write_errors) + __cil_tmp43;
#line 2331
      __cil_tmp45 = *((unsigned int *)__cil_tmp44);
#line 2331
      if (__cil_tmp45 == 1U) {
#line 2332
        __cil_tmp46 = current_drive * 40UL;
#line 2332
        __cil_tmp47 = __cil_tmp46 + 8;
#line 2332
        __cil_tmp48 = (unsigned long )(write_errors) + __cil_tmp47;
#line 2332
        __cil_tmp49 = (unsigned long )req;
#line 2332
        __cil_tmp50 = __cil_tmp49 + 48;
#line 2332
        *((unsigned long *)__cil_tmp48) = *((sector_t *)__cil_tmp50);
#line 2333
        __cil_tmp51 = current_drive * 40UL;
#line 2333
        __cil_tmp52 = __cil_tmp51 + 16;
#line 2333
        __cil_tmp53 = (unsigned long )(write_errors) + __cil_tmp52;
#line 2333
        __cil_tmp54 = current_drive * 80UL;
#line 2333
        __cil_tmp55 = __cil_tmp54 + 40;
#line 2333
        __cil_tmp56 = (unsigned long )(drive_state) + __cil_tmp55;
#line 2333
        *((int *)__cil_tmp53) = *((int *)__cil_tmp56);
      } else {

      }
      }
#line 2335
      __cil_tmp57 = current_drive * 40UL;
#line 2335
      __cil_tmp58 = __cil_tmp57 + 24;
#line 2335
      __cil_tmp59 = (unsigned long )(write_errors) + __cil_tmp58;
#line 2335
      __cil_tmp60 = (unsigned long )req;
#line 2335
      __cil_tmp61 = __cil_tmp60 + 48;
#line 2335
      *((unsigned long *)__cil_tmp59) = *((sector_t *)__cil_tmp61);
#line 2336
      __cil_tmp62 = current_drive * 40UL;
#line 2336
      __cil_tmp63 = __cil_tmp62 + 32;
#line 2336
      __cil_tmp64 = (unsigned long )(write_errors) + __cil_tmp63;
#line 2336
      __cil_tmp65 = current_drive * 80UL;
#line 2336
      __cil_tmp66 = __cil_tmp65 + 40;
#line 2336
      __cil_tmp67 = (unsigned long )(drive_state) + __cil_tmp66;
#line 2336
      *((int *)__cil_tmp64) = *((int *)__cil_tmp67);
    } else {

    }
    }
    {
#line 2338
    __cil_tmp68 = (unsigned long )q;
#line 2338
    __cil_tmp69 = __cil_tmp68 + 64;
#line 2338
    __cil_tmp70 = *((spinlock_t **)__cil_tmp69);
#line 2338
    spin_lock_irqsave(__cil_tmp70, flags);
#line 2339
    floppy_end_request(req, 0);
#line 2340
    __cil_tmp71 = (unsigned long )q;
#line 2340
    __cil_tmp72 = __cil_tmp71 + 64;
#line 2340
    __cil_tmp73 = *((spinlock_t **)__cil_tmp72);
#line 2340
    spin_unlock_irqrestore(__cil_tmp73, flags);
    }
  }
#line 2342
  return;
}
}
#line 2345 "drivers/block/floppy.c"
static void rw_interrupt(void) 
{ int nr_sectors ;
  int ssize ;
  int eoc ;
  int heads ;
  int __x ;
  int __y ;
  int tmp ;
  int __x___0 ;
  int __y___0 ;
  int tmp___0 ;
  int tmp___1 ;
  int __x___1 ;
  int __y___1 ;
  int tmp___2 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned char __cil_tmp17 ;
  int __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned char __cil_tmp30 ;
  int __cil_tmp31 ;
  int __cil_tmp32 ;
  int __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned char __cil_tmp36 ;
  int __cil_tmp37 ;
  unsigned long __cil_tmp38 ;
  unsigned long __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  unsigned long __cil_tmp41 ;
  unsigned char __cil_tmp42 ;
  int __cil_tmp43 ;
  unsigned long __cil_tmp44 ;
  unsigned long __cil_tmp45 ;
  unsigned long __cil_tmp46 ;
  unsigned long __cil_tmp47 ;
  unsigned char __cil_tmp48 ;
  int __cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  unsigned long __cil_tmp51 ;
  unsigned long __cil_tmp52 ;
  unsigned long __cil_tmp53 ;
  unsigned char __cil_tmp54 ;
  int __cil_tmp55 ;
  unsigned long __cil_tmp56 ;
  unsigned long __cil_tmp57 ;
  unsigned char __cil_tmp58 ;
  int __cil_tmp59 ;
  unsigned long __cil_tmp60 ;
  unsigned long __cil_tmp61 ;
  unsigned long __cil_tmp62 ;
  unsigned long __cil_tmp63 ;
  unsigned char __cil_tmp64 ;
  int __cil_tmp65 ;
  unsigned long __cil_tmp66 ;
  unsigned long __cil_tmp67 ;
  unsigned long __cil_tmp68 ;
  unsigned long __cil_tmp69 ;
  unsigned char __cil_tmp70 ;
  int __cil_tmp71 ;
  unsigned long __cil_tmp72 ;
  unsigned long __cil_tmp73 ;
  unsigned char __cil_tmp74 ;
  int __cil_tmp75 ;
  unsigned long __cil_tmp76 ;
  unsigned long __cil_tmp77 ;
  unsigned long __cil_tmp78 ;
  unsigned long __cil_tmp79 ;
  unsigned char __cil_tmp80 ;
  int __cil_tmp81 ;
  unsigned long __cil_tmp82 ;
  unsigned long __cil_tmp83 ;
  unsigned char __cil_tmp84 ;
  int __cil_tmp85 ;
  int __cil_tmp86 ;
  int __cil_tmp87 ;
  int __cil_tmp88 ;
  int __cil_tmp89 ;
  int __cil_tmp90 ;
  int __cil_tmp91 ;
  int __cil_tmp92 ;
  int __cil_tmp93 ;
  int __cil_tmp94 ;
  long __cil_tmp95 ;
  long __cil_tmp96 ;
  long __cil_tmp97 ;
  long __cil_tmp98 ;
  long __cil_tmp99 ;
  long __cil_tmp100 ;
  long __cil_tmp101 ;
  int __cil_tmp102 ;
  long __cil_tmp103 ;
  int __cil_tmp104 ;
  unsigned long __cil_tmp105 ;
  unsigned long __cil_tmp106 ;
  unsigned char __cil_tmp107 ;
  int __cil_tmp108 ;
  unsigned long __cil_tmp109 ;
  unsigned long __cil_tmp110 ;
  unsigned long __cil_tmp111 ;
  unsigned long __cil_tmp112 ;
  unsigned char __cil_tmp113 ;
  int __cil_tmp114 ;
  unsigned long __cil_tmp115 ;
  unsigned long __cil_tmp116 ;
  unsigned char __cil_tmp117 ;
  int __cil_tmp118 ;
  unsigned long __cil_tmp119 ;
  unsigned long __cil_tmp120 ;
  unsigned long __cil_tmp121 ;
  unsigned long __cil_tmp122 ;
  unsigned char __cil_tmp123 ;
  int __cil_tmp124 ;
  unsigned long __cil_tmp125 ;
  unsigned long __cil_tmp126 ;
  unsigned char __cil_tmp127 ;
  int __cil_tmp128 ;
  unsigned long __cil_tmp129 ;
  unsigned long __cil_tmp130 ;
  unsigned long __cil_tmp131 ;
  unsigned long __cil_tmp132 ;
  unsigned char __cil_tmp133 ;
  int __cil_tmp134 ;
  unsigned long __cil_tmp135 ;
  unsigned long __cil_tmp136 ;
  unsigned long __cil_tmp137 ;
  unsigned long __cil_tmp138 ;
  unsigned char __cil_tmp139 ;
  int __cil_tmp140 ;
  int __cil_tmp141 ;
  int __cil_tmp142 ;
  int __cil_tmp143 ;
  unsigned long __cil_tmp144 ;
  unsigned long __cil_tmp145 ;
  void (*__cil_tmp146)(void) ;
  unsigned long __cil_tmp147 ;
  unsigned long __cil_tmp148 ;
  void (*__cil_tmp149)(void) ;
  unsigned long __cil_tmp150 ;
  unsigned long __cil_tmp151 ;
  void (*__cil_tmp152)(void) ;
  unsigned long __cil_tmp153 ;
  unsigned long __cil_tmp154 ;
  void (*__cil_tmp155)(void) ;
  unsigned long __cil_tmp156 ;
  unsigned long __cil_tmp157 ;
  int __cil_tmp158 ;
  int __cil_tmp159 ;
  int __cil_tmp160 ;
  int __cil_tmp161 ;
  int __cil_tmp162 ;
  int __cil_tmp163 ;
  unsigned long __cil_tmp164 ;
  unsigned long __cil_tmp165 ;
  unsigned int __cil_tmp166 ;
  unsigned long __cil_tmp167 ;
  unsigned long __cil_tmp168 ;
  unsigned long __cil_tmp169 ;
  char __cil_tmp170 ;
  int __cil_tmp171 ;
  int __cil_tmp172 ;
  unsigned long __cil_tmp173 ;
  unsigned long __cil_tmp174 ;
  char const   *__cil_tmp175 ;
  int __cil_tmp176 ;
  unsigned long __cil_tmp177 ;
  unsigned long __cil_tmp178 ;
  int __cil_tmp179 ;
  int __cil_tmp180 ;
  int __cil_tmp181 ;
  int __cil_tmp182 ;
  int __cil_tmp183 ;
  int __cil_tmp184 ;
  unsigned long __cil_tmp185 ;
  unsigned long __cil_tmp186 ;
  unsigned int __cil_tmp187 ;
  unsigned long __cil_tmp188 ;
  unsigned long __cil_tmp189 ;
  unsigned long __cil_tmp190 ;
  unsigned long __cil_tmp191 ;
  unsigned char __cil_tmp192 ;
  int __cil_tmp193 ;
  int __cil_tmp194 ;
  unsigned long __cil_tmp195 ;
  unsigned long __cil_tmp196 ;
  void (*__cil_tmp197)(int  ) ;
  unsigned long __cil_tmp198 ;
  unsigned long __cil_tmp199 ;
  char *__cil_tmp200 ;
  unsigned long __cil_tmp201 ;
  unsigned long __cil_tmp202 ;
  unsigned long __cil_tmp203 ;
  char *__cil_tmp204 ;
  unsigned long __cil_tmp205 ;
  unsigned long __cil_tmp206 ;
  unsigned long __cil_tmp207 ;
  void (*__cil_tmp208)(int  ) ;
  unsigned long __cil_tmp209 ;
  unsigned long __cil_tmp210 ;
  unsigned long __cil_tmp211 ;
  unsigned long __cil_tmp212 ;
  unsigned char __cil_tmp213 ;
  int __cil_tmp214 ;
  int __cil_tmp215 ;
  unsigned long __cil_tmp216 ;
  unsigned long __cil_tmp217 ;
  int __cil_tmp218 ;
  unsigned long __cil_tmp219 ;
  unsigned long __cil_tmp220 ;
  void (*__cil_tmp221)(void) ;

  {
  {
#line 2349
  __cil_tmp15 = 4 * 1UL;
#line 2349
  __cil_tmp16 = (unsigned long )(reply_buffer) + __cil_tmp15;
#line 2349
  __cil_tmp17 = *((unsigned char *)__cil_tmp16);
#line 2349
  __cil_tmp18 = (int )__cil_tmp17;
#line 2349
  if (__cil_tmp18 >= 2) {
#line 2353
    return;
  } else {

  }
  }
  {
#line 2356
  __cil_tmp19 = current_drive * 80UL;
#line 2356
  __cil_tmp20 = __cil_tmp19 + 24;
#line 2356
  __cil_tmp21 = (unsigned long )(drive_state) + __cil_tmp20;
#line 2356
  __cil_tmp22 = *((unsigned long *)__cil_tmp21);
#line 2356
  if (! __cil_tmp22) {
#line 2357
    __cil_tmp23 = current_drive * 80UL;
#line 2357
    __cil_tmp24 = __cil_tmp23 + 24;
#line 2357
    __cil_tmp25 = (unsigned long )(drive_state) + __cil_tmp24;
#line 2357
    *((unsigned long *)__cil_tmp25) = jiffies;
  } else {

  }
  }
#line 2359
  nr_sectors = 0;
#line 2360
  __cil_tmp26 = 5 * 1UL;
#line 2360
  __cil_tmp27 = 54 + __cil_tmp26;
#line 2360
  __cil_tmp28 = (unsigned long )raw_cmd;
#line 2360
  __cil_tmp29 = __cil_tmp28 + __cil_tmp27;
#line 2360
  __cil_tmp30 = *((unsigned char *)__cil_tmp29);
#line 2360
  __cil_tmp31 = (int )__cil_tmp30;
#line 2360
  __cil_tmp32 = 1 << __cil_tmp31;
#line 2360
  __cil_tmp33 = __cil_tmp32 + 3;
#line 2360
  ssize = __cil_tmp33 >> 2;
  {
#line 2362
  __cil_tmp34 = 1 * 1UL;
#line 2362
  __cil_tmp35 = (unsigned long )(reply_buffer) + __cil_tmp34;
#line 2362
  __cil_tmp36 = *((unsigned char *)__cil_tmp35);
#line 2362
  __cil_tmp37 = (int )__cil_tmp36;
#line 2362
  if (__cil_tmp37 & 128) {
#line 2363
    eoc = 1;
  } else {
#line 2365
    eoc = 0;
  }
  }
  {
#line 2367
  __cil_tmp38 = 0 * 1UL;
#line 2367
  __cil_tmp39 = 54 + __cil_tmp38;
#line 2367
  __cil_tmp40 = (unsigned long )raw_cmd;
#line 2367
  __cil_tmp41 = __cil_tmp40 + __cil_tmp39;
#line 2367
  __cil_tmp42 = *((unsigned char *)__cil_tmp41);
#line 2367
  __cil_tmp43 = (int )__cil_tmp42;
#line 2367
  if (__cil_tmp43 & 128) {
#line 2368
    heads = 2;
  } else {
#line 2370
    heads = 1;
  }
  }
#line 2372
  __cil_tmp44 = 5 * 1UL;
#line 2372
  __cil_tmp45 = 54 + __cil_tmp44;
#line 2372
  __cil_tmp46 = (unsigned long )raw_cmd;
#line 2372
  __cil_tmp47 = __cil_tmp46 + __cil_tmp45;
#line 2372
  __cil_tmp48 = *((unsigned char *)__cil_tmp47);
#line 2372
  __cil_tmp49 = (int )__cil_tmp48;
#line 2372
  __cil_tmp50 = 4 * 1UL;
#line 2372
  __cil_tmp51 = 54 + __cil_tmp50;
#line 2372
  __cil_tmp52 = (unsigned long )raw_cmd;
#line 2372
  __cil_tmp53 = __cil_tmp52 + __cil_tmp51;
#line 2372
  __cil_tmp54 = *((unsigned char *)__cil_tmp53);
#line 2372
  __cil_tmp55 = (int )__cil_tmp54;
#line 2372
  __cil_tmp56 = 5 * 1UL;
#line 2372
  __cil_tmp57 = (unsigned long )(reply_buffer) + __cil_tmp56;
#line 2372
  __cil_tmp58 = *((unsigned char *)__cil_tmp57);
#line 2372
  __cil_tmp59 = (int )__cil_tmp58;
#line 2372
  __cil_tmp60 = 6 * 1UL;
#line 2372
  __cil_tmp61 = 54 + __cil_tmp60;
#line 2372
  __cil_tmp62 = (unsigned long )raw_cmd;
#line 2372
  __cil_tmp63 = __cil_tmp62 + __cil_tmp61;
#line 2372
  __cil_tmp64 = *((unsigned char *)__cil_tmp63);
#line 2372
  __cil_tmp65 = (int )__cil_tmp64;
#line 2372
  __cil_tmp66 = 3 * 1UL;
#line 2372
  __cil_tmp67 = 54 + __cil_tmp66;
#line 2372
  __cil_tmp68 = (unsigned long )raw_cmd;
#line 2372
  __cil_tmp69 = __cil_tmp68 + __cil_tmp67;
#line 2372
  __cil_tmp70 = *((unsigned char *)__cil_tmp69);
#line 2372
  __cil_tmp71 = (int )__cil_tmp70;
#line 2372
  __cil_tmp72 = 4 * 1UL;
#line 2372
  __cil_tmp73 = (unsigned long )(reply_buffer) + __cil_tmp72;
#line 2372
  __cil_tmp74 = *((unsigned char *)__cil_tmp73);
#line 2372
  __cil_tmp75 = (int )__cil_tmp74;
#line 2372
  __cil_tmp76 = 2 * 1UL;
#line 2372
  __cil_tmp77 = 54 + __cil_tmp76;
#line 2372
  __cil_tmp78 = (unsigned long )raw_cmd;
#line 2372
  __cil_tmp79 = __cil_tmp78 + __cil_tmp77;
#line 2372
  __cil_tmp80 = *((unsigned char *)__cil_tmp79);
#line 2372
  __cil_tmp81 = (int )__cil_tmp80;
#line 2372
  __cil_tmp82 = 3 * 1UL;
#line 2372
  __cil_tmp83 = (unsigned long )(reply_buffer) + __cil_tmp82;
#line 2372
  __cil_tmp84 = *((unsigned char *)__cil_tmp83);
#line 2372
  __cil_tmp85 = (int )__cil_tmp84;
#line 2372
  __cil_tmp86 = __cil_tmp85 - __cil_tmp81;
#line 2372
  __cil_tmp87 = __cil_tmp86 * heads;
#line 2372
  __cil_tmp88 = __cil_tmp87 + __cil_tmp75;
#line 2372
  __cil_tmp89 = __cil_tmp88 - __cil_tmp71;
#line 2372
  __cil_tmp90 = __cil_tmp89 * __cil_tmp65;
#line 2372
  __cil_tmp91 = __cil_tmp90 + __cil_tmp59;
#line 2372
  __cil_tmp92 = __cil_tmp91 - __cil_tmp55;
#line 2372
  __cil_tmp93 = __cil_tmp92 + eoc;
#line 2372
  __cil_tmp94 = __cil_tmp93 << __cil_tmp49;
#line 2372
  nr_sectors = __cil_tmp94 >> 2;
  {
#line 2377
  __cil_tmp95 = (long )ssize;
#line 2377
  __cil_tmp96 = (long )ssize;
#line 2377
  __cil_tmp97 = (long )in_sector_offset;
#line 2377
  __cil_tmp98 = __cil_tmp97 + current_count_sectors;
#line 2377
  __cil_tmp99 = __cil_tmp98 + __cil_tmp96;
#line 2377
  __cil_tmp100 = __cil_tmp99 - 1L;
#line 2377
  __cil_tmp101 = __cil_tmp100 / __cil_tmp95;
#line 2377
  __cil_tmp102 = nr_sectors / ssize;
#line 2377
  __cil_tmp103 = (long )__cil_tmp102;
#line 2377
  if (__cil_tmp103 > __cil_tmp101) {
    {
#line 2379
    __cil_tmp104 = (int )current_drive;
#line 2379
    printk("floppy%d: long rw: %x instead of %lx\n", __cil_tmp104, nr_sectors, current_count_sectors);
#line 2381
    __cil_tmp105 = 5 * 1UL;
#line 2381
    __cil_tmp106 = (unsigned long )(reply_buffer) + __cil_tmp105;
#line 2381
    __cil_tmp107 = *((unsigned char *)__cil_tmp106);
#line 2381
    __cil_tmp108 = (int )__cil_tmp107;
#line 2381
    __cil_tmp109 = 4 * 1UL;
#line 2381
    __cil_tmp110 = 54 + __cil_tmp109;
#line 2381
    __cil_tmp111 = (unsigned long )raw_cmd;
#line 2381
    __cil_tmp112 = __cil_tmp111 + __cil_tmp110;
#line 2381
    __cil_tmp113 = *((unsigned char *)__cil_tmp112);
#line 2381
    __cil_tmp114 = (int )__cil_tmp113;
#line 2381
    printk("rs=%d s=%d\n", __cil_tmp108, __cil_tmp114);
#line 2382
    __cil_tmp115 = 4 * 1UL;
#line 2382
    __cil_tmp116 = (unsigned long )(reply_buffer) + __cil_tmp115;
#line 2382
    __cil_tmp117 = *((unsigned char *)__cil_tmp116);
#line 2382
    __cil_tmp118 = (int )__cil_tmp117;
#line 2382
    __cil_tmp119 = 3 * 1UL;
#line 2382
    __cil_tmp120 = 54 + __cil_tmp119;
#line 2382
    __cil_tmp121 = (unsigned long )raw_cmd;
#line 2382
    __cil_tmp122 = __cil_tmp121 + __cil_tmp120;
#line 2382
    __cil_tmp123 = *((unsigned char *)__cil_tmp122);
#line 2382
    __cil_tmp124 = (int )__cil_tmp123;
#line 2382
    printk("rh=%d h=%d\n", __cil_tmp118, __cil_tmp124);
#line 2383
    __cil_tmp125 = 3 * 1UL;
#line 2383
    __cil_tmp126 = (unsigned long )(reply_buffer) + __cil_tmp125;
#line 2383
    __cil_tmp127 = *((unsigned char *)__cil_tmp126);
#line 2383
    __cil_tmp128 = (int )__cil_tmp127;
#line 2383
    __cil_tmp129 = 2 * 1UL;
#line 2383
    __cil_tmp130 = 54 + __cil_tmp129;
#line 2383
    __cil_tmp131 = (unsigned long )raw_cmd;
#line 2383
    __cil_tmp132 = __cil_tmp131 + __cil_tmp130;
#line 2383
    __cil_tmp133 = *((unsigned char *)__cil_tmp132);
#line 2383
    __cil_tmp134 = (int )__cil_tmp133;
#line 2383
    printk("rt=%d t=%d\n", __cil_tmp128, __cil_tmp134);
#line 2384
    printk("heads=%d eoc=%d\n", heads, eoc);
#line 2385
    __cil_tmp135 = 6 * 1UL;
#line 2385
    __cil_tmp136 = 54 + __cil_tmp135;
#line 2385
    __cil_tmp137 = (unsigned long )raw_cmd;
#line 2385
    __cil_tmp138 = __cil_tmp137 + __cil_tmp136;
#line 2385
    __cil_tmp139 = *((unsigned char *)__cil_tmp138);
#line 2385
    __cil_tmp140 = (int )__cil_tmp139;
#line 2385
    __cil_tmp141 = (int )fsector_t;
#line 2385
    printk("spt=%d st=%d ss=%d\n", __cil_tmp140, __cil_tmp141, ssize);
#line 2387
    __cil_tmp142 = (int )in_sector_offset;
#line 2387
    printk("in_sector_offset=%d\n", __cil_tmp142);
    }
  } else {

  }
  }
#line 2391
  __cil_tmp143 = (int )in_sector_offset;
#line 2391
  nr_sectors = nr_sectors - __cil_tmp143;
#line 2392
  __x = nr_sectors;
#line 2392
  __y = 0;
#line 2392
  if (__x > __y) {
#line 2392
    tmp = __x;
  } else {
#line 2392
    tmp = __y;
  }
#line 2392
  nr_sectors = tmp;
#line 2393
  __x___0 = (int )current_count_sectors;
#line 2393
  __y___0 = nr_sectors;
#line 2393
  if (__x___0 < __y___0) {
#line 2393
    tmp___0 = __x___0;
  } else {
#line 2393
    tmp___0 = __y___0;
  }
  {
#line 2393
  current_count_sectors = (long )tmp___0;
#line 2395
  tmp___1 = interpret_errors();
  }
  {
#line 2396
  if (tmp___1 == 2) {
#line 2396
    goto case_2;
  } else {

  }
#line 2399
  if (tmp___1 == 1) {
#line 2399
    goto case_1;
  } else {

  }
#line 2406
  if (tmp___1 == 0) {
#line 2406
    goto case_0;
  } else {

  }
#line 2395
  goto switch_break;
  case_2: /* CIL Label */ 
  {
#line 2397
  __cil_tmp144 = (unsigned long )cont;
#line 2397
  __cil_tmp145 = __cil_tmp144 + 8;
#line 2397
  __cil_tmp146 = *((void (**)(void))__cil_tmp145);
#line 2397
  (*__cil_tmp146)();
  }
#line 2398
  return;
  case_1: /* CIL Label */ 
#line 2400
  if (! current_count_sectors) {
    {
#line 2401
    __cil_tmp147 = (unsigned long )cont;
#line 2401
    __cil_tmp148 = __cil_tmp147 + 16;
#line 2401
    __cil_tmp149 = *((void (**)(void))__cil_tmp148);
#line 2401
    (*__cil_tmp149)();
#line 2402
    __cil_tmp150 = (unsigned long )cont;
#line 2402
    __cil_tmp151 = __cil_tmp150 + 8;
#line 2402
    __cil_tmp152 = *((void (**)(void))__cil_tmp151);
#line 2402
    (*__cil_tmp152)();
    }
#line 2403
    return;
  } else {

  }
#line 2405
  goto switch_break;
  case_0: /* CIL Label */ 
#line 2407
  if (! current_count_sectors) {
    {
#line 2408
    __cil_tmp153 = (unsigned long )cont;
#line 2408
    __cil_tmp154 = __cil_tmp153 + 8;
#line 2408
    __cil_tmp155 = *((void (**)(void))__cil_tmp154);
#line 2408
    (*__cil_tmp155)();
    }
#line 2409
    return;
  } else {

  }
#line 2411
  __cil_tmp156 = current_drive * 8UL;
#line 2411
  __cil_tmp157 = (unsigned long )(current_type) + __cil_tmp156;
#line 2411
  *((struct floppy_struct **)__cil_tmp157) = _floppy;
#line 2412
  __cil_tmp158 = (int )current_drive;
#line 2412
  __cil_tmp159 = __cil_tmp158 & 4;
#line 2412
  __cil_tmp160 = __cil_tmp159 << 5;
#line 2412
  __cil_tmp161 = (int )current_drive;
#line 2412
  __cil_tmp162 = __cil_tmp161 & 3;
#line 2412
  __cil_tmp163 = __cil_tmp162 | __cil_tmp160;
#line 2412
  __cil_tmp164 = __cil_tmp163 * 8UL;
#line 2412
  __cil_tmp165 = (unsigned long )(floppy_sizes) + __cil_tmp164;
#line 2412
  __cil_tmp166 = *((unsigned int *)_floppy);
#line 2412
  *((sector_t *)__cil_tmp165) = (sector_t )__cil_tmp166;
#line 2413
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 2416
  if (probing) {
    {
#line 2417
    __cil_tmp167 = current_drive * 128UL;
#line 2417
    __cil_tmp168 = __cil_tmp167 + 96;
#line 2417
    __cil_tmp169 = (unsigned long )(drive_params) + __cil_tmp168;
#line 2417
    __cil_tmp170 = *((char *)__cil_tmp169);
#line 2417
    __cil_tmp171 = (int )__cil_tmp170;
#line 2417
    if (__cil_tmp171 & 16) {
      {
#line 2418
      __cil_tmp172 = (int )current_drive;
#line 2418
      __cil_tmp173 = (unsigned long )_floppy;
#line 2418
      __cil_tmp174 = __cil_tmp173 + 24;
#line 2418
      __cil_tmp175 = *((char const   **)__cil_tmp174);
#line 2418
      __cil_tmp176 = (int )current_drive;
#line 2418
      printk("floppy%d: Auto-detected floppy type %s in fd%d\n", __cil_tmp172, __cil_tmp175,
             __cil_tmp176);
      }
    } else {

    }
    }
#line 2420
    __cil_tmp177 = current_drive * 8UL;
#line 2420
    __cil_tmp178 = (unsigned long )(current_type) + __cil_tmp177;
#line 2420
    *((struct floppy_struct **)__cil_tmp178) = _floppy;
#line 2421
    __cil_tmp179 = (int )current_drive;
#line 2421
    __cil_tmp180 = __cil_tmp179 & 4;
#line 2421
    __cil_tmp181 = __cil_tmp180 << 5;
#line 2421
    __cil_tmp182 = (int )current_drive;
#line 2421
    __cil_tmp183 = __cil_tmp182 & 3;
#line 2421
    __cil_tmp184 = __cil_tmp183 | __cil_tmp181;
#line 2421
    __cil_tmp185 = __cil_tmp184 * 8UL;
#line 2421
    __cil_tmp186 = (unsigned long )(floppy_sizes) + __cil_tmp185;
#line 2421
    __cil_tmp187 = *((unsigned int *)_floppy);
#line 2421
    *((sector_t *)__cil_tmp186) = (sector_t )__cil_tmp187;
#line 2422
    probing = 0;
  } else {

  }
  {
#line 2425
  __cil_tmp188 = 0 * 1UL;
#line 2425
  __cil_tmp189 = 54 + __cil_tmp188;
#line 2425
  __cil_tmp190 = (unsigned long )raw_cmd;
#line 2425
  __cil_tmp191 = __cil_tmp190 + __cil_tmp189;
#line 2425
  __cil_tmp192 = *((unsigned char *)__cil_tmp191);
#line 2425
  __cil_tmp193 = (int )__cil_tmp192;
#line 2425
  __cil_tmp194 = __cil_tmp193 | 192;
#line 2425
  if (__cil_tmp194 != 230) {
    {
#line 2428
    __cil_tmp195 = (unsigned long )cont;
#line 2428
    __cil_tmp196 = __cil_tmp195 + 24;
#line 2428
    __cil_tmp197 = *((void (**)(int  ))__cil_tmp196);
#line 2428
    (*__cil_tmp197)(1);
    }
  } else {
    {
#line 2425
    __cil_tmp198 = (unsigned long )current_req;
#line 2425
    __cil_tmp199 = __cil_tmp198 + 104;
#line 2425
    __cil_tmp200 = *((char **)__cil_tmp199);
#line 2425
    __cil_tmp201 = (unsigned long )__cil_tmp200;
#line 2425
    __cil_tmp202 = (unsigned long )raw_cmd;
#line 2425
    __cil_tmp203 = __cil_tmp202 + 16;
#line 2425
    __cil_tmp204 = *((char **)__cil_tmp203);
#line 2425
    __cil_tmp205 = (unsigned long )__cil_tmp204;
#line 2425
    if (__cil_tmp205 == __cil_tmp201) {
      {
#line 2428
      __cil_tmp206 = (unsigned long )cont;
#line 2428
      __cil_tmp207 = __cil_tmp206 + 24;
#line 2428
      __cil_tmp208 = *((void (**)(int  ))__cil_tmp207);
#line 2428
      (*__cil_tmp208)(1);
      }
    } else {
      {
#line 2429
      __cil_tmp209 = 0 * 1UL;
#line 2429
      __cil_tmp210 = 54 + __cil_tmp209;
#line 2429
      __cil_tmp211 = (unsigned long )raw_cmd;
#line 2429
      __cil_tmp212 = __cil_tmp211 + __cil_tmp210;
#line 2429
      __cil_tmp213 = *((unsigned char *)__cil_tmp212);
#line 2429
      __cil_tmp214 = (int )__cil_tmp213;
#line 2429
      __cil_tmp215 = __cil_tmp214 | 192;
#line 2429
      if (__cil_tmp215 == 230) {
#line 2430
        __cil_tmp216 = (unsigned long )raw_cmd;
#line 2430
        __cil_tmp217 = __cil_tmp216 + 88;
#line 2430
        buffer_track = *((int *)__cil_tmp217);
#line 2431
        buffer_drive = (int )current_drive;
#line 2432
        __x___1 = buffer_max;
#line 2432
        __cil_tmp218 = (int )fsector_t;
#line 2432
        __y___1 = nr_sectors + __cil_tmp218;
#line 2432
        if (__x___1 > __y___1) {
#line 2432
          tmp___2 = __x___1;
        } else {
#line 2432
          tmp___2 = __y___1;
        }
#line 2432
        buffer_max = tmp___2;
      } else {

      }
      }
    }
    }
  }
  }
  {
#line 2434
  __cil_tmp219 = (unsigned long )cont;
#line 2434
  __cil_tmp220 = __cil_tmp219 + 8;
#line 2434
  __cil_tmp221 = *((void (**)(void))__cil_tmp220);
#line 2434
  (*__cil_tmp221)();
  }
#line 2435
  return;
}
}
#line 2438 "drivers/block/floppy.c"
static int buffer_chain_size(void) 
{ struct bio *bio ;
  struct bio_vec *bv ;
  int size ;
  int i ;
  char *base ;
  void *tmp ;
  void *tmp___0 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  struct bio *__cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned short __cil_tmp13 ;
  int __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  struct bio *__cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  struct bio_vec *__cil_tmp20 ;
  struct bio_vec *__cil_tmp21 ;
  struct page *__cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  struct bio *__cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned short __cil_tmp28 ;
  int __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  struct bio *__cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  struct bio_vec *__cil_tmp35 ;
  struct bio_vec *__cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  unsigned long __cil_tmp38 ;
  unsigned int __cil_tmp39 ;
  void *__cil_tmp40 ;
  unsigned long __cil_tmp41 ;
  unsigned long __cil_tmp42 ;
  unsigned long __cil_tmp43 ;
  unsigned long __cil_tmp44 ;
  unsigned long __cil_tmp45 ;
  unsigned long __cil_tmp46 ;
  unsigned short __cil_tmp47 ;
  int __cil_tmp48 ;
  unsigned long __cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  struct bio_vec *__cil_tmp51 ;
  unsigned long __cil_tmp52 ;
  unsigned long __cil_tmp53 ;
  unsigned short __cil_tmp54 ;
  unsigned long __cil_tmp55 ;
  unsigned long __cil_tmp56 ;
  unsigned short __cil_tmp57 ;
  int __cil_tmp58 ;
  struct page *__cil_tmp59 ;
  char *__cil_tmp60 ;
  unsigned long __cil_tmp61 ;
  unsigned long __cil_tmp62 ;
  unsigned long __cil_tmp63 ;
  unsigned int __cil_tmp64 ;
  void *__cil_tmp65 ;
  unsigned long __cil_tmp66 ;
  unsigned long __cil_tmp67 ;
  unsigned long __cil_tmp68 ;
  unsigned int __cil_tmp69 ;
  unsigned int __cil_tmp70 ;
  unsigned int __cil_tmp71 ;
  unsigned long __cil_tmp72 ;
  unsigned long __cil_tmp73 ;

  {
  {
#line 2445
  __cil_tmp8 = (unsigned long )current_req;
#line 2445
  __cil_tmp9 = __cil_tmp8 + 72;
#line 2445
  __cil_tmp10 = *((struct bio **)__cil_tmp9);
#line 2445
  __cil_tmp11 = (unsigned long )__cil_tmp10;
#line 2445
  __cil_tmp12 = __cil_tmp11 + 42;
#line 2445
  __cil_tmp13 = *((unsigned short *)__cil_tmp12);
#line 2445
  __cil_tmp14 = (int )__cil_tmp13;
#line 2445
  __cil_tmp15 = (unsigned long )current_req;
#line 2445
  __cil_tmp16 = __cil_tmp15 + 72;
#line 2445
  __cil_tmp17 = *((struct bio **)__cil_tmp16);
#line 2445
  __cil_tmp18 = (unsigned long )__cil_tmp17;
#line 2445
  __cil_tmp19 = __cil_tmp18 + 56;
#line 2445
  __cil_tmp20 = *((struct bio_vec **)__cil_tmp19);
#line 2445
  __cil_tmp21 = __cil_tmp20 + __cil_tmp14;
#line 2445
  __cil_tmp22 = *((struct page **)__cil_tmp21);
#line 2445
  tmp = page_address(__cil_tmp22);
#line 2445
  __cil_tmp23 = (unsigned long )current_req;
#line 2445
  __cil_tmp24 = __cil_tmp23 + 72;
#line 2445
  __cil_tmp25 = *((struct bio **)__cil_tmp24);
#line 2445
  __cil_tmp26 = (unsigned long )__cil_tmp25;
#line 2445
  __cil_tmp27 = __cil_tmp26 + 42;
#line 2445
  __cil_tmp28 = *((unsigned short *)__cil_tmp27);
#line 2445
  __cil_tmp29 = (int )__cil_tmp28;
#line 2445
  __cil_tmp30 = (unsigned long )current_req;
#line 2445
  __cil_tmp31 = __cil_tmp30 + 72;
#line 2445
  __cil_tmp32 = *((struct bio **)__cil_tmp31);
#line 2445
  __cil_tmp33 = (unsigned long )__cil_tmp32;
#line 2445
  __cil_tmp34 = __cil_tmp33 + 56;
#line 2445
  __cil_tmp35 = *((struct bio_vec **)__cil_tmp34);
#line 2445
  __cil_tmp36 = __cil_tmp35 + __cil_tmp29;
#line 2445
  __cil_tmp37 = (unsigned long )__cil_tmp36;
#line 2445
  __cil_tmp38 = __cil_tmp37 + 12;
#line 2445
  __cil_tmp39 = *((unsigned int *)__cil_tmp38);
#line 2445
  __cil_tmp40 = tmp + __cil_tmp39;
#line 2445
  base = (char *)__cil_tmp40;
#line 2446
  size = 0;
  }
  {
#line 2448
  __cil_tmp41 = (unsigned long )current_req;
#line 2448
  __cil_tmp42 = __cil_tmp41 + 72;
#line 2448
  if (*((struct bio **)__cil_tmp42)) {
#line 2448
    __cil_tmp43 = (unsigned long )current_req;
#line 2448
    __cil_tmp44 = __cil_tmp43 + 72;
#line 2448
    bio = *((struct bio **)__cil_tmp44);
    {
#line 2448
    while (1) {
      while_continue: /* CIL Label */ ;
#line 2448
      if (bio) {

      } else {
#line 2448
        goto while_break;
      }
#line 2449
      __cil_tmp45 = (unsigned long )bio;
#line 2449
      __cil_tmp46 = __cil_tmp45 + 42;
#line 2449
      __cil_tmp47 = *((unsigned short *)__cil_tmp46);
#line 2449
      __cil_tmp48 = (int )__cil_tmp47;
#line 2449
      __cil_tmp49 = (unsigned long )bio;
#line 2449
      __cil_tmp50 = __cil_tmp49 + 56;
#line 2449
      __cil_tmp51 = *((struct bio_vec **)__cil_tmp50);
#line 2449
      bv = __cil_tmp51 + __cil_tmp48;
#line 2449
      __cil_tmp52 = (unsigned long )bio;
#line 2449
      __cil_tmp53 = __cil_tmp52 + 42;
#line 2449
      __cil_tmp54 = *((unsigned short *)__cil_tmp53);
#line 2449
      i = (int )__cil_tmp54;
      {
#line 2449
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 2449
        __cil_tmp55 = (unsigned long )bio;
#line 2449
        __cil_tmp56 = __cil_tmp55 + 40;
#line 2449
        __cil_tmp57 = *((unsigned short *)__cil_tmp56);
#line 2449
        __cil_tmp58 = (int )__cil_tmp57;
#line 2449
        if (i < __cil_tmp58) {

        } else {
#line 2449
          goto while_break___0;
        }
        }
        {
#line 2450
        __cil_tmp59 = *((struct page **)bv);
#line 2450
        tmp___0 = page_address(__cil_tmp59);
        }
        {
#line 2450
        __cil_tmp60 = base + size;
#line 2450
        __cil_tmp61 = (unsigned long )__cil_tmp60;
#line 2450
        __cil_tmp62 = (unsigned long )bv;
#line 2450
        __cil_tmp63 = __cil_tmp62 + 12;
#line 2450
        __cil_tmp64 = *((unsigned int *)__cil_tmp63);
#line 2450
        __cil_tmp65 = tmp___0 + __cil_tmp64;
#line 2450
        __cil_tmp66 = (unsigned long )__cil_tmp65;
#line 2450
        if (__cil_tmp66 != __cil_tmp61) {
#line 2452
          goto while_break___0;
        } else {

        }
        }
#line 2454
        __cil_tmp67 = (unsigned long )bv;
#line 2454
        __cil_tmp68 = __cil_tmp67 + 8;
#line 2454
        __cil_tmp69 = *((unsigned int *)__cil_tmp68);
#line 2454
        __cil_tmp70 = (unsigned int )size;
#line 2454
        __cil_tmp71 = __cil_tmp70 + __cil_tmp69;
#line 2454
        size = (int )__cil_tmp71;
#line 2449
        bv = bv + 1;
#line 2449
        i = i + 1;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 2448
      __cil_tmp72 = (unsigned long )bio;
#line 2448
      __cil_tmp73 = __cil_tmp72 + 8;
#line 2448
      bio = *((struct bio **)__cil_tmp73);
    }
    while_break: /* CIL Label */ ;
    }
  } else {

  }
  }
#line 2458
  return (size >> 9);
}
}
#line 2462 "drivers/block/floppy.c"
static int transfer_size(int ssize , int max_sector , int max_size ) 
{ int __x ;
  int __y ;
  int tmp ;
  int __cil_tmp7 ;
  unsigned int __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  unsigned int __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  unsigned int __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;

  {
#line 2464
  __x = max_sector;
#line 2464
  __cil_tmp7 = (int )fsector_t;
#line 2464
  __y = __cil_tmp7 + max_size;
#line 2464
  if (__x < __y) {
#line 2464
    tmp = __x;
  } else {
#line 2464
    tmp = __y;
  }
#line 2464
  max_sector = tmp;
#line 2467
  __cil_tmp8 = (unsigned int )ssize;
#line 2467
  __cil_tmp9 = (unsigned long )_floppy;
#line 2467
  __cil_tmp10 = __cil_tmp9 + 4;
#line 2467
  __cil_tmp11 = *((unsigned int *)__cil_tmp10);
#line 2467
  __cil_tmp12 = (unsigned int )max_sector;
#line 2467
  __cil_tmp13 = __cil_tmp12 % __cil_tmp11;
#line 2467
  __cil_tmp14 = __cil_tmp13 % __cil_tmp8;
#line 2467
  __cil_tmp15 = (unsigned int )max_sector;
#line 2467
  __cil_tmp16 = __cil_tmp15 - __cil_tmp14;
#line 2467
  max_sector = (int )__cil_tmp16;
#line 2470
  __cil_tmp17 = (int )fsector_t;
#line 2470
  __cil_tmp18 = max_sector - __cil_tmp17;
#line 2470
  current_count_sectors = (long )__cil_tmp18;
#line 2472
  return (max_sector);
}
}
#line 2478 "drivers/block/floppy.c"
static void copy_buffer(int ssize , int max_sector , int max_sector_2 ) 
{ int remaining ;
  struct bio_vec *bv ;
  struct bio *bio ;
  char *buffer ;
  char *dma_buffer ;
  int size ;
  int i ;
  int _x ;
  int _y ;
  int tmp ;
  int __x ;
  int __y ;
  int tmp___0 ;
  int _x___0 ;
  int _y___0 ;
  int tmp___1 ;
  int __x___0 ;
  int __y___0 ;
  int tmp___2 ;
  void *tmp___3 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  int __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  unsigned char __cil_tmp32 ;
  int __cil_tmp33 ;
  int __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned long __cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  unsigned long __cil_tmp38 ;
  unsigned long __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  int __cil_tmp41 ;
  unsigned long __cil_tmp42 ;
  unsigned long __cil_tmp43 ;
  unsigned long __cil_tmp44 ;
  long __cil_tmp45 ;
  unsigned long __cil_tmp46 ;
  unsigned long __cil_tmp47 ;
  unsigned long __cil_tmp48 ;
  int __cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  unsigned long __cil_tmp51 ;
  unsigned long __cil_tmp52 ;
  unsigned long __cil_tmp53 ;
  unsigned long __cil_tmp54 ;
  unsigned char __cil_tmp55 ;
  int __cil_tmp56 ;
  int __cil_tmp57 ;
  int __cil_tmp58 ;
  int __cil_tmp59 ;
  unsigned long __cil_tmp60 ;
  unsigned long __cil_tmp61 ;
  unsigned long __cil_tmp62 ;
  unsigned long __cil_tmp63 ;
  unsigned long __cil_tmp64 ;
  unsigned int __cil_tmp65 ;
  int __cil_tmp66 ;
  int __cil_tmp67 ;
  int __cil_tmp68 ;
  unsigned long __cil_tmp69 ;
  unsigned long __cil_tmp70 ;
  unsigned int __cil_tmp71 ;
  unsigned int __cil_tmp72 ;
  unsigned long __cil_tmp73 ;
  unsigned long __cil_tmp74 ;
  unsigned long __cil_tmp75 ;
  unsigned long __cil_tmp76 ;
  unsigned long __cil_tmp77 ;
  unsigned long __cil_tmp78 ;
  unsigned short __cil_tmp79 ;
  int __cil_tmp80 ;
  unsigned long __cil_tmp81 ;
  unsigned long __cil_tmp82 ;
  struct bio_vec *__cil_tmp83 ;
  unsigned long __cil_tmp84 ;
  unsigned long __cil_tmp85 ;
  unsigned short __cil_tmp86 ;
  unsigned long __cil_tmp87 ;
  unsigned long __cil_tmp88 ;
  unsigned short __cil_tmp89 ;
  int __cil_tmp90 ;
  unsigned long __cil_tmp91 ;
  unsigned long __cil_tmp92 ;
  unsigned int __cil_tmp93 ;
  struct page *__cil_tmp94 ;
  unsigned long __cil_tmp95 ;
  unsigned long __cil_tmp96 ;
  unsigned int __cil_tmp97 ;
  void *__cil_tmp98 ;
  int __cil_tmp99 ;
  char *__cil_tmp100 ;
  unsigned long __cil_tmp101 ;
  char *__cil_tmp102 ;
  unsigned long __cil_tmp103 ;
  unsigned long __cil_tmp104 ;
  unsigned long __cil_tmp105 ;
  int __cil_tmp106 ;
  int __cil_tmp107 ;
  int __cil_tmp108 ;
  int __cil_tmp109 ;
  unsigned long __cil_tmp110 ;
  unsigned long __cil_tmp111 ;
  unsigned long __cil_tmp112 ;
  unsigned long __cil_tmp113 ;
  unsigned char __cil_tmp114 ;
  int __cil_tmp115 ;
  int __cil_tmp116 ;
  unsigned long __cil_tmp117 ;
  unsigned long __cil_tmp118 ;
  unsigned long __cil_tmp119 ;
  unsigned long __cil_tmp120 ;
  unsigned char __cil_tmp121 ;
  int __cil_tmp122 ;
  int __cil_tmp123 ;
  unsigned long __cil_tmp124 ;
  int __cil_tmp125 ;
  unsigned long __cil_tmp126 ;
  unsigned long __cil_tmp127 ;
  unsigned long __cil_tmp128 ;
  unsigned long __cil_tmp129 ;
  unsigned char __cil_tmp130 ;
  int __cil_tmp131 ;
  int __cil_tmp132 ;
  void *__cil_tmp133 ;
  void const   *__cil_tmp134 ;
  __kernel_size_t __cil_tmp135 ;
  void *__cil_tmp136 ;
  void const   *__cil_tmp137 ;
  __kernel_size_t __cil_tmp138 ;
  unsigned long __cil_tmp139 ;
  unsigned long __cil_tmp140 ;
  int __cil_tmp141 ;
  int __cil_tmp142 ;
  int __cil_tmp143 ;

  {
#line 2487
  _x = max_sector;
#line 2487
  _y = max_sector_2;
#line 2487
  if (_x < _y) {
#line 2487
    tmp = _x;
  } else {
#line 2487
    tmp = _y;
  }
  {
#line 2487
  __cil_tmp24 = (unsigned long )current_req;
#line 2487
  __cil_tmp25 = __cil_tmp24 + 56;
#line 2487
  __cil_tmp26 = *((unsigned long *)__cil_tmp25);
#line 2487
  __cil_tmp27 = (int )__cil_tmp26;
#line 2487
  max_sector = transfer_size(ssize, tmp, __cil_tmp27);
  }
#line 2490
  if (current_count_sectors <= 0L) {
    {
#line 2490
    __cil_tmp28 = 0 * 1UL;
#line 2490
    __cil_tmp29 = 54 + __cil_tmp28;
#line 2490
    __cil_tmp30 = (unsigned long )raw_cmd;
#line 2490
    __cil_tmp31 = __cil_tmp30 + __cil_tmp29;
#line 2490
    __cil_tmp32 = *((unsigned char *)__cil_tmp31);
#line 2490
    __cil_tmp33 = (int )__cil_tmp32;
#line 2490
    __cil_tmp34 = __cil_tmp33 | 192;
#line 2490
    if (__cil_tmp34 == 197) {
      {
#line 2490
      __cil_tmp35 = (unsigned long )current_req;
#line 2490
      __cil_tmp36 = __cil_tmp35 + 56;
#line 2490
      __cil_tmp37 = *((unsigned long *)__cil_tmp36);
#line 2490
      __cil_tmp38 = (unsigned long )fsector_t;
#line 2490
      __cil_tmp39 = __cil_tmp38 + __cil_tmp37;
#line 2490
      __cil_tmp40 = (unsigned long )buffer_max;
#line 2490
      if (__cil_tmp40 > __cil_tmp39) {
#line 2492
        __cil_tmp41 = (int )fsector_t;
#line 2492
        __x = buffer_max - __cil_tmp41;
#line 2492
        __cil_tmp42 = (unsigned long )current_req;
#line 2492
        __cil_tmp43 = __cil_tmp42 + 56;
#line 2492
        __cil_tmp44 = *((unsigned long *)__cil_tmp43);
#line 2492
        __y = (int )__cil_tmp44;
#line 2492
        if (__x < __y) {
#line 2492
          tmp___0 = __x;
        } else {
#line 2492
          tmp___0 = __y;
        }
#line 2492
        current_count_sectors = (long )tmp___0;
      } else {

      }
      }
    } else {

    }
    }
  } else {

  }
#line 2495
  __cil_tmp45 = current_count_sectors << 9;
#line 2495
  remaining = (int )__cil_tmp45;
  {
#line 2497
  __cil_tmp46 = (unsigned long )current_req;
#line 2497
  __cil_tmp47 = __cil_tmp46 + 56;
#line 2497
  __cil_tmp48 = *((unsigned long *)__cil_tmp47);
#line 2497
  __cil_tmp49 = remaining >> 9;
#line 2497
  __cil_tmp50 = (unsigned long )__cil_tmp49;
#line 2497
  if (__cil_tmp50 > __cil_tmp48) {
    {
#line 2497
    __cil_tmp51 = 0 * 1UL;
#line 2497
    __cil_tmp52 = 54 + __cil_tmp51;
#line 2497
    __cil_tmp53 = (unsigned long )raw_cmd;
#line 2497
    __cil_tmp54 = __cil_tmp53 + __cil_tmp52;
#line 2497
    __cil_tmp55 = *((unsigned char *)__cil_tmp54);
#line 2497
    __cil_tmp56 = (int )__cil_tmp55;
#line 2497
    __cil_tmp57 = __cil_tmp56 | 192;
#line 2497
    if (__cil_tmp57 == 197) {
      {
#line 2499
      __cil_tmp58 = (int )current_drive;
#line 2499
      printk("floppy%d: in copy buffer\n", __cil_tmp58);
#line 2500
      printk("current_count_sectors=%ld\n", current_count_sectors);
#line 2501
      __cil_tmp59 = remaining >> 9;
#line 2501
      printk("remaining=%d\n", __cil_tmp59);
#line 2502
      __cil_tmp60 = (unsigned long )current_req;
#line 2502
      __cil_tmp61 = __cil_tmp60 + 56;
#line 2502
      __cil_tmp62 = *((unsigned long *)__cil_tmp61);
#line 2502
      printk("current_req->nr_sectors=%ld\n", __cil_tmp62);
#line 2504
      __cil_tmp63 = (unsigned long )current_req;
#line 2504
      __cil_tmp64 = __cil_tmp63 + 64;
#line 2504
      __cil_tmp65 = *((unsigned int *)__cil_tmp64);
#line 2504
      printk("current_req->current_nr_sectors=%u\n", __cil_tmp65);
#line 2506
      printk("max_sector=%d\n", max_sector);
#line 2507
      printk("ssize=%d\n", ssize);
      }
    } else {

    }
    }
  } else {

  }
  }
#line 2511
  _x___0 = max_sector;
#line 2511
  _y___0 = buffer_max;
#line 2511
  if (_x___0 > _y___0) {
#line 2511
    tmp___1 = _x___0;
  } else {
#line 2511
    tmp___1 = _y___0;
  }
#line 2511
  buffer_max = tmp___1;
#line 2513
  __cil_tmp66 = (int )fsector_t;
#line 2513
  __cil_tmp67 = __cil_tmp66 - buffer_min;
#line 2513
  __cil_tmp68 = __cil_tmp67 << 9;
#line 2513
  dma_buffer = floppy_track_buffer + __cil_tmp68;
#line 2515
  __cil_tmp69 = (unsigned long )current_req;
#line 2515
  __cil_tmp70 = __cil_tmp69 + 64;
#line 2515
  __cil_tmp71 = *((unsigned int *)__cil_tmp70);
#line 2515
  __cil_tmp72 = __cil_tmp71 << 9;
#line 2515
  size = (int )__cil_tmp72;
  {
#line 2517
  __cil_tmp73 = (unsigned long )current_req;
#line 2517
  __cil_tmp74 = __cil_tmp73 + 72;
#line 2517
  if (*((struct bio **)__cil_tmp74)) {
#line 2517
    __cil_tmp75 = (unsigned long )current_req;
#line 2517
    __cil_tmp76 = __cil_tmp75 + 72;
#line 2517
    bio = *((struct bio **)__cil_tmp76);
    {
#line 2517
    while (1) {
      while_continue: /* CIL Label */ ;
#line 2517
      if (bio) {

      } else {
#line 2517
        goto while_break;
      }
#line 2518
      __cil_tmp77 = (unsigned long )bio;
#line 2518
      __cil_tmp78 = __cil_tmp77 + 42;
#line 2518
      __cil_tmp79 = *((unsigned short *)__cil_tmp78);
#line 2518
      __cil_tmp80 = (int )__cil_tmp79;
#line 2518
      __cil_tmp81 = (unsigned long )bio;
#line 2518
      __cil_tmp82 = __cil_tmp81 + 56;
#line 2518
      __cil_tmp83 = *((struct bio_vec **)__cil_tmp82);
#line 2518
      bv = __cil_tmp83 + __cil_tmp80;
#line 2518
      __cil_tmp84 = (unsigned long )bio;
#line 2518
      __cil_tmp85 = __cil_tmp84 + 42;
#line 2518
      __cil_tmp86 = *((unsigned short *)__cil_tmp85);
#line 2518
      i = (int )__cil_tmp86;
      {
#line 2518
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 2518
        __cil_tmp87 = (unsigned long )bio;
#line 2518
        __cil_tmp88 = __cil_tmp87 + 40;
#line 2518
        __cil_tmp89 = *((unsigned short *)__cil_tmp88);
#line 2518
        __cil_tmp90 = (int )__cil_tmp89;
#line 2518
        if (i < __cil_tmp90) {

        } else {
#line 2518
          goto while_break___0;
        }
        }
#line 2519
        if (! remaining) {
#line 2520
          goto while_break___0;
        } else {

        }
#line 2522
        __cil_tmp91 = (unsigned long )bv;
#line 2522
        __cil_tmp92 = __cil_tmp91 + 8;
#line 2522
        __cil_tmp93 = *((unsigned int *)__cil_tmp92);
#line 2522
        size = (int )__cil_tmp93;
#line 2523
        __x___0 = size;
#line 2523
        __y___0 = remaining;
#line 2523
        if (__x___0 < __y___0) {
#line 2523
          tmp___2 = __x___0;
        } else {
#line 2523
          tmp___2 = __y___0;
        }
        {
#line 2523
        size = tmp___2;
#line 2525
        __cil_tmp94 = *((struct page **)bv);
#line 2525
        tmp___3 = page_address(__cil_tmp94);
#line 2525
        __cil_tmp95 = (unsigned long )bv;
#line 2525
        __cil_tmp96 = __cil_tmp95 + 12;
#line 2525
        __cil_tmp97 = *((unsigned int *)__cil_tmp96);
#line 2525
        __cil_tmp98 = tmp___3 + __cil_tmp97;
#line 2525
        buffer = (char *)__cil_tmp98;
        }
        {
#line 2527
        __cil_tmp99 = max_buffer_sectors << 10;
#line 2527
        __cil_tmp100 = floppy_track_buffer + __cil_tmp99;
#line 2527
        __cil_tmp101 = (unsigned long )__cil_tmp100;
#line 2527
        __cil_tmp102 = dma_buffer + size;
#line 2527
        __cil_tmp103 = (unsigned long )__cil_tmp102;
#line 2527
        if (__cil_tmp103 > __cil_tmp101) {
#line 2527
          goto _L;
        } else {
          {
#line 2527
          __cil_tmp104 = (unsigned long )floppy_track_buffer;
#line 2527
          __cil_tmp105 = (unsigned long )dma_buffer;
#line 2527
          if (__cil_tmp105 < __cil_tmp104) {
            _L: 
            {
#line 2530
            __cil_tmp106 = (int )current_drive;
#line 2530
            __cil_tmp107 = floppy_track_buffer - dma_buffer;
#line 2530
            __cil_tmp108 = __cil_tmp107 >> 9;
#line 2530
            printk("floppy%d: buffer overrun in copy buffer %d\n", __cil_tmp106, __cil_tmp108);
#line 2533
            __cil_tmp109 = (int )fsector_t;
#line 2533
            printk("fsector_t=%d buffer_min=%d\n", __cil_tmp109, buffer_min);
#line 2535
            printk("current_count_sectors=%ld\n", current_count_sectors);
            }
            {
#line 2537
            __cil_tmp110 = 0 * 1UL;
#line 2537
            __cil_tmp111 = 54 + __cil_tmp110;
#line 2537
            __cil_tmp112 = (unsigned long )raw_cmd;
#line 2537
            __cil_tmp113 = __cil_tmp112 + __cil_tmp111;
#line 2537
            __cil_tmp114 = *((unsigned char *)__cil_tmp113);
#line 2537
            __cil_tmp115 = (int )__cil_tmp114;
#line 2537
            __cil_tmp116 = __cil_tmp115 | 192;
#line 2537
            if (__cil_tmp116 == 230) {
              {
#line 2538
              printk("read\n");
              }
            } else {

            }
            }
            {
#line 2539
            __cil_tmp117 = 0 * 1UL;
#line 2539
            __cil_tmp118 = 54 + __cil_tmp117;
#line 2539
            __cil_tmp119 = (unsigned long )raw_cmd;
#line 2539
            __cil_tmp120 = __cil_tmp119 + __cil_tmp118;
#line 2539
            __cil_tmp121 = *((unsigned char *)__cil_tmp120);
#line 2539
            __cil_tmp122 = (int )__cil_tmp121;
#line 2539
            __cil_tmp123 = __cil_tmp122 | 192;
#line 2539
            if (__cil_tmp123 == 197) {
              {
#line 2540
              printk("write\n");
              }
            } else {

            }
            }
#line 2541
            goto while_break___0;
          } else {

          }
          }
        }
        }
        {
#line 2543
        __cil_tmp124 = (unsigned long )buffer;
#line 2543
        if (__cil_tmp124 % 512UL) {
          {
#line 2544
          __cil_tmp125 = (int )current_drive;
#line 2544
          printk("floppy%d: %p buffer not aligned\n", __cil_tmp125, buffer);
          }
        } else {

        }
        }
        {
#line 2546
        __cil_tmp126 = 0 * 1UL;
#line 2546
        __cil_tmp127 = 54 + __cil_tmp126;
#line 2546
        __cil_tmp128 = (unsigned long )raw_cmd;
#line 2546
        __cil_tmp129 = __cil_tmp128 + __cil_tmp127;
#line 2546
        __cil_tmp130 = *((unsigned char *)__cil_tmp129);
#line 2546
        __cil_tmp131 = (int )__cil_tmp130;
#line 2546
        __cil_tmp132 = __cil_tmp131 | 192;
#line 2546
        if (__cil_tmp132 == 230) {
          {
#line 2547
          __cil_tmp133 = (void *)buffer;
#line 2547
          __cil_tmp134 = (void const   *)dma_buffer;
#line 2547
          __cil_tmp135 = (__kernel_size_t )size;
#line 2547
          memcpy(__cil_tmp133, __cil_tmp134, __cil_tmp135);
          }
        } else {
          {
#line 2549
          __cil_tmp136 = (void *)dma_buffer;
#line 2549
          __cil_tmp137 = (void const   *)buffer;
#line 2549
          __cil_tmp138 = (__kernel_size_t )size;
#line 2549
          memcpy(__cil_tmp136, __cil_tmp137, __cil_tmp138);
          }
        }
        }
#line 2551
        remaining = remaining - size;
#line 2552
        dma_buffer = dma_buffer + size;
#line 2518
        bv = bv + 1;
#line 2518
        i = i + 1;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 2517
      __cil_tmp139 = (unsigned long )bio;
#line 2517
      __cil_tmp140 = __cil_tmp139 + 8;
#line 2517
      bio = *((struct bio **)__cil_tmp140);
    }
    while_break: /* CIL Label */ ;
    }
  } else {

  }
  }
#line 2556
  if (remaining) {
#line 2557
    if (remaining > 0) {
#line 2558
      __cil_tmp141 = remaining >> 9;
#line 2558
      max_sector = max_sector - __cil_tmp141;
    } else {

    }
    {
#line 2559
    __cil_tmp142 = (int )current_drive;
#line 2559
    __cil_tmp143 = remaining >> 9;
#line 2559
    printk("floppy%d: weirdness: remaining %d\n", __cil_tmp142, __cil_tmp143);
    }
  } else {

  }
#line 2562
  return;
}
}
#line 2584 "drivers/block/floppy.c"
static void virtualdmabug_workaround(void) 
{ int hard_sectors ;
  int end_sector ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned char __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned char __cil_tmp18 ;
  int __cil_tmp19 ;
  int __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned char __cil_tmp25 ;
  int __cil_tmp26 ;
  int __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  long __cil_tmp30 ;
  long __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned char __cil_tmp36 ;
  int __cil_tmp37 ;
  int __cil_tmp38 ;
  unsigned long __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  unsigned long __cil_tmp41 ;
  unsigned long __cil_tmp42 ;
  unsigned char __cil_tmp43 ;
  int __cil_tmp44 ;
  unsigned long __cil_tmp45 ;
  unsigned long __cil_tmp46 ;
  unsigned long __cil_tmp47 ;
  unsigned long __cil_tmp48 ;
  unsigned char __cil_tmp49 ;
  int __cil_tmp50 ;
  unsigned long __cil_tmp51 ;
  unsigned long __cil_tmp52 ;
  unsigned long __cil_tmp53 ;
  unsigned long __cil_tmp54 ;

  {
  {
#line 2588
  __cil_tmp3 = 0 * 1UL;
#line 2588
  __cil_tmp4 = 54 + __cil_tmp3;
#line 2588
  __cil_tmp5 = (unsigned long )raw_cmd;
#line 2588
  __cil_tmp6 = __cil_tmp5 + __cil_tmp4;
#line 2588
  __cil_tmp7 = *((unsigned char *)__cil_tmp6);
#line 2588
  __cil_tmp8 = (int )__cil_tmp7;
#line 2588
  __cil_tmp9 = __cil_tmp8 | 192;
#line 2588
  if (__cil_tmp9 == 197) {
#line 2589
    __cil_tmp10 = 0 * 1UL;
#line 2589
    __cil_tmp11 = 54 + __cil_tmp10;
#line 2589
    __cil_tmp12 = (unsigned long )raw_cmd;
#line 2589
    __cil_tmp13 = __cil_tmp12 + __cil_tmp11;
#line 2589
    __cil_tmp14 = 0 * 1UL;
#line 2589
    __cil_tmp15 = 54 + __cil_tmp14;
#line 2589
    __cil_tmp16 = (unsigned long )raw_cmd;
#line 2589
    __cil_tmp17 = __cil_tmp16 + __cil_tmp15;
#line 2589
    __cil_tmp18 = *((unsigned char *)__cil_tmp17);
#line 2589
    __cil_tmp19 = (int )__cil_tmp18;
#line 2589
    __cil_tmp20 = __cil_tmp19 & -129;
#line 2589
    *((unsigned char *)__cil_tmp13) = (unsigned char )__cil_tmp20;
#line 2591
    __cil_tmp21 = 5 * 1UL;
#line 2591
    __cil_tmp22 = 54 + __cil_tmp21;
#line 2591
    __cil_tmp23 = (unsigned long )raw_cmd;
#line 2591
    __cil_tmp24 = __cil_tmp23 + __cil_tmp22;
#line 2591
    __cil_tmp25 = *((unsigned char *)__cil_tmp24);
#line 2591
    __cil_tmp26 = (int )__cil_tmp25;
#line 2591
    __cil_tmp27 = 7 + __cil_tmp26;
#line 2591
    __cil_tmp28 = (unsigned long )raw_cmd;
#line 2591
    __cil_tmp29 = __cil_tmp28 + 32;
#line 2591
    __cil_tmp30 = *((long *)__cil_tmp29);
#line 2591
    __cil_tmp31 = __cil_tmp30 >> __cil_tmp27;
#line 2591
    hard_sectors = (int )__cil_tmp31;
#line 2592
    __cil_tmp32 = 4 * 1UL;
#line 2592
    __cil_tmp33 = 54 + __cil_tmp32;
#line 2592
    __cil_tmp34 = (unsigned long )raw_cmd;
#line 2592
    __cil_tmp35 = __cil_tmp34 + __cil_tmp33;
#line 2592
    __cil_tmp36 = *((unsigned char *)__cil_tmp35);
#line 2592
    __cil_tmp37 = (int )__cil_tmp36;
#line 2592
    __cil_tmp38 = __cil_tmp37 + hard_sectors;
#line 2592
    end_sector = __cil_tmp38 - 1;
    {
#line 2594
    __cil_tmp39 = 6 * 1UL;
#line 2594
    __cil_tmp40 = 54 + __cil_tmp39;
#line 2594
    __cil_tmp41 = (unsigned long )raw_cmd;
#line 2594
    __cil_tmp42 = __cil_tmp41 + __cil_tmp40;
#line 2594
    __cil_tmp43 = *((unsigned char *)__cil_tmp42);
#line 2594
    __cil_tmp44 = (int )__cil_tmp43;
#line 2594
    if (end_sector > __cil_tmp44) {
      {
#line 2595
      __cil_tmp45 = 6 * 1UL;
#line 2595
      __cil_tmp46 = 54 + __cil_tmp45;
#line 2595
      __cil_tmp47 = (unsigned long )raw_cmd;
#line 2595
      __cil_tmp48 = __cil_tmp47 + __cil_tmp46;
#line 2595
      __cil_tmp49 = *((unsigned char *)__cil_tmp48);
#line 2595
      __cil_tmp50 = (int )__cil_tmp49;
#line 2595
      printk("too many sectors %d > %d\n", end_sector, __cil_tmp50);
      }
#line 2597
      return;
    } else {

    }
    }
#line 2600
    __cil_tmp51 = 6 * 1UL;
#line 2600
    __cil_tmp52 = 54 + __cil_tmp51;
#line 2600
    __cil_tmp53 = (unsigned long )raw_cmd;
#line 2600
    __cil_tmp54 = __cil_tmp53 + __cil_tmp52;
#line 2600
    *((unsigned char *)__cil_tmp54) = (unsigned char )end_sector;
  } else {

  }
  }
#line 2603
  return;
}
}
#line 2756
extern int CROSS_64KB() ;
#line 2615 "drivers/block/floppy.c"
static int make_raw_rw_request(void) 
{ int aligned_sector_t ;
  int max_sector ;
  int max_size ;
  int tracksize ;
  int ssize ;
  int tmp ;
  int __x ;
  int __y ;
  int tmp___0 ;
  int tmp___1 ;
  unsigned long dma_limit ;
  int direct ;
  int indirect ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  struct gendisk *__cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  void *__cil_tmp22 ;
  long __cil_tmp23 ;
  int __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned int __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned long __cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  unsigned char __cil_tmp38 ;
  int __cil_tmp39 ;
  int __cil_tmp40 ;
  int __cil_tmp41 ;
  int __cil_tmp42 ;
  int __cil_tmp43 ;
  unsigned long __cil_tmp44 ;
  unsigned long __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  unsigned int __cil_tmp47 ;
  unsigned int __cil_tmp48 ;
  unsigned long __cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  unsigned long __cil_tmp51 ;
  unsigned long __cil_tmp52 ;
  unsigned long __cil_tmp53 ;
  unsigned long __cil_tmp54 ;
  unsigned char __cil_tmp55 ;
  int __cil_tmp56 ;
  int __cil_tmp57 ;
  int __cil_tmp58 ;
  int __cil_tmp59 ;
  int __cil_tmp60 ;
  int __cil_tmp61 ;
  unsigned long __cil_tmp62 ;
  unsigned long __cil_tmp63 ;
  unsigned int __cil_tmp64 ;
  unsigned long __cil_tmp65 ;
  unsigned long __cil_tmp66 ;
  unsigned int __cil_tmp67 ;
  unsigned int __cil_tmp68 ;
  unsigned long __cil_tmp69 ;
  unsigned long __cil_tmp70 ;
  unsigned long __cil_tmp71 ;
  unsigned long __cil_tmp72 ;
  unsigned long __cil_tmp73 ;
  unsigned long __cil_tmp74 ;
  sector_t __cil_tmp75 ;
  int __cil_tmp76 ;
  int __cil_tmp77 ;
  unsigned long __cil_tmp78 ;
  unsigned long __cil_tmp79 ;
  sector_t __cil_tmp80 ;
  int __cil_tmp81 ;
  int __cil_tmp82 ;
  unsigned long __cil_tmp83 ;
  unsigned long __cil_tmp84 ;
  unsigned long __cil_tmp85 ;
  unsigned long __cil_tmp86 ;
  unsigned int __cil_tmp87 ;
  unsigned long __cil_tmp88 ;
  unsigned long __cil_tmp89 ;
  unsigned long __cil_tmp90 ;
  unsigned long __cil_tmp91 ;
  unsigned char __cil_tmp92 ;
  unsigned int __cil_tmp93 ;
  unsigned long __cil_tmp94 ;
  unsigned long __cil_tmp95 ;
  unsigned int __cil_tmp96 ;
  unsigned long __cil_tmp97 ;
  unsigned long __cil_tmp98 ;
  unsigned long __cil_tmp99 ;
  unsigned long __cil_tmp100 ;
  unsigned long __cil_tmp101 ;
  unsigned long __cil_tmp102 ;
  unsigned int __cil_tmp103 ;
  unsigned int __cil_tmp104 ;
  unsigned int __cil_tmp105 ;
  unsigned long __cil_tmp106 ;
  unsigned long __cil_tmp107 ;
  unsigned int __cil_tmp108 ;
  unsigned long __cil_tmp109 ;
  unsigned long __cil_tmp110 ;
  unsigned long *__cil_tmp111 ;
  void const   *__cil_tmp112 ;
  unsigned long __cil_tmp113 ;
  unsigned long __cil_tmp114 ;
  unsigned int __cil_tmp115 ;
  unsigned int __cil_tmp116 ;
  unsigned long __cil_tmp117 ;
  unsigned long __cil_tmp118 ;
  unsigned int __cil_tmp119 ;
  unsigned long __cil_tmp120 ;
  unsigned long __cil_tmp121 ;
  unsigned char __cil_tmp122 ;
  int __cil_tmp123 ;
  unsigned long __cil_tmp124 ;
  unsigned long __cil_tmp125 ;
  unsigned long __cil_tmp126 ;
  unsigned long __cil_tmp127 ;
  unsigned char __cil_tmp128 ;
  unsigned long __cil_tmp129 ;
  unsigned long __cil_tmp130 ;
  unsigned long __cil_tmp131 ;
  unsigned long __cil_tmp132 ;
  unsigned char __cil_tmp133 ;
  unsigned long __cil_tmp134 ;
  unsigned long __cil_tmp135 ;
  unsigned int __cil_tmp136 ;
  unsigned int __cil_tmp137 ;
  unsigned int __cil_tmp138 ;
  int __cil_tmp139 ;
  unsigned int __cil_tmp140 ;
  unsigned long __cil_tmp141 ;
  unsigned long __cil_tmp142 ;
  unsigned int __cil_tmp143 ;
  unsigned int __cil_tmp144 ;
  unsigned long __cil_tmp145 ;
  unsigned long __cil_tmp146 ;
  unsigned long __cil_tmp147 ;
  unsigned long __cil_tmp148 ;
  unsigned long __cil_tmp149 ;
  unsigned long __cil_tmp150 ;
  unsigned long __cil_tmp151 ;
  unsigned long __cil_tmp152 ;
  unsigned long __cil_tmp153 ;
  unsigned long __cil_tmp154 ;
  unsigned long __cil_tmp155 ;
  unsigned long __cil_tmp156 ;
  unsigned long __cil_tmp157 ;
  unsigned char __cil_tmp158 ;
  int __cil_tmp159 ;
  int __cil_tmp160 ;
  int __cil_tmp161 ;
  int __cil_tmp162 ;
  int __cil_tmp163 ;
  unsigned long __cil_tmp164 ;
  unsigned long __cil_tmp165 ;
  unsigned long __cil_tmp166 ;
  unsigned long __cil_tmp167 ;
  unsigned long __cil_tmp168 ;
  unsigned long __cil_tmp169 ;
  unsigned char __cil_tmp170 ;
  int __cil_tmp171 ;
  int __cil_tmp172 ;
  int __cil_tmp173 ;
  int __cil_tmp174 ;
  int __cil_tmp175 ;
  unsigned long __cil_tmp176 ;
  unsigned long __cil_tmp177 ;
  unsigned long __cil_tmp178 ;
  unsigned long __cil_tmp179 ;
  unsigned long __cil_tmp180 ;
  unsigned long __cil_tmp181 ;
  unsigned char __cil_tmp182 ;
  int __cil_tmp183 ;
  int __cil_tmp184 ;
  int __cil_tmp185 ;
  int __cil_tmp186 ;
  int __cil_tmp187 ;
  unsigned long __cil_tmp188 ;
  unsigned long __cil_tmp189 ;
  unsigned long __cil_tmp190 ;
  unsigned long __cil_tmp191 ;
  unsigned char __cil_tmp192 ;
  int __cil_tmp193 ;
  int __cil_tmp194 ;
  unsigned long __cil_tmp195 ;
  unsigned long __cil_tmp196 ;
  unsigned char __cil_tmp197 ;
  int __cil_tmp198 ;
  unsigned long __cil_tmp199 ;
  unsigned long __cil_tmp200 ;
  unsigned long __cil_tmp201 ;
  unsigned long __cil_tmp202 ;
  unsigned long __cil_tmp203 ;
  unsigned long __cil_tmp204 ;
  unsigned long __cil_tmp205 ;
  unsigned long __cil_tmp206 ;
  unsigned long __cil_tmp207 ;
  unsigned long __cil_tmp208 ;
  unsigned char __cil_tmp209 ;
  int __cil_tmp210 ;
  unsigned long __cil_tmp211 ;
  unsigned long __cil_tmp212 ;
  unsigned long __cil_tmp213 ;
  unsigned long __cil_tmp214 ;
  unsigned long __cil_tmp215 ;
  unsigned long __cil_tmp216 ;
  unsigned long __cil_tmp217 ;
  unsigned long __cil_tmp218 ;
  unsigned long __cil_tmp219 ;
  unsigned long __cil_tmp220 ;
  unsigned long __cil_tmp221 ;
  unsigned long __cil_tmp222 ;
  unsigned long __cil_tmp223 ;
  unsigned long __cil_tmp224 ;
  unsigned long __cil_tmp225 ;
  unsigned long __cil_tmp226 ;
  unsigned long __cil_tmp227 ;
  unsigned long __cil_tmp228 ;
  unsigned int __cil_tmp229 ;
  unsigned int __cil_tmp230 ;
  unsigned long __cil_tmp231 ;
  unsigned long __cil_tmp232 ;
  unsigned long __cil_tmp233 ;
  unsigned long __cil_tmp234 ;
  unsigned char __cil_tmp235 ;
  int __cil_tmp236 ;
  unsigned long __cil_tmp237 ;
  unsigned long __cil_tmp238 ;
  unsigned long __cil_tmp239 ;
  unsigned long __cil_tmp240 ;
  unsigned long __cil_tmp241 ;
  unsigned long __cil_tmp242 ;
  unsigned long __cil_tmp243 ;
  unsigned long __cil_tmp244 ;
  unsigned char __cil_tmp245 ;
  unsigned int __cil_tmp246 ;
  unsigned long __cil_tmp247 ;
  unsigned long __cil_tmp248 ;
  unsigned int __cil_tmp249 ;
  unsigned int __cil_tmp250 ;
  unsigned int __cil_tmp251 ;
  unsigned int __cil_tmp252 ;
  unsigned int __cil_tmp253 ;
  int __cil_tmp254 ;
  int __cil_tmp255 ;
  unsigned int __cil_tmp256 ;
  unsigned int __cil_tmp257 ;
  unsigned long __cil_tmp258 ;
  unsigned long __cil_tmp259 ;
  unsigned long __cil_tmp260 ;
  unsigned long __cil_tmp261 ;
  unsigned long __cil_tmp262 ;
  unsigned long __cil_tmp263 ;
  unsigned long __cil_tmp264 ;
  unsigned long __cil_tmp265 ;
  unsigned long __cil_tmp266 ;
  unsigned long __cil_tmp267 ;
  unsigned char __cil_tmp268 ;
  int __cil_tmp269 ;
  int __cil_tmp270 ;
  int __cil_tmp271 ;
  unsigned long __cil_tmp272 ;
  unsigned long __cil_tmp273 ;
  unsigned long __cil_tmp274 ;
  unsigned long __cil_tmp275 ;
  unsigned long __cil_tmp276 ;
  unsigned long __cil_tmp277 ;
  unsigned long __cil_tmp278 ;
  unsigned long __cil_tmp279 ;
  unsigned char __cil_tmp280 ;
  int __cil_tmp281 ;
  unsigned long __cil_tmp282 ;
  unsigned long __cil_tmp283 ;
  unsigned int __cil_tmp284 ;
  unsigned int __cil_tmp285 ;
  unsigned int __cil_tmp286 ;
  unsigned long __cil_tmp287 ;
  unsigned long __cil_tmp288 ;
  unsigned int __cil_tmp289 ;
  unsigned long __cil_tmp290 ;
  unsigned long __cil_tmp291 ;
  unsigned long __cil_tmp292 ;
  unsigned long __cil_tmp293 ;
  unsigned int __cil_tmp294 ;
  unsigned long __cil_tmp295 ;
  unsigned long __cil_tmp296 ;
  unsigned long __cil_tmp297 ;
  unsigned long __cil_tmp298 ;
  unsigned char __cil_tmp299 ;
  int __cil_tmp300 ;
  unsigned long __cil_tmp301 ;
  unsigned long __cil_tmp302 ;
  unsigned int __cil_tmp303 ;
  unsigned int __cil_tmp304 ;
  unsigned int __cil_tmp305 ;
  unsigned int __cil_tmp306 ;
  unsigned int __cil_tmp307 ;
  unsigned int __cil_tmp308 ;
  unsigned int __cil_tmp309 ;
  unsigned long __cil_tmp310 ;
  unsigned long __cil_tmp311 ;
  unsigned int __cil_tmp312 ;
  unsigned int __cil_tmp313 ;
  unsigned long __cil_tmp314 ;
  unsigned long __cil_tmp315 ;
  unsigned int __cil_tmp316 ;
  unsigned int __cil_tmp317 ;
  unsigned long __cil_tmp318 ;
  unsigned long __cil_tmp319 ;
  unsigned int __cil_tmp320 ;
  unsigned int __cil_tmp321 ;
  unsigned long __cil_tmp322 ;
  unsigned long __cil_tmp323 ;
  unsigned long __cil_tmp324 ;
  unsigned long __cil_tmp325 ;
  unsigned long __cil_tmp326 ;
  unsigned long __cil_tmp327 ;
  unsigned long __cil_tmp328 ;
  unsigned long __cil_tmp329 ;
  unsigned char __cil_tmp330 ;
  int __cil_tmp331 ;
  int __cil_tmp332 ;
  unsigned long __cil_tmp333 ;
  unsigned long __cil_tmp334 ;
  unsigned int __cil_tmp335 ;
  unsigned int __cil_tmp336 ;
  unsigned int __cil_tmp337 ;
  unsigned int __cil_tmp338 ;
  unsigned long __cil_tmp339 ;
  unsigned long __cil_tmp340 ;
  unsigned long __cil_tmp341 ;
  unsigned long __cil_tmp342 ;
  unsigned long __cil_tmp343 ;
  unsigned long __cil_tmp344 ;
  unsigned long __cil_tmp345 ;
  unsigned long __cil_tmp346 ;
  unsigned char __cil_tmp347 ;
  int __cil_tmp348 ;
  int __cil_tmp349 ;
  unsigned long __cil_tmp350 ;
  unsigned long __cil_tmp351 ;
  unsigned int __cil_tmp352 ;
  unsigned int __cil_tmp353 ;
  unsigned int __cil_tmp354 ;
  unsigned int __cil_tmp355 ;
  unsigned long __cil_tmp356 ;
  unsigned long __cil_tmp357 ;
  unsigned int __cil_tmp358 ;
  int __cil_tmp359 ;
  unsigned int __cil_tmp360 ;
  unsigned long __cil_tmp361 ;
  unsigned long __cil_tmp362 ;
  unsigned long __cil_tmp363 ;
  unsigned long __cil_tmp364 ;
  unsigned long __cil_tmp365 ;
  unsigned long __cil_tmp366 ;
  unsigned long __cil_tmp367 ;
  unsigned long __cil_tmp368 ;
  unsigned char __cil_tmp369 ;
  int __cil_tmp370 ;
  int __cil_tmp371 ;
  unsigned long __cil_tmp372 ;
  unsigned long __cil_tmp373 ;
  unsigned long __cil_tmp374 ;
  unsigned long __cil_tmp375 ;
  unsigned long __cil_tmp376 ;
  unsigned long __cil_tmp377 ;
  unsigned long __cil_tmp378 ;
  unsigned long __cil_tmp379 ;
  unsigned char __cil_tmp380 ;
  int __cil_tmp381 ;
  int __cil_tmp382 ;
  unsigned long __cil_tmp383 ;
  unsigned long __cil_tmp384 ;
  unsigned long __cil_tmp385 ;
  unsigned long __cil_tmp386 ;
  unsigned long __cil_tmp387 ;
  unsigned long __cil_tmp388 ;
  unsigned long __cil_tmp389 ;
  unsigned long __cil_tmp390 ;
  unsigned char __cil_tmp391 ;
  int __cil_tmp392 ;
  int __cil_tmp393 ;
  unsigned int __cil_tmp394 ;
  unsigned long __cil_tmp395 ;
  unsigned long __cil_tmp396 ;
  unsigned int __cil_tmp397 ;
  unsigned long __cil_tmp398 ;
  unsigned long __cil_tmp399 ;
  unsigned long __cil_tmp400 ;
  unsigned long __cil_tmp401 ;
  unsigned char __cil_tmp402 ;
  unsigned int __cil_tmp403 ;
  unsigned int __cil_tmp404 ;
  unsigned int __cil_tmp405 ;
  unsigned long __cil_tmp406 ;
  unsigned long __cil_tmp407 ;
  unsigned long __cil_tmp408 ;
  unsigned long __cil_tmp409 ;
  unsigned char __cil_tmp410 ;
  unsigned long __cil_tmp411 ;
  unsigned long __cil_tmp412 ;
  unsigned long __cil_tmp413 ;
  unsigned long __cil_tmp414 ;
  unsigned char __cil_tmp415 ;
  unsigned long __cil_tmp416 ;
  unsigned long __cil_tmp417 ;
  unsigned char __cil_tmp418 ;
  int __cil_tmp419 ;
  int __cil_tmp420 ;
  unsigned long __cil_tmp421 ;
  unsigned long __cil_tmp422 ;
  unsigned int __cil_tmp423 ;
  unsigned long __cil_tmp424 ;
  unsigned long __cil_tmp425 ;
  unsigned long __cil_tmp426 ;
  unsigned long __cil_tmp427 ;
  unsigned char __cil_tmp428 ;
  unsigned long __cil_tmp429 ;
  unsigned long __cil_tmp430 ;
  unsigned long __cil_tmp431 ;
  unsigned long __cil_tmp432 ;
  unsigned char __cil_tmp433 ;
  int __cil_tmp434 ;
  int __cil_tmp435 ;
  unsigned long __cil_tmp436 ;
  unsigned long __cil_tmp437 ;
  unsigned int __cil_tmp438 ;
  unsigned int __cil_tmp439 ;
  unsigned long __cil_tmp440 ;
  unsigned long __cil_tmp441 ;
  unsigned int __cil_tmp442 ;
  unsigned int __cil_tmp443 ;
  unsigned int __cil_tmp444 ;
  unsigned int __cil_tmp445 ;
  int __cil_tmp446 ;
  int __cil_tmp447 ;
  unsigned long __cil_tmp448 ;
  unsigned long __cil_tmp449 ;
  unsigned long __cil_tmp450 ;
  unsigned long __cil_tmp451 ;
  unsigned long __cil_tmp452 ;
  int __cil_tmp453 ;
  int __cil_tmp454 ;
  int __cil_tmp455 ;
  int __cil_tmp456 ;
  unsigned long __cil_tmp457 ;
  unsigned long __cil_tmp458 ;
  unsigned long __cil_tmp459 ;
  unsigned long __cil_tmp460 ;
  unsigned char __cil_tmp461 ;
  int __cil_tmp462 ;
  int __cil_tmp463 ;
  unsigned long __cil_tmp464 ;
  unsigned long __cil_tmp465 ;
  unsigned long __cil_tmp466 ;
  unsigned long __cil_tmp467 ;
  unsigned long __cil_tmp468 ;
  unsigned long __cil_tmp469 ;
  unsigned long __cil_tmp470 ;
  unsigned long __cil_tmp471 ;
  unsigned char __cil_tmp472 ;
  int __cil_tmp473 ;
  int __cil_tmp474 ;
  unsigned long __cil_tmp475 ;
  unsigned long __cil_tmp476 ;
  unsigned long __cil_tmp477 ;
  unsigned long __cil_tmp478 ;
  unsigned long __cil_tmp479 ;
  unsigned long __cil_tmp480 ;
  int __cil_tmp481 ;
  unsigned long __cil_tmp482 ;
  unsigned long __cil_tmp483 ;
  unsigned long __cil_tmp484 ;
  unsigned long __cil_tmp485 ;
  unsigned long __cil_tmp486 ;
  unsigned long __cil_tmp487 ;
  unsigned int __cil_tmp488 ;
  unsigned int __cil_tmp489 ;
  unsigned long __cil_tmp490 ;
  unsigned long __cil_tmp491 ;
  unsigned long __cil_tmp492 ;
  unsigned long __cil_tmp493 ;
  unsigned long __cil_tmp494 ;
  unsigned long __cil_tmp495 ;
  unsigned char __cil_tmp496 ;
  int __cil_tmp497 ;
  int __cil_tmp498 ;
  int __cil_tmp499 ;
  int __cil_tmp500 ;
  int __cil_tmp501 ;
  unsigned long __cil_tmp502 ;
  unsigned long __cil_tmp503 ;
  char *__cil_tmp504 ;
  unsigned long __cil_tmp505 ;
  int __cil_tmp506 ;
  int __cil_tmp507 ;
  unsigned long __cil_tmp508 ;
  unsigned long __cil_tmp509 ;
  char *__cil_tmp510 ;
  unsigned long __cil_tmp511 ;
  unsigned long __cil_tmp512 ;
  unsigned long __cil_tmp513 ;
  unsigned long __cil_tmp514 ;
  unsigned long __cil_tmp515 ;
  char *__cil_tmp516 ;
  int __cil_tmp517 ;
  unsigned long __cil_tmp518 ;
  unsigned long __cil_tmp519 ;
  char *__cil_tmp520 ;
  unsigned long __cil_tmp521 ;
  unsigned long __cil_tmp522 ;
  unsigned long __cil_tmp523 ;
  unsigned long __cil_tmp524 ;
  int __cil_tmp525 ;
  unsigned long __cil_tmp526 ;
  unsigned long __cil_tmp527 ;
  unsigned long __cil_tmp528 ;
  int __cil_tmp529 ;
  int __cil_tmp530 ;
  unsigned long __cil_tmp531 ;
  unsigned long __cil_tmp532 ;
  unsigned long __cil_tmp533 ;
  unsigned long __cil_tmp534 ;
  unsigned int __cil_tmp535 ;
  int __cil_tmp536 ;
  unsigned int __cil_tmp537 ;
  unsigned long __cil_tmp538 ;
  unsigned long __cil_tmp539 ;
  unsigned long __cil_tmp540 ;
  unsigned long __cil_tmp541 ;
  unsigned long __cil_tmp542 ;
  unsigned long __cil_tmp543 ;
  short __cil_tmp544 ;
  int __cil_tmp545 ;
  int __cil_tmp546 ;
  unsigned long __cil_tmp547 ;
  unsigned long __cil_tmp548 ;
  unsigned long __cil_tmp549 ;
  char __cil_tmp550 ;
  int __cil_tmp551 ;
  unsigned long __cil_tmp552 ;
  unsigned long __cil_tmp553 ;
  unsigned long __cil_tmp554 ;
  unsigned long __cil_tmp555 ;
  unsigned long __cil_tmp556 ;
  unsigned long __cil_tmp557 ;
  unsigned long __cil_tmp558 ;
  unsigned long __cil_tmp559 ;
  unsigned long __cil_tmp560 ;
  unsigned long __cil_tmp561 ;
  unsigned long __cil_tmp562 ;
  long __cil_tmp563 ;
  int __cil_tmp564 ;
  int __cil_tmp565 ;
  int __cil_tmp566 ;
  unsigned long __cil_tmp567 ;
  unsigned long __cil_tmp568 ;
  unsigned long __cil_tmp569 ;
  unsigned long __cil_tmp570 ;
  unsigned char __cil_tmp571 ;
  int __cil_tmp572 ;
  int __cil_tmp573 ;
  unsigned long __cil_tmp574 ;
  unsigned long __cil_tmp575 ;
  int __cil_tmp576 ;
  int __cil_tmp577 ;
  int __cil_tmp578 ;
  int __cil_tmp579 ;
  unsigned long __cil_tmp580 ;
  unsigned long __cil_tmp581 ;
  unsigned long __cil_tmp582 ;
  unsigned long __cil_tmp583 ;
  unsigned char __cil_tmp584 ;
  int __cil_tmp585 ;
  int __cil_tmp586 ;
  unsigned long __cil_tmp587 ;
  unsigned long __cil_tmp588 ;
  unsigned long __cil_tmp589 ;
  unsigned long __cil_tmp590 ;
  int __cil_tmp591 ;
  int __cil_tmp592 ;
  int __cil_tmp593 ;
  int __cil_tmp594 ;
  int __cil_tmp595 ;
  int __cil_tmp596 ;
  unsigned long __cil_tmp597 ;
  unsigned long __cil_tmp598 ;
  int __cil_tmp599 ;
  int __cil_tmp600 ;
  unsigned long __cil_tmp601 ;
  unsigned long __cil_tmp602 ;
  unsigned long __cil_tmp603 ;
  unsigned long __cil_tmp604 ;
  unsigned char __cil_tmp605 ;
  int __cil_tmp606 ;
  int __cil_tmp607 ;
  int __cil_tmp608 ;
  unsigned long __cil_tmp609 ;
  unsigned long __cil_tmp610 ;
  int __cil_tmp611 ;
  int __cil_tmp612 ;
  int __cil_tmp613 ;
  int __cil_tmp614 ;
  int __cil_tmp615 ;
  unsigned long __cil_tmp616 ;
  unsigned long __cil_tmp617 ;
  long __cil_tmp618 ;
  unsigned long __cil_tmp619 ;
  unsigned long __cil_tmp620 ;
  int __cil_tmp621 ;
  long __cil_tmp622 ;
  unsigned long __cil_tmp623 ;
  unsigned long __cil_tmp624 ;
  long __cil_tmp625 ;
  long __cil_tmp626 ;
  long __cil_tmp627 ;
  unsigned long __cil_tmp628 ;
  unsigned long __cil_tmp629 ;
  unsigned long __cil_tmp630 ;
  unsigned long __cil_tmp631 ;
  long __cil_tmp632 ;
  long __cil_tmp633 ;
  unsigned long __cil_tmp634 ;
  unsigned long __cil_tmp635 ;
  long __cil_tmp636 ;
  unsigned long __cil_tmp637 ;
  unsigned long __cil_tmp638 ;
  char *__cil_tmp639 ;
  unsigned long __cil_tmp640 ;
  unsigned long __cil_tmp641 ;
  unsigned long __cil_tmp642 ;
  char *__cil_tmp643 ;
  unsigned long __cil_tmp644 ;
  unsigned long __cil_tmp645 ;
  unsigned long __cil_tmp646 ;
  unsigned long __cil_tmp647 ;
  unsigned long __cil_tmp648 ;
  unsigned char __cil_tmp649 ;
  int __cil_tmp650 ;
  int __cil_tmp651 ;
  long __cil_tmp652 ;
  unsigned long __cil_tmp653 ;
  unsigned long __cil_tmp654 ;
  long __cil_tmp655 ;
  long __cil_tmp656 ;
  long __cil_tmp657 ;
  long __cil_tmp658 ;
  unsigned long __cil_tmp659 ;
  unsigned long __cil_tmp660 ;
  unsigned long __cil_tmp661 ;
  unsigned long __cil_tmp662 ;
  unsigned char __cil_tmp663 ;
  int __cil_tmp664 ;
  int __cil_tmp665 ;
  long __cil_tmp666 ;
  unsigned long __cil_tmp667 ;
  unsigned long __cil_tmp668 ;
  long __cil_tmp669 ;
  unsigned long __cil_tmp670 ;
  unsigned long __cil_tmp671 ;
  long __cil_tmp672 ;
  int __cil_tmp673 ;
  unsigned long __cil_tmp674 ;
  unsigned long __cil_tmp675 ;
  long __cil_tmp676 ;
  unsigned long __cil_tmp677 ;
  unsigned long __cil_tmp678 ;
  char *__cil_tmp679 ;
  unsigned long __cil_tmp680 ;
  unsigned long __cil_tmp681 ;
  unsigned long __cil_tmp682 ;
  char *__cil_tmp683 ;
  unsigned long __cil_tmp684 ;
  unsigned long __cil_tmp685 ;
  unsigned long __cil_tmp686 ;
  char *__cil_tmp687 ;
  int __cil_tmp688 ;
  int __cil_tmp689 ;
  int __cil_tmp690 ;
  unsigned long __cil_tmp691 ;
  unsigned long __cil_tmp692 ;
  unsigned long __cil_tmp693 ;
  unsigned long __cil_tmp694 ;
  unsigned char __cil_tmp695 ;
  int __cil_tmp696 ;
  unsigned long __cil_tmp697 ;
  unsigned long __cil_tmp698 ;
  unsigned long __cil_tmp699 ;
  unsigned long __cil_tmp700 ;
  unsigned char __cil_tmp701 ;
  int __cil_tmp702 ;
  unsigned long __cil_tmp703 ;
  unsigned long __cil_tmp704 ;
  unsigned long __cil_tmp705 ;
  unsigned long __cil_tmp706 ;
  unsigned char __cil_tmp707 ;
  int __cil_tmp708 ;
  unsigned long __cil_tmp709 ;
  unsigned long __cil_tmp710 ;
  unsigned long __cil_tmp711 ;
  unsigned long __cil_tmp712 ;
  unsigned char __cil_tmp713 ;
  int __cil_tmp714 ;
  unsigned long __cil_tmp715 ;
  unsigned long __cil_tmp716 ;
  unsigned long __cil_tmp717 ;
  unsigned long __cil_tmp718 ;
  unsigned char __cil_tmp719 ;
  int __cil_tmp720 ;
  unsigned long __cil_tmp721 ;
  unsigned long __cil_tmp722 ;
  char *__cil_tmp723 ;
  unsigned long __cil_tmp724 ;
  unsigned long __cil_tmp725 ;
  unsigned long __cil_tmp726 ;
  char *__cil_tmp727 ;
  unsigned long __cil_tmp728 ;
  unsigned long __cil_tmp729 ;
  unsigned long __cil_tmp730 ;
  unsigned long __cil_tmp731 ;
  char *__cil_tmp732 ;
  unsigned long __cil_tmp733 ;
  unsigned long __cil_tmp734 ;
  unsigned long __cil_tmp735 ;
  long __cil_tmp736 ;
  int __cil_tmp737 ;
  char *__cil_tmp738 ;
  unsigned long __cil_tmp739 ;
  unsigned long __cil_tmp740 ;
  unsigned long __cil_tmp741 ;
  long __cil_tmp742 ;
  unsigned long __cil_tmp743 ;
  unsigned long __cil_tmp744 ;
  char *__cil_tmp745 ;
  char *__cil_tmp746 ;
  unsigned long __cil_tmp747 ;
  int __cil_tmp748 ;
  int __cil_tmp749 ;
  unsigned long __cil_tmp750 ;
  unsigned long __cil_tmp751 ;
  long __cil_tmp752 ;
  long __cil_tmp753 ;
  unsigned long __cil_tmp754 ;
  unsigned long __cil_tmp755 ;
  unsigned long __cil_tmp756 ;
  unsigned long __cil_tmp757 ;
  unsigned char __cil_tmp758 ;
  int __cil_tmp759 ;
  int __cil_tmp760 ;
  unsigned long __cil_tmp761 ;
  unsigned long __cil_tmp762 ;
  unsigned long __cil_tmp763 ;
  unsigned long __cil_tmp764 ;
  unsigned char __cil_tmp765 ;
  int __cil_tmp766 ;
  int __cil_tmp767 ;
  unsigned long __cil_tmp768 ;
  unsigned long __cil_tmp769 ;
  unsigned long __cil_tmp770 ;
  unsigned long __cil_tmp771 ;
  unsigned long __cil_tmp772 ;
  unsigned long __cil_tmp773 ;
  long __cil_tmp774 ;
  unsigned long __cil_tmp775 ;
  int __cil_tmp776 ;
  unsigned long __cil_tmp777 ;
  unsigned long __cil_tmp778 ;
  unsigned long __cil_tmp779 ;
  unsigned long __cil_tmp780 ;
  int __cil_tmp781 ;
  long __cil_tmp782 ;
  unsigned long __cil_tmp783 ;
  unsigned long __cil_tmp784 ;
  long __cil_tmp785 ;
  int __cil_tmp786 ;
  unsigned long __cil_tmp787 ;
  unsigned long __cil_tmp788 ;
  long __cil_tmp789 ;
  long __cil_tmp790 ;
  unsigned long __cil_tmp791 ;
  unsigned long __cil_tmp792 ;
  long __cil_tmp793 ;
  int __cil_tmp794 ;

  {
#line 2620
  if (max_buffer_sectors == 0) {
    {
#line 2621
    printk("VFS: Block I/O scheduled on unopened device\n");
    }
#line 2622
    return (0);
  } else {

  }
  {
#line 2625
  __cil_tmp17 = (unsigned long )current_req;
#line 2625
  __cil_tmp18 = __cil_tmp17 + 88;
#line 2625
  __cil_tmp19 = *((struct gendisk **)__cil_tmp18);
#line 2625
  __cil_tmp20 = (unsigned long )__cil_tmp19;
#line 2625
  __cil_tmp21 = __cil_tmp20 + 64;
#line 2625
  __cil_tmp22 = *((void **)__cil_tmp21);
#line 2625
  __cil_tmp23 = (long )__cil_tmp22;
#line 2625
  __cil_tmp24 = (int )__cil_tmp23;
#line 2625
  set_fdc(__cil_tmp24);
#line 2627
  raw_cmd = & default_raw_cmd;
#line 2628
  *((unsigned int *)raw_cmd) = 208U;
#line 2630
  __cil_tmp25 = (unsigned long )raw_cmd;
#line 2630
  __cil_tmp26 = __cil_tmp25 + 53;
#line 2630
  *((unsigned char *)__cil_tmp26) = (unsigned char)9;
  }
  {
#line 2631
  __cil_tmp27 = (unsigned long )current_req;
#line 2631
  __cil_tmp28 = __cil_tmp27 + 40;
#line 2631
  __cil_tmp29 = *((unsigned int *)__cil_tmp28);
#line 2631
  __cil_tmp30 = __cil_tmp29 & 1U;
#line 2631
  if (__cil_tmp30 == 0U) {
#line 2632
    __cil_tmp31 = *((unsigned int *)raw_cmd);
#line 2632
    *((unsigned int *)raw_cmd) = __cil_tmp31 | 1U;
#line 2633
    __cil_tmp32 = 0 * 1UL;
#line 2633
    __cil_tmp33 = 54 + __cil_tmp32;
#line 2633
    __cil_tmp34 = (unsigned long )raw_cmd;
#line 2633
    __cil_tmp35 = __cil_tmp34 + __cil_tmp33;
#line 2633
    __cil_tmp36 = (unsigned long )_floppy;
#line 2633
    __cil_tmp37 = __cil_tmp36 + 21;
#line 2633
    __cil_tmp38 = *((unsigned char *)__cil_tmp37);
#line 2633
    __cil_tmp39 = (int )__cil_tmp38;
#line 2633
    __cil_tmp40 = __cil_tmp39 & 128;
#line 2633
    __cil_tmp41 = __cil_tmp40 >> 1;
#line 2633
    __cil_tmp42 = ~ __cil_tmp41;
#line 2633
    __cil_tmp43 = 230 & __cil_tmp42;
#line 2633
    *((unsigned char *)__cil_tmp35) = (unsigned char )__cil_tmp43;
  } else {
    {
#line 2634
    __cil_tmp44 = (unsigned long )current_req;
#line 2634
    __cil_tmp45 = __cil_tmp44 + 40;
#line 2634
    __cil_tmp46 = *((unsigned int *)__cil_tmp45);
#line 2634
    __cil_tmp47 = __cil_tmp46 & 1U;
#line 2634
    if (__cil_tmp47 == 1U) {
#line 2635
      __cil_tmp48 = *((unsigned int *)raw_cmd);
#line 2635
      *((unsigned int *)raw_cmd) = __cil_tmp48 | 2U;
#line 2636
      __cil_tmp49 = 0 * 1UL;
#line 2636
      __cil_tmp50 = 54 + __cil_tmp49;
#line 2636
      __cil_tmp51 = (unsigned long )raw_cmd;
#line 2636
      __cil_tmp52 = __cil_tmp51 + __cil_tmp50;
#line 2636
      __cil_tmp53 = (unsigned long )_floppy;
#line 2636
      __cil_tmp54 = __cil_tmp53 + 21;
#line 2636
      __cil_tmp55 = *((unsigned char *)__cil_tmp54);
#line 2636
      __cil_tmp56 = (int )__cil_tmp55;
#line 2636
      __cil_tmp57 = __cil_tmp56 & 128;
#line 2636
      __cil_tmp58 = __cil_tmp57 >> 1;
#line 2636
      __cil_tmp59 = ~ __cil_tmp58;
#line 2636
      __cil_tmp60 = 197 & __cil_tmp59;
#line 2636
      *((unsigned char *)__cil_tmp52) = (unsigned char )__cil_tmp60;
    } else {
      {
#line 2638
      __cil_tmp61 = (int )current_drive;
#line 2638
      printk("floppy%d: make_raw_rw_request: unknown command\n", __cil_tmp61);
      }
#line 2639
      return (0);
    }
    }
  }
  }
#line 2642
  __cil_tmp62 = (unsigned long )_floppy;
#line 2642
  __cil_tmp63 = __cil_tmp62 + 8;
#line 2642
  __cil_tmp64 = *((unsigned int *)__cil_tmp63);
#line 2642
  __cil_tmp65 = (unsigned long )_floppy;
#line 2642
  __cil_tmp66 = __cil_tmp65 + 4;
#line 2642
  __cil_tmp67 = *((unsigned int *)__cil_tmp66);
#line 2642
  __cil_tmp68 = __cil_tmp67 * __cil_tmp64;
#line 2642
  max_sector = (int )__cil_tmp68;
#line 2644
  __cil_tmp69 = 2 * 1UL;
#line 2644
  __cil_tmp70 = 54 + __cil_tmp69;
#line 2644
  __cil_tmp71 = (unsigned long )raw_cmd;
#line 2644
  __cil_tmp72 = __cil_tmp71 + __cil_tmp70;
#line 2644
  __cil_tmp73 = (unsigned long )current_req;
#line 2644
  __cil_tmp74 = __cil_tmp73 + 48;
#line 2644
  __cil_tmp75 = *((sector_t *)__cil_tmp74);
#line 2644
  __cil_tmp76 = (int )__cil_tmp75;
#line 2644
  __cil_tmp77 = __cil_tmp76 / max_sector;
#line 2644
  *((unsigned char *)__cil_tmp72) = (unsigned char )__cil_tmp77;
#line 2645
  __cil_tmp78 = (unsigned long )current_req;
#line 2645
  __cil_tmp79 = __cil_tmp78 + 48;
#line 2645
  __cil_tmp80 = *((sector_t *)__cil_tmp79);
#line 2645
  __cil_tmp81 = (int )__cil_tmp80;
#line 2645
  __cil_tmp82 = __cil_tmp81 % max_sector;
#line 2645
  fsector_t = (unsigned char )__cil_tmp82;
  {
#line 2646
  __cil_tmp83 = (unsigned long )_floppy;
#line 2646
  __cil_tmp84 = __cil_tmp83 + 12;
#line 2646
  if (*((unsigned int *)__cil_tmp84)) {
    {
#line 2646
    __cil_tmp85 = (unsigned long )_floppy;
#line 2646
    __cil_tmp86 = __cil_tmp85 + 12;
#line 2646
    __cil_tmp87 = *((unsigned int *)__cil_tmp86);
#line 2646
    __cil_tmp88 = 2 * 1UL;
#line 2646
    __cil_tmp89 = 54 + __cil_tmp88;
#line 2646
    __cil_tmp90 = (unsigned long )raw_cmd;
#line 2646
    __cil_tmp91 = __cil_tmp90 + __cil_tmp89;
#line 2646
    __cil_tmp92 = *((unsigned char *)__cil_tmp91);
#line 2646
    __cil_tmp93 = (unsigned int )__cil_tmp92;
#line 2646
    if (__cil_tmp93 >= __cil_tmp87) {
      {
#line 2647
      __cil_tmp94 = (unsigned long )current_req;
#line 2647
      __cil_tmp95 = __cil_tmp94 + 64;
#line 2647
      __cil_tmp96 = *((unsigned int *)__cil_tmp95);
#line 2647
      if (__cil_tmp96 & 1U) {
#line 2648
        current_count_sectors = 1L;
#line 2649
        return (1);
      } else {
#line 2651
        return (0);
      }
      }
    } else {

    }
    }
  } else {

  }
  }
#line 2653
  __cil_tmp97 = 3 * 1UL;
#line 2653
  __cil_tmp98 = 54 + __cil_tmp97;
#line 2653
  __cil_tmp99 = (unsigned long )raw_cmd;
#line 2653
  __cil_tmp100 = __cil_tmp99 + __cil_tmp98;
#line 2653
  __cil_tmp101 = (unsigned long )_floppy;
#line 2653
  __cil_tmp102 = __cil_tmp101 + 4;
#line 2653
  __cil_tmp103 = *((unsigned int *)__cil_tmp102);
#line 2653
  __cil_tmp104 = (unsigned int )fsector_t;
#line 2653
  __cil_tmp105 = __cil_tmp104 / __cil_tmp103;
#line 2653
  *((unsigned char *)__cil_tmp100) = (unsigned char )__cil_tmp105;
  {
#line 2655
  __cil_tmp106 = (unsigned long )_floppy;
#line 2655
  __cil_tmp107 = __cil_tmp106 + 16;
#line 2655
  __cil_tmp108 = *((unsigned int *)__cil_tmp107);
#line 2655
  if (__cil_tmp108 & 6U) {
#line 2655
    goto _L;
  } else {
    {
#line 2655
    __cil_tmp109 = current_drive * 80UL;
#line 2655
    __cil_tmp110 = (unsigned long )(drive_state) + __cil_tmp109;
#line 2655
    __cil_tmp111 = (unsigned long *)__cil_tmp110;
#line 2655
    __cil_tmp112 = (void const   *)__cil_tmp111;
#line 2655
    tmp = test_bit(0, __cil_tmp112);
    }
#line 2655
    if (tmp) {
      _L: 
      {
#line 2655
      __cil_tmp113 = (unsigned long )_floppy;
#line 2655
      __cil_tmp114 = __cil_tmp113 + 4;
#line 2655
      __cil_tmp115 = *((unsigned int *)__cil_tmp114);
#line 2655
      __cil_tmp116 = (unsigned int )fsector_t;
#line 2655
      if (__cil_tmp116 < __cil_tmp115) {
#line 2657
        __cil_tmp117 = (unsigned long )_floppy;
#line 2657
        __cil_tmp118 = __cil_tmp117 + 4;
#line 2657
        __cil_tmp119 = *((unsigned int *)__cil_tmp118);
#line 2657
        max_sector = (int )__cil_tmp119;
      } else {

      }
      }
    } else {

    }
  }
  }
  {
#line 2660
  __cil_tmp120 = (unsigned long )_floppy;
#line 2660
  __cil_tmp121 = __cil_tmp120 + 21;
#line 2660
  __cil_tmp122 = *((unsigned char *)__cil_tmp121);
#line 2660
  __cil_tmp123 = (int )__cil_tmp122;
#line 2660
  if (__cil_tmp123 & 4) {
    {
#line 2660
    __cil_tmp124 = 2 * 1UL;
#line 2660
    __cil_tmp125 = 54 + __cil_tmp124;
#line 2660
    __cil_tmp126 = (unsigned long )raw_cmd;
#line 2660
    __cil_tmp127 = __cil_tmp126 + __cil_tmp125;
#line 2660
    __cil_tmp128 = *((unsigned char *)__cil_tmp127);
#line 2660
    if (! __cil_tmp128) {
      {
#line 2660
      __cil_tmp129 = 3 * 1UL;
#line 2660
      __cil_tmp130 = 54 + __cil_tmp129;
#line 2660
      __cil_tmp131 = (unsigned long )raw_cmd;
#line 2660
      __cil_tmp132 = __cil_tmp131 + __cil_tmp130;
#line 2660
      __cil_tmp133 = *((unsigned char *)__cil_tmp132);
#line 2660
      if (! __cil_tmp133) {
#line 2661
        __cil_tmp134 = (unsigned long )_floppy;
#line 2661
        __cil_tmp135 = __cil_tmp134 + 4;
#line 2661
        __cil_tmp136 = *((unsigned int *)__cil_tmp135);
#line 2661
        __cil_tmp137 = 2U * __cil_tmp136;
#line 2661
        __cil_tmp138 = __cil_tmp137 / 3U;
#line 2661
        max_sector = (int )__cil_tmp138;
        {
#line 2662
        __cil_tmp139 = (int )fsector_t;
#line 2662
        if (__cil_tmp139 >= max_sector) {
#line 2664
          __cil_tmp140 = (unsigned int )fsector_t;
#line 2664
          __cil_tmp141 = (unsigned long )_floppy;
#line 2664
          __cil_tmp142 = __cil_tmp141 + 4;
#line 2664
          __cil_tmp143 = *((unsigned int *)__cil_tmp142);
#line 2664
          __cil_tmp144 = __cil_tmp143 - __cil_tmp140;
#line 2664
          __x = (int )__cil_tmp144;
#line 2664
          __cil_tmp145 = (unsigned long )current_req;
#line 2664
          __cil_tmp146 = __cil_tmp145 + 56;
#line 2664
          __cil_tmp147 = *((unsigned long *)__cil_tmp146);
#line 2664
          __y = (int )__cil_tmp147;
#line 2664
          if (__x < __y) {
#line 2664
            tmp___0 = __x;
          } else {
#line 2664
            tmp___0 = __y;
          }
#line 2664
          current_count_sectors = (long )tmp___0;
#line 2666
          return (1);
        } else {

        }
        }
#line 2668
        __cil_tmp148 = 5 * 1UL;
#line 2668
        __cil_tmp149 = 54 + __cil_tmp148;
#line 2668
        __cil_tmp150 = (unsigned long )raw_cmd;
#line 2668
        __cil_tmp151 = __cil_tmp150 + __cil_tmp149;
#line 2668
        *((unsigned char *)__cil_tmp151) = (unsigned char)2;
      } else {
#line 2670
        __cil_tmp152 = 5 * 1UL;
#line 2670
        __cil_tmp153 = 54 + __cil_tmp152;
#line 2670
        __cil_tmp154 = (unsigned long )raw_cmd;
#line 2670
        __cil_tmp155 = __cil_tmp154 + __cil_tmp153;
#line 2670
        __cil_tmp156 = (unsigned long )_floppy;
#line 2670
        __cil_tmp157 = __cil_tmp156 + 21;
#line 2670
        __cil_tmp158 = *((unsigned char *)__cil_tmp157);
#line 2670
        __cil_tmp159 = (int )__cil_tmp158;
#line 2670
        __cil_tmp160 = __cil_tmp159 & 56;
#line 2670
        __cil_tmp161 = __cil_tmp160 >> 3;
#line 2670
        __cil_tmp162 = __cil_tmp161 + 2;
#line 2670
        __cil_tmp163 = __cil_tmp162 % 8;
#line 2670
        *((unsigned char *)__cil_tmp155) = (unsigned char )__cil_tmp163;
      }
      }
    } else {
#line 2670
      __cil_tmp164 = 5 * 1UL;
#line 2670
      __cil_tmp165 = 54 + __cil_tmp164;
#line 2670
      __cil_tmp166 = (unsigned long )raw_cmd;
#line 2670
      __cil_tmp167 = __cil_tmp166 + __cil_tmp165;
#line 2670
      __cil_tmp168 = (unsigned long )_floppy;
#line 2670
      __cil_tmp169 = __cil_tmp168 + 21;
#line 2670
      __cil_tmp170 = *((unsigned char *)__cil_tmp169);
#line 2670
      __cil_tmp171 = (int )__cil_tmp170;
#line 2670
      __cil_tmp172 = __cil_tmp171 & 56;
#line 2670
      __cil_tmp173 = __cil_tmp172 >> 3;
#line 2670
      __cil_tmp174 = __cil_tmp173 + 2;
#line 2670
      __cil_tmp175 = __cil_tmp174 % 8;
#line 2670
      *((unsigned char *)__cil_tmp167) = (unsigned char )__cil_tmp175;
    }
    }
  } else {
#line 2670
    __cil_tmp176 = 5 * 1UL;
#line 2670
    __cil_tmp177 = 54 + __cil_tmp176;
#line 2670
    __cil_tmp178 = (unsigned long )raw_cmd;
#line 2670
    __cil_tmp179 = __cil_tmp178 + __cil_tmp177;
#line 2670
    __cil_tmp180 = (unsigned long )_floppy;
#line 2670
    __cil_tmp181 = __cil_tmp180 + 21;
#line 2670
    __cil_tmp182 = *((unsigned char *)__cil_tmp181);
#line 2670
    __cil_tmp183 = (int )__cil_tmp182;
#line 2670
    __cil_tmp184 = __cil_tmp183 & 56;
#line 2670
    __cil_tmp185 = __cil_tmp184 >> 3;
#line 2670
    __cil_tmp186 = __cil_tmp185 + 2;
#line 2670
    __cil_tmp187 = __cil_tmp186 % 8;
#line 2670
    *((unsigned char *)__cil_tmp179) = (unsigned char )__cil_tmp187;
  }
  }
#line 2671
  __cil_tmp188 = (unsigned long )raw_cmd;
#line 2671
  __cil_tmp189 = __cil_tmp188 + 52;
#line 2671
  __cil_tmp190 = (unsigned long )_floppy;
#line 2671
  __cil_tmp191 = __cil_tmp190 + 21;
#line 2671
  __cil_tmp192 = *((unsigned char *)__cil_tmp191);
#line 2671
  __cil_tmp193 = (int )__cil_tmp192;
#line 2671
  __cil_tmp194 = __cil_tmp193 & 67;
#line 2671
  *((unsigned char *)__cil_tmp189) = (unsigned char )__cil_tmp194;
  {
#line 2672
  __cil_tmp195 = (unsigned long )_floppy;
#line 2672
  __cil_tmp196 = __cil_tmp195 + 21;
#line 2672
  __cil_tmp197 = *((unsigned char *)__cil_tmp196);
#line 2672
  __cil_tmp198 = (int )__cil_tmp197;
#line 2672
  if (__cil_tmp198 & 4) {
    {
#line 2672
    __cil_tmp199 = 2 * 1UL;
#line 2672
    __cil_tmp200 = 54 + __cil_tmp199;
#line 2672
    __cil_tmp201 = (unsigned long )raw_cmd;
#line 2672
    __cil_tmp202 = __cil_tmp201 + __cil_tmp200;
#line 2672
    if (*((unsigned char *)__cil_tmp202)) {
#line 2672
      goto _L___0;
    } else {
      {
#line 2672
      __cil_tmp203 = 3 * 1UL;
#line 2672
      __cil_tmp204 = 54 + __cil_tmp203;
#line 2672
      __cil_tmp205 = (unsigned long )raw_cmd;
#line 2672
      __cil_tmp206 = __cil_tmp205 + __cil_tmp204;
#line 2672
      if (*((unsigned char *)__cil_tmp206)) {
        _L___0: 
        {
#line 2672
        __cil_tmp207 = (unsigned long )raw_cmd;
#line 2672
        __cil_tmp208 = __cil_tmp207 + 52;
#line 2672
        __cil_tmp209 = *((unsigned char *)__cil_tmp208);
#line 2672
        __cil_tmp210 = (int )__cil_tmp209;
#line 2672
        if (__cil_tmp210 == 2) {
#line 2673
          __cil_tmp211 = (unsigned long )raw_cmd;
#line 2673
          __cil_tmp212 = __cil_tmp211 + 52;
#line 2673
          *((unsigned char *)__cil_tmp212) = (unsigned char)1;
        } else {

        }
        }
      } else {

      }
      }
    }
    }
  } else {

  }
  }
  {
#line 2675
  __cil_tmp213 = 5 * 1UL;
#line 2675
  __cil_tmp214 = 54 + __cil_tmp213;
#line 2675
  __cil_tmp215 = (unsigned long )raw_cmd;
#line 2675
  __cil_tmp216 = __cil_tmp215 + __cil_tmp214;
#line 2675
  if (*((unsigned char *)__cil_tmp216)) {
#line 2676
    __cil_tmp217 = 8 * 1UL;
#line 2676
    __cil_tmp218 = 54 + __cil_tmp217;
#line 2676
    __cil_tmp219 = (unsigned long )raw_cmd;
#line 2676
    __cil_tmp220 = __cil_tmp219 + __cil_tmp218;
#line 2676
    *((unsigned char *)__cil_tmp220) = (unsigned char)255;
  } else {
#line 2678
    __cil_tmp221 = 8 * 1UL;
#line 2678
    __cil_tmp222 = 54 + __cil_tmp221;
#line 2678
    __cil_tmp223 = (unsigned long )raw_cmd;
#line 2678
    __cil_tmp224 = __cil_tmp223 + __cil_tmp222;
#line 2678
    *((unsigned char *)__cil_tmp224) = (unsigned char)128;
  }
  }
#line 2679
  __cil_tmp225 = (unsigned long )raw_cmd;
#line 2679
  __cil_tmp226 = __cil_tmp225 + 88;
#line 2679
  __cil_tmp227 = (unsigned long )_floppy;
#line 2679
  __cil_tmp228 = __cil_tmp227 + 16;
#line 2679
  __cil_tmp229 = *((unsigned int *)__cil_tmp228);
#line 2679
  __cil_tmp230 = __cil_tmp229 & 1U;
#line 2679
  __cil_tmp231 = 2 * 1UL;
#line 2679
  __cil_tmp232 = 54 + __cil_tmp231;
#line 2679
  __cil_tmp233 = (unsigned long )raw_cmd;
#line 2679
  __cil_tmp234 = __cil_tmp233 + __cil_tmp232;
#line 2679
  __cil_tmp235 = *((unsigned char *)__cil_tmp234);
#line 2679
  __cil_tmp236 = (int )__cil_tmp235;
#line 2679
  *((int *)__cil_tmp226) = __cil_tmp236 << __cil_tmp230;
#line 2680
  __cil_tmp237 = 1 * 1UL;
#line 2680
  __cil_tmp238 = 54 + __cil_tmp237;
#line 2680
  __cil_tmp239 = (unsigned long )raw_cmd;
#line 2680
  __cil_tmp240 = __cil_tmp239 + __cil_tmp238;
#line 2680
  __cil_tmp241 = 3 * 1UL;
#line 2680
  __cil_tmp242 = 54 + __cil_tmp241;
#line 2680
  __cil_tmp243 = (unsigned long )raw_cmd;
#line 2680
  __cil_tmp244 = __cil_tmp243 + __cil_tmp242;
#line 2680
  __cil_tmp245 = *((unsigned char *)__cil_tmp244);
#line 2680
  __cil_tmp246 = (unsigned int )__cil_tmp245;
#line 2680
  __cil_tmp247 = (unsigned long )_floppy;
#line 2680
  __cil_tmp248 = __cil_tmp247 + 16;
#line 2680
  __cil_tmp249 = *((unsigned int *)__cil_tmp248);
#line 2680
  __cil_tmp250 = __cil_tmp249 & 2U;
#line 2680
  __cil_tmp251 = __cil_tmp250 >> 1;
#line 2680
  __cil_tmp252 = __cil_tmp251 ^ __cil_tmp246;
#line 2680
  __cil_tmp253 = __cil_tmp252 << 2;
#line 2680
  __cil_tmp254 = (int )current_drive;
#line 2680
  __cil_tmp255 = __cil_tmp254 & 3;
#line 2680
  __cil_tmp256 = (unsigned int )__cil_tmp255;
#line 2680
  __cil_tmp257 = __cil_tmp256 + __cil_tmp253;
#line 2680
  *((unsigned char *)__cil_tmp240) = (unsigned char )__cil_tmp257;
#line 2681
  __cil_tmp258 = 7 * 1UL;
#line 2681
  __cil_tmp259 = 54 + __cil_tmp258;
#line 2681
  __cil_tmp260 = (unsigned long )raw_cmd;
#line 2681
  __cil_tmp261 = __cil_tmp260 + __cil_tmp259;
#line 2681
  __cil_tmp262 = (unsigned long )_floppy;
#line 2681
  __cil_tmp263 = __cil_tmp262 + 20;
#line 2681
  *((unsigned char *)__cil_tmp261) = *((unsigned char *)__cil_tmp263);
#line 2682
  __cil_tmp264 = 5 * 1UL;
#line 2682
  __cil_tmp265 = 54 + __cil_tmp264;
#line 2682
  __cil_tmp266 = (unsigned long )raw_cmd;
#line 2682
  __cil_tmp267 = __cil_tmp266 + __cil_tmp265;
#line 2682
  __cil_tmp268 = *((unsigned char *)__cil_tmp267);
#line 2682
  __cil_tmp269 = (int )__cil_tmp268;
#line 2682
  __cil_tmp270 = 1 << __cil_tmp269;
#line 2682
  __cil_tmp271 = __cil_tmp270 + 3;
#line 2682
  ssize = __cil_tmp271 >> 2;
#line 2683
  __cil_tmp272 = 6 * 1UL;
#line 2683
  __cil_tmp273 = 54 + __cil_tmp272;
#line 2683
  __cil_tmp274 = (unsigned long )raw_cmd;
#line 2683
  __cil_tmp275 = __cil_tmp274 + __cil_tmp273;
#line 2683
  __cil_tmp276 = 5 * 1UL;
#line 2683
  __cil_tmp277 = 54 + __cil_tmp276;
#line 2683
  __cil_tmp278 = (unsigned long )raw_cmd;
#line 2683
  __cil_tmp279 = __cil_tmp278 + __cil_tmp277;
#line 2683
  __cil_tmp280 = *((unsigned char *)__cil_tmp279);
#line 2683
  __cil_tmp281 = (int )__cil_tmp280;
#line 2683
  __cil_tmp282 = (unsigned long )_floppy;
#line 2683
  __cil_tmp283 = __cil_tmp282 + 4;
#line 2683
  __cil_tmp284 = *((unsigned int *)__cil_tmp283);
#line 2683
  __cil_tmp285 = __cil_tmp284 << 2;
#line 2683
  __cil_tmp286 = __cil_tmp285 >> __cil_tmp281;
#line 2683
  *((unsigned char *)__cil_tmp275) = (unsigned char )__cil_tmp286;
  {
#line 2684
  __cil_tmp287 = (unsigned long )_floppy;
#line 2684
  __cil_tmp288 = __cil_tmp287 + 16;
#line 2684
  __cil_tmp289 = *((unsigned int *)__cil_tmp288);
#line 2684
  if (__cil_tmp289 & 4U) {
#line 2684
    tmp___1 = 0;
  } else {
#line 2684
    tmp___1 = 1;
  }
  }
#line 2684
  __cil_tmp290 = 4 * 1UL;
#line 2684
  __cil_tmp291 = 54 + __cil_tmp290;
#line 2684
  __cil_tmp292 = (unsigned long )raw_cmd;
#line 2684
  __cil_tmp293 = __cil_tmp292 + __cil_tmp291;
#line 2684
  __cil_tmp294 = (unsigned int )tmp___1;
#line 2684
  __cil_tmp295 = 5 * 1UL;
#line 2684
  __cil_tmp296 = 54 + __cil_tmp295;
#line 2684
  __cil_tmp297 = (unsigned long )raw_cmd;
#line 2684
  __cil_tmp298 = __cil_tmp297 + __cil_tmp296;
#line 2684
  __cil_tmp299 = *((unsigned char *)__cil_tmp298);
#line 2684
  __cil_tmp300 = (int )__cil_tmp299;
#line 2684
  __cil_tmp301 = (unsigned long )_floppy;
#line 2684
  __cil_tmp302 = __cil_tmp301 + 4;
#line 2684
  __cil_tmp303 = *((unsigned int *)__cil_tmp302);
#line 2684
  __cil_tmp304 = (unsigned int )fsector_t;
#line 2684
  __cil_tmp305 = __cil_tmp304 % __cil_tmp303;
#line 2684
  __cil_tmp306 = __cil_tmp305 << 2;
#line 2684
  __cil_tmp307 = __cil_tmp306 >> __cil_tmp300;
#line 2684
  __cil_tmp308 = __cil_tmp307 + __cil_tmp294;
#line 2684
  *((unsigned char *)__cil_tmp293) = (unsigned char )__cil_tmp308;
#line 2690
  __cil_tmp309 = (unsigned int )ssize;
#line 2690
  __cil_tmp310 = (unsigned long )_floppy;
#line 2690
  __cil_tmp311 = __cil_tmp310 + 4;
#line 2690
  __cil_tmp312 = *((unsigned int *)__cil_tmp311);
#line 2690
  __cil_tmp313 = __cil_tmp312 % __cil_tmp309;
#line 2690
  __cil_tmp314 = (unsigned long )_floppy;
#line 2690
  __cil_tmp315 = __cil_tmp314 + 4;
#line 2690
  __cil_tmp316 = *((unsigned int *)__cil_tmp315);
#line 2690
  __cil_tmp317 = __cil_tmp316 - __cil_tmp313;
#line 2690
  tracksize = (int )__cil_tmp317;
  {
#line 2691
  __cil_tmp318 = (unsigned long )_floppy;
#line 2691
  __cil_tmp319 = __cil_tmp318 + 4;
#line 2691
  __cil_tmp320 = *((unsigned int *)__cil_tmp319);
#line 2691
  __cil_tmp321 = (unsigned int )tracksize;
#line 2691
  if (__cil_tmp321 < __cil_tmp320) {
#line 2692
    __cil_tmp322 = 6 * 1UL;
#line 2692
    __cil_tmp323 = 54 + __cil_tmp322;
#line 2692
    __cil_tmp324 = (unsigned long )raw_cmd;
#line 2692
    __cil_tmp325 = __cil_tmp324 + __cil_tmp323;
#line 2692
    __cil_tmp326 = 6 * 1UL;
#line 2692
    __cil_tmp327 = 54 + __cil_tmp326;
#line 2692
    __cil_tmp328 = (unsigned long )raw_cmd;
#line 2692
    __cil_tmp329 = __cil_tmp328 + __cil_tmp327;
#line 2692
    __cil_tmp330 = *((unsigned char *)__cil_tmp329);
#line 2692
    __cil_tmp331 = (int )__cil_tmp330;
#line 2692
    __cil_tmp332 = __cil_tmp331 + 1;
#line 2692
    *((unsigned char *)__cil_tmp325) = (unsigned char )__cil_tmp332;
    {
#line 2693
    __cil_tmp333 = (unsigned long )_floppy;
#line 2693
    __cil_tmp334 = __cil_tmp333 + 4;
#line 2693
    __cil_tmp335 = *((unsigned int *)__cil_tmp334);
#line 2693
    __cil_tmp336 = (unsigned int )fsector_t;
#line 2693
    __cil_tmp337 = __cil_tmp336 % __cil_tmp335;
#line 2693
    __cil_tmp338 = (unsigned int )tracksize;
#line 2693
    if (__cil_tmp338 <= __cil_tmp337) {
#line 2694
      __cil_tmp339 = 4 * 1UL;
#line 2694
      __cil_tmp340 = 54 + __cil_tmp339;
#line 2694
      __cil_tmp341 = (unsigned long )raw_cmd;
#line 2694
      __cil_tmp342 = __cil_tmp341 + __cil_tmp340;
#line 2694
      __cil_tmp343 = 4 * 1UL;
#line 2694
      __cil_tmp344 = 54 + __cil_tmp343;
#line 2694
      __cil_tmp345 = (unsigned long )raw_cmd;
#line 2694
      __cil_tmp346 = __cil_tmp345 + __cil_tmp344;
#line 2694
      __cil_tmp347 = *((unsigned char *)__cil_tmp346);
#line 2694
      __cil_tmp348 = (int )__cil_tmp347;
#line 2694
      __cil_tmp349 = __cil_tmp348 - 1;
#line 2694
      *((unsigned char *)__cil_tmp342) = (unsigned char )__cil_tmp349;
    } else {

    }
    }
    {
#line 2697
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 2697
      __cil_tmp350 = (unsigned long )_floppy;
#line 2697
      __cil_tmp351 = __cil_tmp350 + 4;
#line 2697
      __cil_tmp352 = *((unsigned int *)__cil_tmp351);
#line 2697
      __cil_tmp353 = (unsigned int )fsector_t;
#line 2697
      __cil_tmp354 = __cil_tmp353 % __cil_tmp352;
#line 2697
      __cil_tmp355 = (unsigned int )tracksize;
#line 2697
      if (__cil_tmp355 <= __cil_tmp354) {

      } else {
#line 2697
        goto while_break;
      }
      }
      {
#line 2698
      while (1) {
        while_continue___0: /* CIL Label */ ;
        {
#line 2698
        __cil_tmp356 = (unsigned long )_floppy;
#line 2698
        __cil_tmp357 = __cil_tmp356 + 4;
#line 2698
        __cil_tmp358 = *((unsigned int *)__cil_tmp357);
#line 2698
        __cil_tmp359 = tracksize + ssize;
#line 2698
        __cil_tmp360 = (unsigned int )__cil_tmp359;
#line 2698
        if (__cil_tmp360 > __cil_tmp358) {

        } else {
#line 2698
          goto while_break___0;
        }
        }
#line 2699
        __cil_tmp361 = 5 * 1UL;
#line 2699
        __cil_tmp362 = 54 + __cil_tmp361;
#line 2699
        __cil_tmp363 = (unsigned long )raw_cmd;
#line 2699
        __cil_tmp364 = __cil_tmp363 + __cil_tmp362;
#line 2699
        __cil_tmp365 = 5 * 1UL;
#line 2699
        __cil_tmp366 = 54 + __cil_tmp365;
#line 2699
        __cil_tmp367 = (unsigned long )raw_cmd;
#line 2699
        __cil_tmp368 = __cil_tmp367 + __cil_tmp366;
#line 2699
        __cil_tmp369 = *((unsigned char *)__cil_tmp368);
#line 2699
        __cil_tmp370 = (int )__cil_tmp369;
#line 2699
        __cil_tmp371 = __cil_tmp370 - 1;
#line 2699
        *((unsigned char *)__cil_tmp364) = (unsigned char )__cil_tmp371;
#line 2700
        ssize = ssize >> 1;
      }
      while_break___0: /* CIL Label */ ;
      }
#line 2702
      __cil_tmp372 = 4 * 1UL;
#line 2702
      __cil_tmp373 = 54 + __cil_tmp372;
#line 2702
      __cil_tmp374 = (unsigned long )raw_cmd;
#line 2702
      __cil_tmp375 = __cil_tmp374 + __cil_tmp373;
#line 2702
      __cil_tmp376 = 4 * 1UL;
#line 2702
      __cil_tmp377 = 54 + __cil_tmp376;
#line 2702
      __cil_tmp378 = (unsigned long )raw_cmd;
#line 2702
      __cil_tmp379 = __cil_tmp378 + __cil_tmp377;
#line 2702
      __cil_tmp380 = *((unsigned char *)__cil_tmp379);
#line 2702
      __cil_tmp381 = (int )__cil_tmp380;
#line 2702
      __cil_tmp382 = __cil_tmp381 + 1;
#line 2702
      *((unsigned char *)__cil_tmp375) = (unsigned char )__cil_tmp382;
#line 2703
      __cil_tmp383 = 6 * 1UL;
#line 2703
      __cil_tmp384 = 54 + __cil_tmp383;
#line 2703
      __cil_tmp385 = (unsigned long )raw_cmd;
#line 2703
      __cil_tmp386 = __cil_tmp385 + __cil_tmp384;
#line 2703
      __cil_tmp387 = 6 * 1UL;
#line 2703
      __cil_tmp388 = 54 + __cil_tmp387;
#line 2703
      __cil_tmp389 = (unsigned long )raw_cmd;
#line 2703
      __cil_tmp390 = __cil_tmp389 + __cil_tmp388;
#line 2703
      __cil_tmp391 = *((unsigned char *)__cil_tmp390);
#line 2703
      __cil_tmp392 = (int )__cil_tmp391;
#line 2703
      __cil_tmp393 = __cil_tmp392 + 1;
#line 2703
      *((unsigned char *)__cil_tmp386) = (unsigned char )__cil_tmp393;
#line 2704
      tracksize = tracksize + ssize;
    }
    while_break: /* CIL Label */ ;
    }
#line 2706
    __cil_tmp394 = (unsigned int )tracksize;
#line 2706
    __cil_tmp395 = (unsigned long )_floppy;
#line 2706
    __cil_tmp396 = __cil_tmp395 + 4;
#line 2706
    __cil_tmp397 = *((unsigned int *)__cil_tmp396);
#line 2706
    __cil_tmp398 = 3 * 1UL;
#line 2706
    __cil_tmp399 = 54 + __cil_tmp398;
#line 2706
    __cil_tmp400 = (unsigned long )raw_cmd;
#line 2706
    __cil_tmp401 = __cil_tmp400 + __cil_tmp399;
#line 2706
    __cil_tmp402 = *((unsigned char *)__cil_tmp401);
#line 2706
    __cil_tmp403 = (unsigned int )__cil_tmp402;
#line 2706
    __cil_tmp404 = __cil_tmp403 * __cil_tmp397;
#line 2706
    __cil_tmp405 = __cil_tmp404 + __cil_tmp394;
#line 2706
    max_sector = (int )__cil_tmp405;
  } else {
    {
#line 2707
    __cil_tmp406 = 2 * 1UL;
#line 2707
    __cil_tmp407 = 54 + __cil_tmp406;
#line 2707
    __cil_tmp408 = (unsigned long )raw_cmd;
#line 2707
    __cil_tmp409 = __cil_tmp408 + __cil_tmp407;
#line 2707
    __cil_tmp410 = *((unsigned char *)__cil_tmp409);
#line 2707
    if (! __cil_tmp410) {
      {
#line 2707
      __cil_tmp411 = 3 * 1UL;
#line 2707
      __cil_tmp412 = 54 + __cil_tmp411;
#line 2707
      __cil_tmp413 = (unsigned long )raw_cmd;
#line 2707
      __cil_tmp414 = __cil_tmp413 + __cil_tmp412;
#line 2707
      __cil_tmp415 = *((unsigned char *)__cil_tmp414);
#line 2707
      if (! __cil_tmp415) {
        {
#line 2707
        __cil_tmp416 = (unsigned long )_floppy;
#line 2707
        __cil_tmp417 = __cil_tmp416 + 21;
#line 2707
        __cil_tmp418 = *((unsigned char *)__cil_tmp417);
#line 2707
        __cil_tmp419 = (int )__cil_tmp418;
#line 2707
        __cil_tmp420 = __cil_tmp419 & 4;
#line 2707
        if (! __cil_tmp420) {
#line 2707
          if (probing) {
#line 2708
            __cil_tmp421 = (unsigned long )_floppy;
#line 2708
            __cil_tmp422 = __cil_tmp421 + 4;
#line 2708
            __cil_tmp423 = *((unsigned int *)__cil_tmp422);
#line 2708
            max_sector = (int )__cil_tmp423;
          } else {
#line 2707
            goto _L___3;
          }
        } else {
#line 2707
          goto _L___3;
        }
        }
      } else {
#line 2707
        goto _L___3;
      }
      }
    } else {
      _L___3: 
      {
#line 2709
      __cil_tmp424 = 3 * 1UL;
#line 2709
      __cil_tmp425 = 54 + __cil_tmp424;
#line 2709
      __cil_tmp426 = (unsigned long )raw_cmd;
#line 2709
      __cil_tmp427 = __cil_tmp426 + __cil_tmp425;
#line 2709
      __cil_tmp428 = *((unsigned char *)__cil_tmp427);
#line 2709
      if (! __cil_tmp428) {
        {
#line 2709
        __cil_tmp429 = 0 * 1UL;
#line 2709
        __cil_tmp430 = 54 + __cil_tmp429;
#line 2709
        __cil_tmp431 = (unsigned long )raw_cmd;
#line 2709
        __cil_tmp432 = __cil_tmp431 + __cil_tmp430;
#line 2709
        __cil_tmp433 = *((unsigned char *)__cil_tmp432);
#line 2709
        __cil_tmp434 = (int )__cil_tmp433;
#line 2709
        __cil_tmp435 = __cil_tmp434 | 192;
#line 2709
        if (__cil_tmp435 == 197) {
#line 2711
          __cil_tmp436 = (unsigned long )_floppy;
#line 2711
          __cil_tmp437 = __cil_tmp436 + 4;
#line 2711
          __cil_tmp438 = *((unsigned int *)__cil_tmp437);
#line 2711
          max_sector = (int )__cil_tmp438;
        } else {

        }
        }
      } else {

      }
      }
    }
    }
  }
  }
#line 2714
  __cil_tmp439 = (unsigned int )ssize;
#line 2714
  __cil_tmp440 = (unsigned long )_floppy;
#line 2714
  __cil_tmp441 = __cil_tmp440 + 4;
#line 2714
  __cil_tmp442 = *((unsigned int *)__cil_tmp441);
#line 2714
  __cil_tmp443 = (unsigned int )fsector_t;
#line 2714
  __cil_tmp444 = __cil_tmp443 % __cil_tmp442;
#line 2714
  __cil_tmp445 = __cil_tmp444 % __cil_tmp439;
#line 2714
  in_sector_offset = (unsigned char )__cil_tmp445;
#line 2715
  __cil_tmp446 = (int )in_sector_offset;
#line 2715
  __cil_tmp447 = (int )fsector_t;
#line 2715
  aligned_sector_t = __cil_tmp447 - __cil_tmp446;
#line 2716
  __cil_tmp448 = (unsigned long )current_req;
#line 2716
  __cil_tmp449 = __cil_tmp448 + 56;
#line 2716
  __cil_tmp450 = *((unsigned long *)__cil_tmp449);
#line 2716
  max_size = (int )__cil_tmp450;
  {
#line 2717
  __cil_tmp451 = (unsigned long )raw_cmd;
#line 2717
  __cil_tmp452 = __cil_tmp451 + 88;
#line 2717
  __cil_tmp453 = *((int *)__cil_tmp452);
#line 2717
  if (__cil_tmp453 == buffer_track) {
    {
#line 2717
    __cil_tmp454 = (int )current_drive;
#line 2717
    if (__cil_tmp454 == buffer_drive) {
      {
#line 2717
      __cil_tmp455 = (int )fsector_t;
#line 2717
      if (__cil_tmp455 >= buffer_min) {
        {
#line 2717
        __cil_tmp456 = (int )fsector_t;
#line 2717
        if (__cil_tmp456 < buffer_max) {
          {
#line 2721
          __cil_tmp457 = 0 * 1UL;
#line 2721
          __cil_tmp458 = 54 + __cil_tmp457;
#line 2721
          __cil_tmp459 = (unsigned long )raw_cmd;
#line 2721
          __cil_tmp460 = __cil_tmp459 + __cil_tmp458;
#line 2721
          __cil_tmp461 = *((unsigned char *)__cil_tmp460);
#line 2721
          __cil_tmp462 = (int )__cil_tmp461;
#line 2721
          __cil_tmp463 = __cil_tmp462 | 192;
#line 2721
          if (__cil_tmp463 == 230) {
            {
#line 2722
            copy_buffer(1, max_sector, buffer_max);
            }
#line 2723
            return (1);
          } else {

          }
          }
        } else {
#line 2717
          goto _L___9;
        }
        }
      } else {
#line 2717
        goto _L___9;
      }
      }
    } else {
#line 2717
      goto _L___9;
    }
    }
  } else
  _L___9: 
#line 2725
  if (in_sector_offset) {
#line 2725
    goto _L___6;
  } else {
    {
#line 2725
    __cil_tmp464 = (unsigned long )ssize;
#line 2725
    __cil_tmp465 = (unsigned long )current_req;
#line 2725
    __cil_tmp466 = __cil_tmp465 + 56;
#line 2725
    __cil_tmp467 = *((unsigned long *)__cil_tmp466);
#line 2725
    if (__cil_tmp467 < __cil_tmp464) {
      _L___6: 
      {
#line 2726
      __cil_tmp468 = 0 * 1UL;
#line 2726
      __cil_tmp469 = 54 + __cil_tmp468;
#line 2726
      __cil_tmp470 = (unsigned long )raw_cmd;
#line 2726
      __cil_tmp471 = __cil_tmp470 + __cil_tmp469;
#line 2726
      __cil_tmp472 = *((unsigned char *)__cil_tmp471);
#line 2726
      __cil_tmp473 = (int )__cil_tmp472;
#line 2726
      __cil_tmp474 = __cil_tmp473 | 192;
#line 2726
      if (__cil_tmp474 == 197) {
        {
#line 2727
        __cil_tmp475 = (unsigned long )ssize;
#line 2727
        __cil_tmp476 = (unsigned long )current_req;
#line 2727
        __cil_tmp477 = __cil_tmp476 + 56;
#line 2727
        __cil_tmp478 = *((unsigned long *)__cil_tmp477);
#line 2727
        __cil_tmp479 = (unsigned long )fsector_t;
#line 2727
        __cil_tmp480 = __cil_tmp479 + __cil_tmp478;
#line 2727
        if (__cil_tmp480 > __cil_tmp475) {
          {
#line 2727
          __cil_tmp481 = ssize + ssize;
#line 2727
          __cil_tmp482 = (unsigned long )__cil_tmp481;
#line 2727
          __cil_tmp483 = (unsigned long )current_req;
#line 2727
          __cil_tmp484 = __cil_tmp483 + 56;
#line 2727
          __cil_tmp485 = *((unsigned long *)__cil_tmp484);
#line 2727
          __cil_tmp486 = (unsigned long )fsector_t;
#line 2727
          __cil_tmp487 = __cil_tmp486 + __cil_tmp485;
#line 2727
          if (__cil_tmp487 < __cil_tmp482) {
#line 2729
            max_size = ssize + ssize;
          } else {
#line 2731
            max_size = ssize;
          }
          }
        } else {
#line 2731
          max_size = ssize;
        }
        }
      } else {

      }
      }
#line 2733
      __cil_tmp488 = *((unsigned int *)raw_cmd);
#line 2733
      *((unsigned int *)raw_cmd) = __cil_tmp488 & 4294967293U;
#line 2734
      __cil_tmp489 = *((unsigned int *)raw_cmd);
#line 2734
      *((unsigned int *)raw_cmd) = __cil_tmp489 | 1U;
#line 2735
      __cil_tmp490 = 0 * 1UL;
#line 2735
      __cil_tmp491 = 54 + __cil_tmp490;
#line 2735
      __cil_tmp492 = (unsigned long )raw_cmd;
#line 2735
      __cil_tmp493 = __cil_tmp492 + __cil_tmp491;
#line 2735
      __cil_tmp494 = (unsigned long )_floppy;
#line 2735
      __cil_tmp495 = __cil_tmp494 + 21;
#line 2735
      __cil_tmp496 = *((unsigned char *)__cil_tmp495);
#line 2735
      __cil_tmp497 = (int )__cil_tmp496;
#line 2735
      __cil_tmp498 = __cil_tmp497 & 128;
#line 2735
      __cil_tmp499 = __cil_tmp498 >> 1;
#line 2735
      __cil_tmp500 = ~ __cil_tmp499;
#line 2735
      __cil_tmp501 = 230 & __cil_tmp500;
#line 2735
      *((unsigned char *)__cil_tmp493) = (unsigned char )__cil_tmp501;
    } else {
      {
#line 2736
      __cil_tmp502 = (unsigned long )current_req;
#line 2736
      __cil_tmp503 = __cil_tmp502 + 104;
#line 2736
      __cil_tmp504 = *((char **)__cil_tmp503);
#line 2736
      __cil_tmp505 = (unsigned long )__cil_tmp504;
#line 2736
      if (__cil_tmp505 < 3238002688UL) {
        {
#line 2740
        __cil_tmp506 = max_buffer_sectors * 2;
#line 2740
        tmp___2 = transfer_size(ssize, max_sector, __cil_tmp506);
#line 2740
        __cil_tmp507 = (int )fsector_t;
#line 2740
        indirect = tmp___2 - __cil_tmp507;
#line 2748
        max_size = buffer_chain_size();
#line 2749
        __cil_tmp508 = (unsigned long )current_req;
#line 2749
        __cil_tmp509 = __cil_tmp508 + 104;
#line 2749
        __cil_tmp510 = *((char **)__cil_tmp509);
#line 2749
        __cil_tmp511 = (unsigned long )__cil_tmp510;
#line 2749
        __cil_tmp512 = 3238002688UL - __cil_tmp511;
#line 2749
        dma_limit = __cil_tmp512 >> 9;
        }
        {
#line 2752
        __cil_tmp513 = (unsigned long )max_size;
#line 2752
        if (__cil_tmp513 > dma_limit) {
#line 2753
          max_size = (int )dma_limit;
        } else {

        }
        }
        {
#line 2756
        __cil_tmp514 = (unsigned long )current_req;
#line 2756
        __cil_tmp515 = __cil_tmp514 + 104;
#line 2756
        __cil_tmp516 = *((char **)__cil_tmp515);
#line 2756
        __cil_tmp517 = max_size << 9;
#line 2756
        tmp___3 = CROSS_64KB(__cil_tmp516, __cil_tmp517);
        }
#line 2756
        if (tmp___3) {
#line 2757
          __cil_tmp518 = (unsigned long )current_req;
#line 2757
          __cil_tmp519 = __cil_tmp518 + 104;
#line 2757
          __cil_tmp520 = *((char **)__cil_tmp519);
#line 2757
          __cil_tmp521 = (unsigned long )__cil_tmp520;
#line 2757
          __cil_tmp522 = __cil_tmp521 % 65536UL;
#line 2757
          __cil_tmp523 = 65536UL - __cil_tmp522;
#line 2757
          __cil_tmp524 = __cil_tmp523 >> 9;
#line 2757
          max_size = (int )__cil_tmp524;
        } else {

        }
        {
#line 2760
        tmp___4 = transfer_size(ssize, max_sector, max_size);
#line 2760
        __cil_tmp525 = (int )fsector_t;
#line 2760
        direct = tmp___4 - __cil_tmp525;
        }
#line 2768
        if (! direct) {
#line 2774
          __cil_tmp526 = (unsigned long )current_req;
#line 2774
          __cil_tmp527 = __cil_tmp526 + 56;
#line 2774
          __cil_tmp528 = *((unsigned long *)__cil_tmp527);
#line 2774
          max_size = (int )__cil_tmp528;
        } else {
          {
#line 2768
          __cil_tmp529 = direct * 3;
#line 2768
          __cil_tmp530 = indirect * 2;
#line 2768
          if (__cil_tmp530 > __cil_tmp529) {
            {
#line 2768
            __cil_tmp531 = 76 + 4;
#line 2768
            __cil_tmp532 = current_drive * 128UL;
#line 2768
            __cil_tmp533 = __cil_tmp532 + __cil_tmp531;
#line 2768
            __cil_tmp534 = (unsigned long )(drive_params) + __cil_tmp533;
#line 2768
            __cil_tmp535 = *((unsigned int *)__cil_tmp534);
#line 2768
            __cil_tmp536 = *errors;
#line 2768
            __cil_tmp537 = (unsigned int )__cil_tmp536;
#line 2768
            if (__cil_tmp537 < __cil_tmp535) {
#line 2768
              if (! probing) {
#line 2774
                __cil_tmp538 = (unsigned long )current_req;
#line 2774
                __cil_tmp539 = __cil_tmp538 + 56;
#line 2774
                __cil_tmp540 = *((unsigned long *)__cil_tmp539);
#line 2774
                max_size = (int )__cil_tmp540;
              } else {
                {
#line 2768
                __cil_tmp541 = current_drive * 80UL;
#line 2768
                __cil_tmp542 = __cil_tmp541 + 32;
#line 2768
                __cil_tmp543 = (unsigned long )(drive_state) + __cil_tmp542;
#line 2768
                __cil_tmp544 = *((short *)__cil_tmp543);
#line 2768
                __cil_tmp545 = (int )__cil_tmp544;
#line 2768
                __cil_tmp546 = 1 << __cil_tmp545;
#line 2768
                __cil_tmp547 = current_drive * 128UL;
#line 2768
                __cil_tmp548 = __cil_tmp547 + 97;
#line 2768
                __cil_tmp549 = (unsigned long )(drive_params) + __cil_tmp548;
#line 2768
                __cil_tmp550 = *((char *)__cil_tmp549);
#line 2768
                __cil_tmp551 = (int )__cil_tmp550;
#line 2768
                if (__cil_tmp551 & __cil_tmp546) {
#line 2774
                  __cil_tmp552 = (unsigned long )current_req;
#line 2774
                  __cil_tmp553 = __cil_tmp552 + 56;
#line 2774
                  __cil_tmp554 = *((unsigned long *)__cil_tmp553);
#line 2774
                  max_size = (int )__cil_tmp554;
                } else {
#line 2768
                  goto _L___5;
                }
                }
              }
            } else {
#line 2768
              goto _L___5;
            }
            }
          } else {
            _L___5: 
#line 2776
            __cil_tmp555 = (unsigned long )raw_cmd;
#line 2776
            __cil_tmp556 = __cil_tmp555 + 16;
#line 2776
            __cil_tmp557 = (unsigned long )current_req;
#line 2776
            __cil_tmp558 = __cil_tmp557 + 104;
#line 2776
            *((char **)__cil_tmp556) = *((char **)__cil_tmp558);
#line 2777
            __cil_tmp559 = (unsigned long )raw_cmd;
#line 2777
            __cil_tmp560 = __cil_tmp559 + 32;
#line 2777
            *((long *)__cil_tmp560) = current_count_sectors << 9;
            {
#line 2778
            __cil_tmp561 = (unsigned long )raw_cmd;
#line 2778
            __cil_tmp562 = __cil_tmp561 + 32;
#line 2778
            __cil_tmp563 = *((long *)__cil_tmp562);
#line 2778
            if (__cil_tmp563 == 0L) {
              {
#line 2779
              __cil_tmp564 = (int )current_drive;
#line 2779
              printk("floppy%d: zero dma transfer attempted from make_raw_request\n",
                     __cil_tmp564);
#line 2781
              __cil_tmp565 = (int )current_drive;
#line 2781
              __cil_tmp566 = (int )fsector_t;
#line 2781
              printk("floppy%d: indirect=%d direct=%d fsector_t=%d", __cil_tmp565,
                     indirect, direct, __cil_tmp566);
              }
#line 2783
              return (0);
            } else {

            }
            }
            {
#line 2789
            virtualdmabug_workaround();
            }
#line 2790
            return (2);
          }
          }
        }
      } else {

      }
      }
    }
    }
  }
  }
  {
#line 2794
  __cil_tmp567 = 0 * 1UL;
#line 2794
  __cil_tmp568 = 54 + __cil_tmp567;
#line 2794
  __cil_tmp569 = (unsigned long )raw_cmd;
#line 2794
  __cil_tmp570 = __cil_tmp569 + __cil_tmp568;
#line 2794
  __cil_tmp571 = *((unsigned char *)__cil_tmp570);
#line 2794
  __cil_tmp572 = (int )__cil_tmp571;
#line 2794
  __cil_tmp573 = __cil_tmp572 | 192;
#line 2794
  if (__cil_tmp573 == 230) {
#line 2795
    max_size = max_sector;
  } else {

  }
  }
  {
#line 2798
  __cil_tmp574 = (unsigned long )raw_cmd;
#line 2798
  __cil_tmp575 = __cil_tmp574 + 88;
#line 2798
  __cil_tmp576 = *((int *)__cil_tmp575);
#line 2798
  if (buffer_track != __cil_tmp576) {
#line 2808
    buffer_track = -1;
#line 2809
    buffer_drive = (int )current_drive;
#line 2810
    buffer_min = aligned_sector_t;
#line 2810
    buffer_max = buffer_min;
  } else {
    {
#line 2798
    __cil_tmp577 = (int )current_drive;
#line 2798
    if (buffer_drive != __cil_tmp577) {
#line 2808
      buffer_track = -1;
#line 2809
      buffer_drive = (int )current_drive;
#line 2810
      buffer_min = aligned_sector_t;
#line 2810
      buffer_max = buffer_min;
    } else {
      {
#line 2798
      __cil_tmp578 = (int )fsector_t;
#line 2798
      if (__cil_tmp578 > buffer_max) {
#line 2808
        buffer_track = -1;
#line 2809
        buffer_drive = (int )current_drive;
#line 2810
        buffer_min = aligned_sector_t;
#line 2810
        buffer_max = buffer_min;
      } else {
        {
#line 2798
        __cil_tmp579 = (int )fsector_t;
#line 2798
        if (__cil_tmp579 < buffer_min) {
#line 2808
          buffer_track = -1;
#line 2809
          buffer_drive = (int )current_drive;
#line 2810
          buffer_min = aligned_sector_t;
#line 2810
          buffer_max = buffer_min;
        } else {
          {
#line 2798
          __cil_tmp580 = 0 * 1UL;
#line 2798
          __cil_tmp581 = 54 + __cil_tmp580;
#line 2798
          __cil_tmp582 = (unsigned long )raw_cmd;
#line 2798
          __cil_tmp583 = __cil_tmp582 + __cil_tmp581;
#line 2798
          __cil_tmp584 = *((unsigned char *)__cil_tmp583);
#line 2798
          __cil_tmp585 = (int )__cil_tmp584;
#line 2798
          __cil_tmp586 = __cil_tmp585 | 192;
#line 2798
          if (__cil_tmp586 == 230) {
#line 2798
            goto _L___10;
          } else
#line 2798
          if (! in_sector_offset) {
            {
#line 2798
            __cil_tmp587 = (unsigned long )ssize;
#line 2798
            __cil_tmp588 = (unsigned long )current_req;
#line 2798
            __cil_tmp589 = __cil_tmp588 + 56;
#line 2798
            __cil_tmp590 = *((unsigned long *)__cil_tmp589);
#line 2798
            if (__cil_tmp590 >= __cil_tmp587) {
              _L___10: 
              {
#line 2798
              __cil_tmp591 = 2 * max_buffer_sectors;
#line 2798
              __cil_tmp592 = __cil_tmp591 + buffer_min;
#line 2798
              if (max_sector > __cil_tmp592) {
                {
#line 2798
                __cil_tmp593 = 2 * max_buffer_sectors;
#line 2798
                __cil_tmp594 = __cil_tmp593 + buffer_min;
#line 2798
                __cil_tmp595 = (int )fsector_t;
#line 2798
                __cil_tmp596 = max_size + __cil_tmp595;
#line 2798
                if (__cil_tmp596 > __cil_tmp594) {
#line 2808
                  buffer_track = -1;
#line 2809
                  buffer_drive = (int )current_drive;
#line 2810
                  buffer_min = aligned_sector_t;
#line 2810
                  buffer_max = buffer_min;
                } else {

                }
                }
              } else {

              }
              }
            } else {

            }
            }
          } else {

          }
          }
        }
        }
      }
      }
    }
    }
  }
  }
#line 2812
  __cil_tmp597 = (unsigned long )raw_cmd;
#line 2812
  __cil_tmp598 = __cil_tmp597 + 16;
#line 2812
  __cil_tmp599 = aligned_sector_t - buffer_min;
#line 2812
  __cil_tmp600 = __cil_tmp599 << 9;
#line 2812
  *((char **)__cil_tmp598) = floppy_track_buffer + __cil_tmp600;
  {
#line 2815
  __cil_tmp601 = 0 * 1UL;
#line 2815
  __cil_tmp602 = 54 + __cil_tmp601;
#line 2815
  __cil_tmp603 = (unsigned long )raw_cmd;
#line 2815
  __cil_tmp604 = __cil_tmp603 + __cil_tmp602;
#line 2815
  __cil_tmp605 = *((unsigned char *)__cil_tmp604);
#line 2815
  __cil_tmp606 = (int )__cil_tmp605;
#line 2815
  __cil_tmp607 = __cil_tmp606 | 192;
#line 2815
  if (__cil_tmp607 == 197) {
#line 2821
    if (in_sector_offset) {
#line 2821
      if (buffer_track == -1) {
        {
#line 2822
        __cil_tmp608 = (int )current_drive;
#line 2822
        printk("floppy%d: internal error offset !=0 on write\n", __cil_tmp608);
        }
      } else {

      }
    } else {

    }
    {
#line 2824
    __cil_tmp609 = (unsigned long )raw_cmd;
#line 2824
    __cil_tmp610 = __cil_tmp609 + 88;
#line 2824
    buffer_track = *((int *)__cil_tmp610);
#line 2825
    buffer_drive = (int )current_drive;
#line 2826
    __cil_tmp611 = 2 * max_buffer_sectors;
#line 2826
    __cil_tmp612 = __cil_tmp611 + buffer_min;
#line 2826
    copy_buffer(ssize, max_sector, __cil_tmp612);
    }
  } else {
    {
#line 2829
    __cil_tmp613 = 2 * max_buffer_sectors;
#line 2829
    __cil_tmp614 = __cil_tmp613 + buffer_min;
#line 2829
    __cil_tmp615 = __cil_tmp614 - aligned_sector_t;
#line 2829
    transfer_size(ssize, max_sector, __cil_tmp615);
    }
  }
  }
#line 2834
  __cil_tmp616 = (unsigned long )raw_cmd;
#line 2834
  __cil_tmp617 = __cil_tmp616 + 32;
#line 2834
  __cil_tmp618 = (long )in_sector_offset;
#line 2834
  *((long *)__cil_tmp617) = __cil_tmp618 + current_count_sectors;
#line 2835
  __cil_tmp619 = (unsigned long )raw_cmd;
#line 2835
  __cil_tmp620 = __cil_tmp619 + 32;
#line 2835
  __cil_tmp621 = ssize - 1;
#line 2835
  __cil_tmp622 = (long )__cil_tmp621;
#line 2835
  __cil_tmp623 = (unsigned long )raw_cmd;
#line 2835
  __cil_tmp624 = __cil_tmp623 + 32;
#line 2835
  __cil_tmp625 = *((long *)__cil_tmp624);
#line 2835
  __cil_tmp626 = __cil_tmp625 - 1L;
#line 2835
  __cil_tmp627 = __cil_tmp626 | __cil_tmp622;
#line 2835
  *((long *)__cil_tmp620) = __cil_tmp627 + 1L;
#line 2836
  __cil_tmp628 = (unsigned long )raw_cmd;
#line 2836
  __cil_tmp629 = __cil_tmp628 + 32;
#line 2836
  __cil_tmp630 = (unsigned long )raw_cmd;
#line 2836
  __cil_tmp631 = __cil_tmp630 + 32;
#line 2836
  __cil_tmp632 = *((long *)__cil_tmp631);
#line 2836
  *((long *)__cil_tmp629) = __cil_tmp632 << 9;
  {
#line 2840
  __cil_tmp633 = current_count_sectors << 9;
#line 2840
  __cil_tmp634 = (unsigned long )raw_cmd;
#line 2840
  __cil_tmp635 = __cil_tmp634 + 32;
#line 2840
  __cil_tmp636 = *((long *)__cil_tmp635);
#line 2840
  if (__cil_tmp636 < __cil_tmp633) {
#line 2840
    goto _L___11;
  } else {
    {
#line 2840
    __cil_tmp637 = (unsigned long )current_req;
#line 2840
    __cil_tmp638 = __cil_tmp637 + 104;
#line 2840
    __cil_tmp639 = *((char **)__cil_tmp638);
#line 2840
    __cil_tmp640 = (unsigned long )__cil_tmp639;
#line 2840
    __cil_tmp641 = (unsigned long )raw_cmd;
#line 2840
    __cil_tmp642 = __cil_tmp641 + 16;
#line 2840
    __cil_tmp643 = *((char **)__cil_tmp642);
#line 2840
    __cil_tmp644 = (unsigned long )__cil_tmp643;
#line 2840
    if (__cil_tmp644 != __cil_tmp640) {
      {
#line 2840
      __cil_tmp645 = 0 * 1UL;
#line 2840
      __cil_tmp646 = 54 + __cil_tmp645;
#line 2840
      __cil_tmp647 = (unsigned long )raw_cmd;
#line 2840
      __cil_tmp648 = __cil_tmp647 + __cil_tmp646;
#line 2840
      __cil_tmp649 = *((unsigned char *)__cil_tmp648);
#line 2840
      __cil_tmp650 = (int )__cil_tmp649;
#line 2840
      __cil_tmp651 = __cil_tmp650 | 192;
#line 2840
      if (__cil_tmp651 == 197) {
        {
#line 2840
        __cil_tmp652 = (long )buffer_max;
#line 2840
        __cil_tmp653 = (unsigned long )raw_cmd;
#line 2840
        __cil_tmp654 = __cil_tmp653 + 32;
#line 2840
        __cil_tmp655 = *((long *)__cil_tmp654);
#line 2840
        __cil_tmp656 = __cil_tmp655 >> 9;
#line 2840
        __cil_tmp657 = (long )aligned_sector_t;
#line 2840
        __cil_tmp658 = __cil_tmp657 + __cil_tmp656;
#line 2840
        if (__cil_tmp658 > __cil_tmp652) {
#line 2840
          goto _L___11;
        } else
#line 2840
        if (aligned_sector_t < buffer_min) {
#line 2840
          goto _L___11;
        } else {
#line 2840
          goto _L___13;
        }
        }
      } else {
#line 2840
        goto _L___13;
      }
      }
    } else {
      _L___13: 
      {
#line 2840
      __cil_tmp659 = 5 * 1UL;
#line 2840
      __cil_tmp660 = 54 + __cil_tmp659;
#line 2840
      __cil_tmp661 = (unsigned long )raw_cmd;
#line 2840
      __cil_tmp662 = __cil_tmp661 + __cil_tmp660;
#line 2840
      __cil_tmp663 = *((unsigned char *)__cil_tmp662);
#line 2840
      __cil_tmp664 = (int )__cil_tmp663;
#line 2840
      __cil_tmp665 = 128 << __cil_tmp664;
#line 2840
      __cil_tmp666 = (long )__cil_tmp665;
#line 2840
      __cil_tmp667 = (unsigned long )raw_cmd;
#line 2840
      __cil_tmp668 = __cil_tmp667 + 32;
#line 2840
      __cil_tmp669 = *((long *)__cil_tmp668);
#line 2840
      if (__cil_tmp669 % __cil_tmp666) {
#line 2840
        goto _L___11;
      } else {
        {
#line 2840
        __cil_tmp670 = (unsigned long )raw_cmd;
#line 2840
        __cil_tmp671 = __cil_tmp670 + 32;
#line 2840
        __cil_tmp672 = *((long *)__cil_tmp671);
#line 2840
        if (__cil_tmp672 <= 0L) {
#line 2840
          goto _L___11;
        } else
#line 2840
        if (current_count_sectors <= 0L) {
          _L___11: 
          {
#line 2847
          __cil_tmp673 = (int )current_drive;
#line 2847
          __cil_tmp674 = (unsigned long )raw_cmd;
#line 2847
          __cil_tmp675 = __cil_tmp674 + 32;
#line 2847
          __cil_tmp676 = *((long *)__cil_tmp675);
#line 2847
          printk("floppy%d: fractionary current count b=%lx s=%lx\n", __cil_tmp673,
                 __cil_tmp676, current_count_sectors);
          }
          {
#line 2849
          __cil_tmp677 = (unsigned long )current_req;
#line 2849
          __cil_tmp678 = __cil_tmp677 + 104;
#line 2849
          __cil_tmp679 = *((char **)__cil_tmp678);
#line 2849
          __cil_tmp680 = (unsigned long )__cil_tmp679;
#line 2849
          __cil_tmp681 = (unsigned long )raw_cmd;
#line 2849
          __cil_tmp682 = __cil_tmp681 + 16;
#line 2849
          __cil_tmp683 = *((char **)__cil_tmp682);
#line 2849
          __cil_tmp684 = (unsigned long )__cil_tmp683;
#line 2849
          if (__cil_tmp684 != __cil_tmp680) {
            {
#line 2850
            __cil_tmp685 = (unsigned long )raw_cmd;
#line 2850
            __cil_tmp686 = __cil_tmp685 + 16;
#line 2850
            __cil_tmp687 = *((char **)__cil_tmp686);
#line 2850
            __cil_tmp688 = __cil_tmp687 - floppy_track_buffer;
#line 2850
            __cil_tmp689 = __cil_tmp688 >> 9;
#line 2850
            printk("addr=%d, length=%ld\n", __cil_tmp689, current_count_sectors);
            }
          } else {

          }
          }
          {
#line 2854
          __cil_tmp690 = (int )fsector_t;
#line 2854
          printk("st=%d ast=%d mse=%d msi=%d\n", __cil_tmp690, aligned_sector_t, max_sector,
                 max_size);
#line 2856
          __cil_tmp691 = 5 * 1UL;
#line 2856
          __cil_tmp692 = 54 + __cil_tmp691;
#line 2856
          __cil_tmp693 = (unsigned long )raw_cmd;
#line 2856
          __cil_tmp694 = __cil_tmp693 + __cil_tmp692;
#line 2856
          __cil_tmp695 = *((unsigned char *)__cil_tmp694);
#line 2856
          __cil_tmp696 = (int )__cil_tmp695;
#line 2856
          printk("ssize=%x SIZECODE=%d\n", ssize, __cil_tmp696);
#line 2857
          __cil_tmp697 = 0 * 1UL;
#line 2857
          __cil_tmp698 = 54 + __cil_tmp697;
#line 2857
          __cil_tmp699 = (unsigned long )raw_cmd;
#line 2857
          __cil_tmp700 = __cil_tmp699 + __cil_tmp698;
#line 2857
          __cil_tmp701 = *((unsigned char *)__cil_tmp700);
#line 2857
          __cil_tmp702 = (int )__cil_tmp701;
#line 2857
          __cil_tmp703 = 4 * 1UL;
#line 2857
          __cil_tmp704 = 54 + __cil_tmp703;
#line 2857
          __cil_tmp705 = (unsigned long )raw_cmd;
#line 2857
          __cil_tmp706 = __cil_tmp705 + __cil_tmp704;
#line 2857
          __cil_tmp707 = *((unsigned char *)__cil_tmp706);
#line 2857
          __cil_tmp708 = (int )__cil_tmp707;
#line 2857
          __cil_tmp709 = 3 * 1UL;
#line 2857
          __cil_tmp710 = 54 + __cil_tmp709;
#line 2857
          __cil_tmp711 = (unsigned long )raw_cmd;
#line 2857
          __cil_tmp712 = __cil_tmp711 + __cil_tmp710;
#line 2857
          __cil_tmp713 = *((unsigned char *)__cil_tmp712);
#line 2857
          __cil_tmp714 = (int )__cil_tmp713;
#line 2857
          __cil_tmp715 = 2 * 1UL;
#line 2857
          __cil_tmp716 = 54 + __cil_tmp715;
#line 2857
          __cil_tmp717 = (unsigned long )raw_cmd;
#line 2857
          __cil_tmp718 = __cil_tmp717 + __cil_tmp716;
#line 2857
          __cil_tmp719 = *((unsigned char *)__cil_tmp718);
#line 2857
          __cil_tmp720 = (int )__cil_tmp719;
#line 2857
          printk("command=%x SECTOR=%d HEAD=%d, TRACK=%d\n", __cil_tmp702, __cil_tmp708,
                 __cil_tmp714, __cil_tmp720);
#line 2859
          printk("buffer drive=%d\n", buffer_drive);
#line 2860
          printk("buffer track=%d\n", buffer_track);
#line 2861
          printk("buffer_min=%d\n", buffer_min);
#line 2862
          printk("buffer_max=%d\n", buffer_max);
          }
#line 2863
          return (0);
        } else {

        }
        }
      }
      }
    }
    }
  }
  }
  {
#line 2866
  __cil_tmp721 = (unsigned long )current_req;
#line 2866
  __cil_tmp722 = __cil_tmp721 + 104;
#line 2866
  __cil_tmp723 = *((char **)__cil_tmp722);
#line 2866
  __cil_tmp724 = (unsigned long )__cil_tmp723;
#line 2866
  __cil_tmp725 = (unsigned long )raw_cmd;
#line 2866
  __cil_tmp726 = __cil_tmp725 + 16;
#line 2866
  __cil_tmp727 = *((char **)__cil_tmp726);
#line 2866
  __cil_tmp728 = (unsigned long )__cil_tmp727;
#line 2866
  if (__cil_tmp728 != __cil_tmp724) {
    {
#line 2867
    __cil_tmp729 = (unsigned long )floppy_track_buffer;
#line 2867
    __cil_tmp730 = (unsigned long )raw_cmd;
#line 2867
    __cil_tmp731 = __cil_tmp730 + 16;
#line 2867
    __cil_tmp732 = *((char **)__cil_tmp731);
#line 2867
    __cil_tmp733 = (unsigned long )__cil_tmp732;
#line 2867
    if (__cil_tmp733 < __cil_tmp729) {
#line 2867
      goto _L___14;
    } else
#line 2867
    if (current_count_sectors < 0L) {
#line 2867
      goto _L___14;
    } else {
      {
#line 2867
      __cil_tmp734 = (unsigned long )raw_cmd;
#line 2867
      __cil_tmp735 = __cil_tmp734 + 32;
#line 2867
      __cil_tmp736 = *((long *)__cil_tmp735);
#line 2867
      if (__cil_tmp736 < 0L) {
#line 2867
        goto _L___14;
      } else {
        {
#line 2867
        __cil_tmp737 = max_buffer_sectors << 10;
#line 2867
        __cil_tmp738 = floppy_track_buffer + __cil_tmp737;
#line 2867
        __cil_tmp739 = (unsigned long )__cil_tmp738;
#line 2867
        __cil_tmp740 = (unsigned long )raw_cmd;
#line 2867
        __cil_tmp741 = __cil_tmp740 + 32;
#line 2867
        __cil_tmp742 = *((long *)__cil_tmp741);
#line 2867
        __cil_tmp743 = (unsigned long )raw_cmd;
#line 2867
        __cil_tmp744 = __cil_tmp743 + 16;
#line 2867
        __cil_tmp745 = *((char **)__cil_tmp744);
#line 2867
        __cil_tmp746 = __cil_tmp745 + __cil_tmp742;
#line 2867
        __cil_tmp747 = (unsigned long )__cil_tmp746;
#line 2867
        if (__cil_tmp747 > __cil_tmp739) {
          _L___14: 
          {
#line 2872
          __cil_tmp748 = (int )current_drive;
#line 2872
          printk("floppy%d: buffer overrun in schedule dma\n", __cil_tmp748);
#line 2873
          __cil_tmp749 = (int )fsector_t;
#line 2873
          __cil_tmp750 = (unsigned long )raw_cmd;
#line 2873
          __cil_tmp751 = __cil_tmp750 + 32;
#line 2873
          __cil_tmp752 = *((long *)__cil_tmp751);
#line 2873
          __cil_tmp753 = __cil_tmp752 >> 9;
#line 2873
          printk("fsector_t=%d buffer_min=%d current_count=%ld\n", __cil_tmp749, buffer_min,
                 __cil_tmp753);
#line 2875
          printk("current_count_sectors=%ld\n", current_count_sectors);
          }
          {
#line 2877
          __cil_tmp754 = 0 * 1UL;
#line 2877
          __cil_tmp755 = 54 + __cil_tmp754;
#line 2877
          __cil_tmp756 = (unsigned long )raw_cmd;
#line 2877
          __cil_tmp757 = __cil_tmp756 + __cil_tmp755;
#line 2877
          __cil_tmp758 = *((unsigned char *)__cil_tmp757);
#line 2877
          __cil_tmp759 = (int )__cil_tmp758;
#line 2877
          __cil_tmp760 = __cil_tmp759 | 192;
#line 2877
          if (__cil_tmp760 == 230) {
            {
#line 2878
            printk("read\n");
            }
          } else {

          }
          }
          {
#line 2879
          __cil_tmp761 = 0 * 1UL;
#line 2879
          __cil_tmp762 = 54 + __cil_tmp761;
#line 2879
          __cil_tmp763 = (unsigned long )raw_cmd;
#line 2879
          __cil_tmp764 = __cil_tmp763 + __cil_tmp762;
#line 2879
          __cil_tmp765 = *((unsigned char *)__cil_tmp764);
#line 2879
          __cil_tmp766 = (int )__cil_tmp765;
#line 2879
          __cil_tmp767 = __cil_tmp766 | 192;
#line 2879
          if (__cil_tmp767 == 197) {
            {
#line 2880
            printk("write\n");
            }
          } else {

          }
          }
#line 2881
          return (0);
        } else {

        }
        }
      }
      }
    }
    }
  } else {
    {
#line 2883
    __cil_tmp768 = (unsigned long )current_req;
#line 2883
    __cil_tmp769 = __cil_tmp768 + 56;
#line 2883
    __cil_tmp770 = *((unsigned long *)__cil_tmp769);
#line 2883
    __cil_tmp771 = __cil_tmp770 << 9;
#line 2883
    __cil_tmp772 = (unsigned long )raw_cmd;
#line 2883
    __cil_tmp773 = __cil_tmp772 + 32;
#line 2883
    __cil_tmp774 = *((long *)__cil_tmp773);
#line 2883
    __cil_tmp775 = (unsigned long )__cil_tmp774;
#line 2883
    if (__cil_tmp775 > __cil_tmp771) {
      {
#line 2885
      __cil_tmp776 = (int )current_drive;
#line 2885
      printk("floppy%d: buffer overrun in direct transfer\n", __cil_tmp776);
      }
#line 2886
      return (0);
    } else {
      {
#line 2883
      __cil_tmp777 = (unsigned long )current_req;
#line 2883
      __cil_tmp778 = __cil_tmp777 + 56;
#line 2883
      __cil_tmp779 = *((unsigned long *)__cil_tmp778);
#line 2883
      __cil_tmp780 = (unsigned long )current_count_sectors;
#line 2883
      if (__cil_tmp780 > __cil_tmp779) {
        {
#line 2885
        __cil_tmp781 = (int )current_drive;
#line 2885
        printk("floppy%d: buffer overrun in direct transfer\n", __cil_tmp781);
        }
#line 2886
        return (0);
      } else {
        {
#line 2887
        __cil_tmp782 = current_count_sectors << 9;
#line 2887
        __cil_tmp783 = (unsigned long )raw_cmd;
#line 2887
        __cil_tmp784 = __cil_tmp783 + 32;
#line 2887
        __cil_tmp785 = *((long *)__cil_tmp784);
#line 2887
        if (__cil_tmp785 < __cil_tmp782) {
          {
#line 2888
          __cil_tmp786 = (int )current_drive;
#line 2888
          printk("floppy%d: more sectors than bytes\n", __cil_tmp786);
#line 2889
          __cil_tmp787 = (unsigned long )raw_cmd;
#line 2889
          __cil_tmp788 = __cil_tmp787 + 32;
#line 2889
          __cil_tmp789 = *((long *)__cil_tmp788);
#line 2889
          __cil_tmp790 = __cil_tmp789 >> 9;
#line 2889
          printk("bytes=%ld\n", __cil_tmp790);
#line 2890
          printk("sectors=%ld\n", current_count_sectors);
          }
        } else {

        }
        }
      }
      }
    }
    }
  }
  }
  {
#line 2892
  __cil_tmp791 = (unsigned long )raw_cmd;
#line 2892
  __cil_tmp792 = __cil_tmp791 + 32;
#line 2892
  __cil_tmp793 = *((long *)__cil_tmp792);
#line 2892
  if (__cil_tmp793 == 0L) {
    {
#line 2893
    __cil_tmp794 = (int )current_drive;
#line 2893
    printk("floppy%d: zero dma transfer attempted from make_raw_request\n", __cil_tmp794);
    }
#line 2894
    return (0);
  } else {

  }
  }
  {
#line 2898
  virtualdmabug_workaround();
  }
#line 2899
  return (2);
}
}
#line 2902 "drivers/block/floppy.c"
static void redo_fd_request(void) 
{ int drive ;
  int tmp ;
  struct request *req ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int __cil_tmp9 ;
  unsigned int __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  spinlock_t *__cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  spinlock_t *__cil_tmp16 ;
  void *__cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  struct gendisk *__cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  void *__cil_tmp23 ;
  long __cil_tmp24 ;
  int __cil_tmp25 ;
  int __cil_tmp26 ;
  void const   *__cil_tmp27 ;
  int __cil_tmp28 ;
  void (*__cil_tmp29)(int uptodate ) ;
  unsigned long __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  unsigned long *__cil_tmp32 ;
  void const   *__cil_tmp33 ;
  int __cil_tmp34 ;
  void (*__cil_tmp35)(int uptodate ) ;
  unsigned long __cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  unsigned long __cil_tmp38 ;
  int __cil_tmp39 ;
  void *__cil_tmp40 ;
  void (*__cil_tmp41)(int uptodate ) ;
  unsigned long __cil_tmp42 ;
  unsigned long __cil_tmp43 ;
  unsigned long __cil_tmp44 ;
  short __cil_tmp45 ;
  unsigned long __cil_tmp46 ;
  unsigned long __cil_tmp47 ;
  unsigned long __cil_tmp48 ;
  unsigned long __cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  short __cil_tmp51 ;
  int __cil_tmp52 ;
  unsigned long __cil_tmp53 ;
  unsigned long __cil_tmp54 ;
  struct floppy_struct *__cil_tmp55 ;
  unsigned long __cil_tmp56 ;
  unsigned long __cil_tmp57 ;
  void (*__cil_tmp58)(int uptodate ) ;
  unsigned long __cil_tmp59 ;
  unsigned long __cil_tmp60 ;
  unsigned long *__cil_tmp61 ;
  void const   *__cil_tmp62 ;

  {
#line 2908
  lastredo = jiffies;
  {
#line 2909
  __cil_tmp9 = (int )current_drive;
#line 2909
  if (__cil_tmp9 < 8) {
    {
#line 2910
    __cil_tmp10 = (unsigned int )current_drive;
#line 2910
    floppy_off(__cil_tmp10);
    }
  } else {

  }
  }
  {
#line 2912
  while (1) {
    while_continue: /* CIL Label */ ;
#line 2913
    if (! current_req) {
      {
#line 2916
      __cil_tmp11 = (unsigned long )floppy_queue;
#line 2916
      __cil_tmp12 = __cil_tmp11 + 64;
#line 2916
      __cil_tmp13 = *((spinlock_t **)__cil_tmp12);
#line 2916
      spin_lock_irq(__cil_tmp13);
#line 2917
      req = elv_next_request(floppy_queue);
#line 2918
      __cil_tmp14 = (unsigned long )floppy_queue;
#line 2918
      __cil_tmp15 = __cil_tmp14 + 64;
#line 2918
      __cil_tmp16 = *((spinlock_t **)__cil_tmp15);
#line 2918
      spin_unlock_irq(__cil_tmp16);
      }
#line 2919
      if (! req) {
        {
#line 2920
        __cil_tmp17 = (void *)0;
#line 2920
        do_floppy = (void (*)(void))__cil_tmp17;
#line 2921
        unlock_fdc();
        }
#line 2922
        return;
      } else {

      }
#line 2924
      current_req = req;
    } else {

    }
    {
#line 2926
    __cil_tmp18 = (unsigned long )current_req;
#line 2926
    __cil_tmp19 = __cil_tmp18 + 88;
#line 2926
    __cil_tmp20 = *((struct gendisk **)__cil_tmp19);
#line 2926
    __cil_tmp21 = (unsigned long )__cil_tmp20;
#line 2926
    __cil_tmp22 = __cil_tmp21 + 64;
#line 2926
    __cil_tmp23 = *((void **)__cil_tmp22);
#line 2926
    __cil_tmp24 = (long )__cil_tmp23;
#line 2926
    drive = (int )__cil_tmp24;
#line 2927
    set_fdc(drive);
#line 2928
    reschedule_timeout(-1, "redo fd request", 0);
#line 2930
    set_floppy(drive);
#line 2931
    raw_cmd = & default_raw_cmd;
#line 2932
    *((unsigned int *)raw_cmd) = 0U;
#line 2933
    tmp___0 = start_motor(& redo_fd_request);
    }
#line 2933
    if (tmp___0) {
#line 2934
      return;
    } else {

    }
    {
#line 2935
    __cil_tmp25 = (int )current_drive;
#line 2935
    disk_change(__cil_tmp25);
#line 2936
    __cil_tmp26 = (int )current_drive;
#line 2936
    __cil_tmp27 = (void const   *)(& fake_change);
#line 2936
    tmp___1 = test_bit(__cil_tmp26, __cil_tmp27);
    }
#line 2936
    if (tmp___1) {
      {
#line 2938
      __cil_tmp28 = (int )current_drive;
#line 2938
      printk("floppy%d: disk absent or changed during operation\n", __cil_tmp28);
#line 2939
      __cil_tmp29 = & request_done;
#line 2939
      (*__cil_tmp29)(0);
      }
#line 2939
      goto __Cont;
    } else {
      {
#line 2936
      __cil_tmp30 = current_drive * 80UL;
#line 2936
      __cil_tmp31 = (unsigned long )(drive_state) + __cil_tmp30;
#line 2936
      __cil_tmp32 = (unsigned long *)__cil_tmp31;
#line 2936
      __cil_tmp33 = (void const   *)__cil_tmp32;
#line 2936
      tmp___2 = test_bit(4, __cil_tmp33);
      }
#line 2936
      if (tmp___2) {
        {
#line 2938
        __cil_tmp34 = (int )current_drive;
#line 2938
        printk("floppy%d: disk absent or changed during operation\n", __cil_tmp34);
#line 2939
        __cil_tmp35 = & request_done;
#line 2939
        (*__cil_tmp35)(0);
        }
#line 2939
        goto __Cont;
      } else {

      }
    }
#line 2941
    if (! _floppy) {
#line 2942
      if (! probing) {
        {
#line 2943
        __cil_tmp36 = current_drive * 80UL;
#line 2943
        __cil_tmp37 = __cil_tmp36 + 32;
#line 2943
        __cil_tmp38 = (unsigned long )(drive_state) + __cil_tmp37;
#line 2943
        *((short *)__cil_tmp38) = (short)0;
#line 2944
        tmp___3 = next_valid_format();
        }
#line 2944
        if (tmp___3) {
          {
#line 2945
          __cil_tmp39 = (int )current_drive;
#line 2945
          printk("floppy%d: no autodetectable formats\n", __cil_tmp39);
#line 2946
          __cil_tmp40 = (void *)0;
#line 2946
          _floppy = (struct floppy_struct *)__cil_tmp40;
#line 2947
          __cil_tmp41 = & request_done;
#line 2947
          (*__cil_tmp41)(0);
          }
#line 2947
          goto __Cont;
        } else {

        }
      } else {

      }
#line 2950
      probing = 1;
#line 2951
      __cil_tmp42 = current_drive * 80UL;
#line 2951
      __cil_tmp43 = __cil_tmp42 + 32;
#line 2951
      __cil_tmp44 = (unsigned long )(drive_state) + __cil_tmp43;
#line 2951
      __cil_tmp45 = *((short *)__cil_tmp44);
#line 2951
      __cil_tmp46 = __cil_tmp45 * 2UL;
#line 2951
      __cil_tmp47 = 98 + __cil_tmp46;
#line 2951
      __cil_tmp48 = current_drive * 128UL;
#line 2951
      __cil_tmp49 = __cil_tmp48 + __cil_tmp47;
#line 2951
      __cil_tmp50 = (unsigned long )(drive_params) + __cil_tmp49;
#line 2951
      __cil_tmp51 = *((short *)__cil_tmp50);
#line 2951
      __cil_tmp52 = (int )__cil_tmp51;
#line 2951
      __cil_tmp53 = 0 * 32UL;
#line 2951
      __cil_tmp54 = (unsigned long )(floppy_type) + __cil_tmp53;
#line 2951
      __cil_tmp55 = (struct floppy_struct *)__cil_tmp54;
#line 2951
      _floppy = __cil_tmp55 + __cil_tmp52;
    } else {
#line 2954
      probing = 0;
    }
    {
#line 2955
    __cil_tmp56 = (unsigned long )current_req;
#line 2955
    __cil_tmp57 = __cil_tmp56 + 112;
#line 2955
    errors = (int *)__cil_tmp57;
#line 2956
    tmp = make_raw_rw_request();
    }
#line 2957
    if (tmp < 2) {
      {
#line 2958
      __cil_tmp58 = & request_done;
#line 2958
      (*__cil_tmp58)(tmp);
      }
#line 2959
      goto __Cont;
    } else {

    }
    {
#line 2962
    __cil_tmp59 = current_drive * 80UL;
#line 2962
    __cil_tmp60 = (unsigned long )(drive_state) + __cil_tmp59;
#line 2962
    __cil_tmp61 = (unsigned long *)__cil_tmp60;
#line 2962
    __cil_tmp62 = (void const   *)__cil_tmp61;
#line 2962
    tmp___4 = test_bit(0, __cil_tmp62);
    }
#line 2962
    if (tmp___4) {
      {
#line 2963
      twaddle();
      }
    } else {

    }
    {
#line 2964
    schedule_bh(& floppy_start);
#line 2965
    debugt("queue fd request");
    }
#line 2966
    return;
    __Cont: ;
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 2971 "drivers/block/floppy.c"
static struct cont_t rw_cont  =    {& rw_interrupt, & redo_fd_request, & bad_flp_intr, & request_done};
#line 2978 "drivers/block/floppy.c"
static void process_fd_request(void) 
{ 

  {
  {
#line 2980
  cont = & rw_cont;
#line 2981
  schedule_bh(& redo_fd_request);
  }
#line 2982
  return;
}
}
#line 2984 "drivers/block/floppy.c"
static void do_fd_request(request_queue_t *q ) 
{ int tmp ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  sector_t __cil_tmp5 ;
  long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  enum rq_cmd_type_bits __cil_tmp9 ;
  unsigned int __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned int __cil_tmp13 ;
  void const   *__cil_tmp14 ;
  void (*__cil_tmp15)(void) ;

  {
#line 2986
  if (max_buffer_sectors == 0) {
    {
#line 2987
    printk("VFS: do_fd_request called on non-open device\n");
    }
#line 2988
    return;
  } else {

  }
#line 2991
  if (usage_count == 0) {
    {
#line 2992
    printk("warning: usage count=0, current_req=%p exiting\n", current_req);
#line 2994
    __cil_tmp3 = (unsigned long )current_req;
#line 2994
    __cil_tmp4 = __cil_tmp3 + 48;
#line 2994
    __cil_tmp5 = *((sector_t *)__cil_tmp4);
#line 2994
    __cil_tmp6 = (long )__cil_tmp5;
#line 2994
    __cil_tmp7 = (unsigned long )current_req;
#line 2994
    __cil_tmp8 = __cil_tmp7 + 44;
#line 2994
    __cil_tmp9 = *((enum rq_cmd_type_bits *)__cil_tmp8);
#line 2994
    __cil_tmp10 = (unsigned int )__cil_tmp9;
#line 2994
    __cil_tmp11 = (unsigned long )current_req;
#line 2994
    __cil_tmp12 = __cil_tmp11 + 40;
#line 2994
    __cil_tmp13 = *((unsigned int *)__cil_tmp12);
#line 2994
    printk("sect=%ld type=%x flags=%x\n", __cil_tmp6, __cil_tmp10, __cil_tmp13);
    }
#line 2996
    return;
  } else {

  }
  {
#line 2998
  __cil_tmp14 = (void const   *)(& fdc_busy);
#line 2998
  tmp = test_bit(0, __cil_tmp14);
  }
#line 2998
  if (tmp) {
    {
#line 3001
    is_alive("do fd request, old request running");
    }
#line 3002
    return;
  } else {

  }
  {
#line 3004
  _lock_fdc(-2, 0, 3004);
#line 3005
  __cil_tmp15 = & process_fd_request;
#line 3005
  (*__cil_tmp15)();
#line 3006
  is_alive("do fd request");
  }
#line 3007
  return;
}
}
#line 3009 "drivers/block/floppy.c"
static struct cont_t poll_cont  =    {& success_and_wakeup, & floppy_ready, & generic_failure, & generic_done};
#line 3016 "drivers/block/floppy.c"
static int poll_drive(int interruptible , int flag ) 
{ int ret ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  char __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long *__cil_tmp16 ;

  {
#line 3020
  raw_cmd = & default_raw_cmd;
#line 3021
  *((unsigned int *)raw_cmd) = (unsigned int )flag;
#line 3022
  __cil_tmp4 = (unsigned long )raw_cmd;
#line 3022
  __cil_tmp5 = __cil_tmp4 + 88;
#line 3022
  *((int *)__cil_tmp5) = 0;
#line 3023
  __cil_tmp6 = (unsigned long )raw_cmd;
#line 3023
  __cil_tmp7 = __cil_tmp6 + 53;
#line 3023
  *((unsigned char *)__cil_tmp7) = (unsigned char)0;
#line 3024
  cont = & poll_cont;
  {
#line 3026
  __cil_tmp8 = current_drive * 128UL;
#line 3026
  __cil_tmp9 = __cil_tmp8 + 96;
#line 3026
  __cil_tmp10 = (unsigned long )(drive_params) + __cil_tmp9;
#line 3026
  __cil_tmp11 = *((char *)__cil_tmp10);
#line 3026
  __cil_tmp12 = (int )__cil_tmp11;
#line 3026
  if (__cil_tmp12 & 2) {
    {
#line 3027
    __cil_tmp13 = (int )current_drive;
#line 3027
    printk("floppy%d: setting NEWCHANGE in poll_drive\n", __cil_tmp13);
    }
  } else {

  }
  }
  {
#line 3030
  __cil_tmp14 = current_drive * 80UL;
#line 3030
  __cil_tmp15 = (unsigned long )(drive_state) + __cil_tmp14;
#line 3030
  __cil_tmp16 = (unsigned long *)__cil_tmp15;
#line 3030
  set_bit(2, __cil_tmp16);
#line 3031
  ret = wait_til_done(& floppy_ready, interruptible);
  }
#line 3031
  if (ret == -4) {
#line 3031
    return (-4);
  } else {

  }
#line 3032
  return (ret);
}
}
#line 3040 "drivers/block/floppy.c"
static void reset_intr(void) 
{ 

  {
  {
#line 3042
  printk("weird, reset interrupt called\n");
  }
#line 3043
  return;
}
}
#line 3045 "drivers/block/floppy.c"
static struct cont_t reset_cont  =    {& reset_intr, & success_and_wakeup, & generic_failure, & generic_done};
#line 3052 "drivers/block/floppy.c"
static int user_reset_fdc(int drive , int arg , int interruptible ) 
{ int ret ;
  int tmp ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  void (*__cil_tmp10)(void) ;

  {
  {
#line 3056
  ret = 0;
#line 3057
  tmp = _lock_fdc(drive, interruptible, 3057);
  }
#line 3057
  if (tmp) {
#line 3057
    return (-4);
  } else {

  }
#line 3058
  if (arg == 2) {
#line 3059
    __cil_tmp6 = fdc * 40UL;
#line 3059
    __cil_tmp7 = (unsigned long )(fdc_state) + __cil_tmp6;
#line 3059
    ((struct floppy_fdc_state *)__cil_tmp7)->reset = 1U;
  } else {

  }
  {
#line 3060
  __cil_tmp8 = fdc * 40UL;
#line 3060
  __cil_tmp9 = (unsigned long )(fdc_state) + __cil_tmp8;
#line 3060
  if (((struct floppy_fdc_state *)__cil_tmp9)->reset) {
    {
#line 3061
    cont = & reset_cont;
#line 3062
    ret = wait_til_done(& reset_fdc, interruptible);
    }
#line 3062
    if (ret == -4) {
#line 3062
      return (-4);
    } else {

    }
  } else {

  }
  }
  {
#line 3064
  __cil_tmp10 = & process_fd_request;
#line 3064
  (*__cil_tmp10)();
  }
#line 3065
  return (ret);
}
}
#line 3072 "drivers/block/floppy.c"
__inline static int fd_copyout(void *param , void const   *address , unsigned long size ) 
{ int tmp___0 ;
  unsigned long tmp___1 ;

  {
  {
#line 3075
  tmp___1 = copy_to_user(param, address, size);
  }
#line 3075
  if (tmp___1) {
#line 3075
    tmp___0 = -14;
  } else {
#line 3075
    tmp___0 = 0;
  }
#line 3075
  return (tmp___0);
}
}
#line 3078 "drivers/block/floppy.c"
__inline static int fd_copyin(void *param , void *address , unsigned long size ) 
{ int tmp___0 ;
  unsigned long tmp___1 ;

  {
  {
#line 3080
  tmp___1 = copy_from_user(address, param, size);
  }
#line 3080
  if (tmp___1) {
#line 3080
    tmp___0 = -14;
  } else {
#line 3080
    tmp___0 = 0;
  }
#line 3080
  return (tmp___0);
}
}
#line 3089 "drivers/block/floppy.c"
__inline static char const   *drive_name(int type , int drive ) 
{ struct floppy_struct *floppy___0 ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  struct floppy_struct *__cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  int __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  struct floppy_struct *__cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;

  {
#line 3093
  if (type) {
#line 3094
    __cil_tmp4 = 0 * 32UL;
#line 3094
    __cil_tmp5 = (unsigned long )(floppy_type) + __cil_tmp4;
#line 3094
    __cil_tmp6 = (struct floppy_struct *)__cil_tmp5;
#line 3094
    floppy___0 = __cil_tmp6 + type;
  } else {
    {
#line 3096
    __cil_tmp7 = drive * 128UL;
#line 3096
    __cil_tmp8 = __cil_tmp7 + 120;
#line 3096
    __cil_tmp9 = (unsigned long )(drive_params) + __cil_tmp8;
#line 3096
    if (*((int *)__cil_tmp9)) {
#line 3097
      __cil_tmp10 = drive * 128UL;
#line 3097
      __cil_tmp11 = __cil_tmp10 + 120;
#line 3097
      __cil_tmp12 = (unsigned long )(drive_params) + __cil_tmp11;
#line 3097
      __cil_tmp13 = *((int *)__cil_tmp12);
#line 3097
      __cil_tmp14 = 0 * 32UL;
#line 3097
      __cil_tmp15 = (unsigned long )(floppy_type) + __cil_tmp14;
#line 3097
      __cil_tmp16 = (struct floppy_struct *)__cil_tmp15;
#line 3097
      floppy___0 = __cil_tmp16 + __cil_tmp13;
    } else {
#line 3099
      return ("(null)");
    }
    }
  }
  {
#line 3101
  __cil_tmp17 = (unsigned long )floppy___0;
#line 3101
  __cil_tmp18 = __cil_tmp17 + 24;
#line 3101
  if (*((char const   **)__cil_tmp18)) {
    {
#line 3102
    __cil_tmp19 = (unsigned long )floppy___0;
#line 3102
    __cil_tmp20 = __cil_tmp19 + 24;
#line 3102
    return (*((char const   **)__cil_tmp20));
    }
  } else {
#line 3104
    return ("(null)");
  }
  }
}
}
#line 3125
extern int get_dma_residue() ;
#line 3108 "drivers/block/floppy.c"
static void raw_cmd_done(int flag ) 
{ int i ;
  unsigned long flags ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  unsigned int __cil_tmp7 ;
  unsigned int __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned char __cil_tmp13 ;
  int __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned char __cil_tmp19 ;
  int __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  int *__cil_tmp28 ;
  int __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  unsigned int __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned char __cil_tmp35 ;
  unsigned int __cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  unsigned long __cil_tmp38 ;
  unsigned long __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  unsigned char __cil_tmp41 ;
  int __cil_tmp42 ;
  unsigned int __cil_tmp43 ;
  int __cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  unsigned int __cil_tmp46 ;
  unsigned int __cil_tmp47 ;
  void (*__cil_tmp48)(unsigned long nr ) ;
  unsigned long __cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  unsigned long __cil_tmp51 ;
  unsigned int __cil_tmp52 ;
  unsigned int __cil_tmp53 ;
  unsigned int __cil_tmp54 ;
  unsigned int __cil_tmp55 ;
  unsigned int __cil_tmp56 ;
  unsigned long __cil_tmp57 ;
  unsigned long __cil_tmp58 ;
  unsigned int __cil_tmp59 ;
  unsigned int __cil_tmp60 ;
  unsigned long __cil_tmp61 ;
  unsigned long __cil_tmp62 ;
  void (*__cil_tmp63)(int result___0 ) ;

  {
#line 3112
  if (! flag) {
#line 3113
    __cil_tmp7 = *((unsigned int *)raw_cmd);
#line 3113
    *((unsigned int *)raw_cmd) = __cil_tmp7 | 65536U;
#line 3114
    __cil_tmp8 = *((unsigned int *)raw_cmd);
#line 3114
    *((unsigned int *)raw_cmd) = __cil_tmp8 | 131072U;
  } else {
#line 3116
    __cil_tmp9 = (unsigned long )raw_cmd;
#line 3116
    __cil_tmp10 = __cil_tmp9 + 70;
#line 3116
    *((unsigned char *)__cil_tmp10) = (unsigned char )inr;
    {
#line 3117
    __cil_tmp11 = (unsigned long )raw_cmd;
#line 3117
    __cil_tmp12 = __cil_tmp11 + 70;
#line 3117
    __cil_tmp13 = *((unsigned char *)__cil_tmp12);
#line 3117
    __cil_tmp14 = (int )__cil_tmp13;
#line 3117
    if (__cil_tmp14 > 16) {
#line 3118
      __cil_tmp15 = (unsigned long )raw_cmd;
#line 3118
      __cil_tmp16 = __cil_tmp15 + 70;
#line 3118
      *((unsigned char *)__cil_tmp16) = (unsigned char)0;
    } else {

    }
    }
#line 3119
    i = 0;
    {
#line 3119
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 3119
      __cil_tmp17 = (unsigned long )raw_cmd;
#line 3119
      __cil_tmp18 = __cil_tmp17 + 70;
#line 3119
      __cil_tmp19 = *((unsigned char *)__cil_tmp18);
#line 3119
      __cil_tmp20 = (int )__cil_tmp19;
#line 3119
      if (i < __cil_tmp20) {

      } else {
#line 3119
        goto while_break;
      }
      }
#line 3120
      __cil_tmp21 = i * 1UL;
#line 3120
      __cil_tmp22 = 71 + __cil_tmp21;
#line 3120
      __cil_tmp23 = (unsigned long )raw_cmd;
#line 3120
      __cil_tmp24 = __cil_tmp23 + __cil_tmp22;
#line 3120
      __cil_tmp25 = i * 1UL;
#line 3120
      __cil_tmp26 = (unsigned long )(reply_buffer) + __cil_tmp25;
#line 3120
      *((unsigned char *)__cil_tmp24) = *((unsigned char *)__cil_tmp26);
#line 3119
      i = i + 1;
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 3122
    __cil_tmp27 = *((unsigned int *)raw_cmd);
#line 3122
    if (__cil_tmp27 & 3U) {
      {
#line 3124
      tmp = claim_dma_lock();
#line 3124
      flags = (unsigned long )tmp;
#line 3125
      __cil_tmp28 = & FLOPPY_DMA;
#line 3125
      __cil_tmp29 = *__cil_tmp28;
#line 3125
      tmp___0 = get_dma_residue(__cil_tmp29);
#line 3125
      __cil_tmp30 = (unsigned long )raw_cmd;
#line 3125
      __cil_tmp31 = __cil_tmp30 + 32;
#line 3125
      *((long *)__cil_tmp31) = (long )tmp___0;
#line 3126
      release_dma_lock(flags);
      }
    } else {

    }
    }
    {
#line 3129
    __cil_tmp32 = *((unsigned int *)raw_cmd);
#line 3129
    if (__cil_tmp32 & 2048U) {
      {
#line 3129
      __cil_tmp33 = (unsigned long )raw_cmd;
#line 3129
      __cil_tmp34 = __cil_tmp33 + 70;
#line 3129
      __cil_tmp35 = *((unsigned char *)__cil_tmp34);
#line 3129
      if (! __cil_tmp35) {
#line 3131
        __cil_tmp36 = *((unsigned int *)raw_cmd);
#line 3131
        *((unsigned int *)raw_cmd) = __cil_tmp36 | 65536U;
      } else {
        {
#line 3129
        __cil_tmp37 = 0 * 1UL;
#line 3129
        __cil_tmp38 = 71 + __cil_tmp37;
#line 3129
        __cil_tmp39 = (unsigned long )raw_cmd;
#line 3129
        __cil_tmp40 = __cil_tmp39 + __cil_tmp38;
#line 3129
        __cil_tmp41 = *((unsigned char *)__cil_tmp40);
#line 3129
        __cil_tmp42 = (int )__cil_tmp41;
#line 3129
        if (__cil_tmp42 & 192) {
#line 3131
          __cil_tmp43 = *((unsigned int *)raw_cmd);
#line 3131
          *((unsigned int *)raw_cmd) = __cil_tmp43 | 65536U;
        } else {

        }
        }
      }
      }
    } else {

    }
    }
    {
#line 3133
    __cil_tmp44 = (int )current_drive;
#line 3133
    tmp___1 = disk_change(__cil_tmp44);
    }
#line 3133
    if (tmp___1) {
#line 3134
      __cil_tmp45 = *((unsigned int *)raw_cmd);
#line 3134
      *((unsigned int *)raw_cmd) = __cil_tmp45 | 4U;
    } else {
#line 3136
      __cil_tmp46 = *((unsigned int *)raw_cmd);
#line 3136
      *((unsigned int *)raw_cmd) = __cil_tmp46 & 4294967291U;
    }
    {
#line 3137
    __cil_tmp47 = *((unsigned int *)raw_cmd);
#line 3137
    if (__cil_tmp47 & 32U) {
      {
#line 3138
      __cil_tmp48 = & motor_off_callback;
#line 3138
      __cil_tmp49 = (unsigned long )current_drive;
#line 3138
      (*__cil_tmp48)(__cil_tmp49);
      }
    } else {

    }
    }
    {
#line 3140
    __cil_tmp50 = (unsigned long )raw_cmd;
#line 3140
    __cil_tmp51 = __cil_tmp50 + 24;
#line 3140
    if (*((struct floppy_raw_cmd **)__cil_tmp51)) {
      {
#line 3140
      __cil_tmp52 = *((unsigned int *)raw_cmd);
#line 3140
      __cil_tmp53 = __cil_tmp52 & 65536U;
#line 3140
      if (! __cil_tmp53) {
#line 3140
        goto _L;
      } else {
        {
#line 3140
        __cil_tmp54 = *((unsigned int *)raw_cmd);
#line 3140
        __cil_tmp55 = __cil_tmp54 & 512U;
#line 3140
        if (! __cil_tmp55) {
          _L: 
          {
#line 3140
          __cil_tmp56 = *((unsigned int *)raw_cmd);
#line 3140
          if (__cil_tmp56 & 65536U) {
#line 3145
            __cil_tmp57 = (unsigned long )raw_cmd;
#line 3145
            __cil_tmp58 = __cil_tmp57 + 24;
#line 3145
            raw_cmd = *((struct floppy_raw_cmd **)__cil_tmp58);
#line 3146
            return;
          } else {
            {
#line 3140
            __cil_tmp59 = *((unsigned int *)raw_cmd);
#line 3140
            __cil_tmp60 = __cil_tmp59 & 1024U;
#line 3140
            if (! __cil_tmp60) {
#line 3145
              __cil_tmp61 = (unsigned long )raw_cmd;
#line 3145
              __cil_tmp62 = __cil_tmp61 + 24;
#line 3145
              raw_cmd = *((struct floppy_raw_cmd **)__cil_tmp62);
#line 3146
              return;
            } else {

            }
            }
          }
          }
        } else {

        }
        }
      }
      }
    } else {

    }
    }
  }
  {
#line 3149
  __cil_tmp63 = & generic_done;
#line 3149
  (*__cil_tmp63)(flag);
  }
#line 3150
  return;
}
}
#line 3152 "drivers/block/floppy.c"
static struct cont_t raw_cmd_cont  =    {& success_and_wakeup, & floppy_start, & generic_failure, & raw_cmd_done};
#line 3159 "drivers/block/floppy.c"
__inline static int raw_cmd_copyout(int cmd , char *param , struct floppy_raw_cmd *ptr ) 
{ int ret ;
  unsigned long tmp___0 ;
  void *__cil_tmp6 ;
  void const   *__cil_tmp7 ;
  unsigned int __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  int __cil_tmp16 ;
  long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  void *__cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  char *__cil_tmp26 ;
  void const   *__cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  long __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  int __cil_tmp33 ;
  long __cil_tmp34 ;
  long __cil_tmp35 ;
  unsigned long __cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  unsigned long __cil_tmp38 ;

  {
  {
#line 3164
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3164
    if (ptr) {

    } else {
#line 3164
      goto while_break;
    }
    {
#line 3165
    __cil_tmp6 = (void *)param;
#line 3165
    __cil_tmp7 = (void const   *)ptr;
#line 3165
    tmp___0 = copy_to_user(__cil_tmp6, __cil_tmp7, 104UL);
    }
#line 3165
    if (tmp___0) {
#line 3165
      ret = -14;
    } else {
#line 3165
      ret = 0;
    }
#line 3165
    if (ret) {
#line 3165
      return (ret);
    } else {

    }
#line 3166
    param = param + 104UL;
    {
#line 3167
    __cil_tmp8 = *((unsigned int *)ptr);
#line 3167
    if (__cil_tmp8 & 1U) {
      {
#line 3167
      __cil_tmp9 = (unsigned long )ptr;
#line 3167
      __cil_tmp10 = __cil_tmp9 + 48;
#line 3167
      if (*((int *)__cil_tmp10)) {
        {
#line 3168
        __cil_tmp11 = (unsigned long )ptr;
#line 3168
        __cil_tmp12 = __cil_tmp11 + 32;
#line 3168
        __cil_tmp13 = *((long *)__cil_tmp12);
#line 3168
        if (__cil_tmp13 >= 0L) {
          {
#line 3168
          __cil_tmp14 = (unsigned long )ptr;
#line 3168
          __cil_tmp15 = __cil_tmp14 + 48;
#line 3168
          __cil_tmp16 = *((int *)__cil_tmp15);
#line 3168
          __cil_tmp17 = (long )__cil_tmp16;
#line 3168
          __cil_tmp18 = (unsigned long )ptr;
#line 3168
          __cil_tmp19 = __cil_tmp18 + 32;
#line 3168
          __cil_tmp20 = *((long *)__cil_tmp19);
#line 3168
          if (__cil_tmp20 <= __cil_tmp17) {
            {
#line 3170
            __cil_tmp21 = (unsigned long )ptr;
#line 3170
            __cil_tmp22 = __cil_tmp21 + 8;
#line 3170
            __cil_tmp23 = *((void **)__cil_tmp22);
#line 3170
            __cil_tmp24 = (unsigned long )ptr;
#line 3170
            __cil_tmp25 = __cil_tmp24 + 16;
#line 3170
            __cil_tmp26 = *((char **)__cil_tmp25);
#line 3170
            __cil_tmp27 = (void const   *)__cil_tmp26;
#line 3170
            __cil_tmp28 = (unsigned long )ptr;
#line 3170
            __cil_tmp29 = __cil_tmp28 + 32;
#line 3170
            __cil_tmp30 = *((long *)__cil_tmp29);
#line 3170
            __cil_tmp31 = (unsigned long )ptr;
#line 3170
            __cil_tmp32 = __cil_tmp31 + 48;
#line 3170
            __cil_tmp33 = *((int *)__cil_tmp32);
#line 3170
            __cil_tmp34 = (long )__cil_tmp33;
#line 3170
            __cil_tmp35 = __cil_tmp34 - __cil_tmp30;
#line 3170
            __cil_tmp36 = (unsigned long )__cil_tmp35;
#line 3170
            ret = fd_copyout(__cil_tmp23, __cil_tmp27, __cil_tmp36);
            }
#line 3170
            if (ret) {
#line 3170
              return (ret);
            } else {

            }
          } else {

          }
          }
        } else {

        }
        }
      } else {

      }
      }
    } else {

    }
    }
#line 3174
    __cil_tmp37 = (unsigned long )ptr;
#line 3174
    __cil_tmp38 = __cil_tmp37 + 24;
#line 3174
    ptr = *((struct floppy_raw_cmd **)__cil_tmp38);
  }
  while_break: /* CIL Label */ ;
  }
#line 3176
  return (0);
}
}
#line 3187
extern int get_order() ;
#line 3179 "drivers/block/floppy.c"
static void raw_cmd_free(struct floppy_raw_cmd **ptr ) 
{ struct floppy_raw_cmd *next ;
  struct floppy_raw_cmd *this ;
  int tmp ;
  void *__cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  int __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  char *__cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned int __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  void const   *__cil_tmp20 ;

  {
#line 3183
  this = *ptr;
#line 3184
  __cil_tmp5 = (void *)0;
#line 3184
  *ptr = (struct floppy_raw_cmd *)__cil_tmp5;
  {
#line 3185
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3185
    if (this) {

    } else {
#line 3185
      goto while_break;
    }
    {
#line 3186
    __cil_tmp6 = (unsigned long )this;
#line 3186
    __cil_tmp7 = __cil_tmp6 + 48;
#line 3186
    if (*((int *)__cil_tmp7)) {
      {
#line 3187
      __cil_tmp8 = (unsigned long )this;
#line 3187
      __cil_tmp9 = __cil_tmp8 + 48;
#line 3187
      __cil_tmp10 = *((int *)__cil_tmp9);
#line 3187
      tmp = get_order(__cil_tmp10);
#line 3187
      __cil_tmp11 = (unsigned long )this;
#line 3187
      __cil_tmp12 = __cil_tmp11 + 16;
#line 3187
      __cil_tmp13 = *((char **)__cil_tmp12);
#line 3187
      __cil_tmp14 = (unsigned long )__cil_tmp13;
#line 3187
      __cil_tmp15 = (unsigned int )tmp;
#line 3187
      free_pages(__cil_tmp14, __cil_tmp15);
#line 3189
      __cil_tmp16 = (unsigned long )this;
#line 3189
      __cil_tmp17 = __cil_tmp16 + 48;
#line 3189
      *((int *)__cil_tmp17) = 0;
      }
    } else {

    }
    }
    {
#line 3191
    __cil_tmp18 = (unsigned long )this;
#line 3191
    __cil_tmp19 = __cil_tmp18 + 24;
#line 3191
    next = *((struct floppy_raw_cmd **)__cil_tmp19);
#line 3192
    __cil_tmp20 = (void const   *)this;
#line 3192
    kfree(__cil_tmp20);
#line 3193
    this = next;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 3195
  return;
}
}
#line 3234
extern int __get_dma_pages() ;
#line 3197 "drivers/block/floppy.c"
__inline static int raw_cmd_copyin(int cmd , char *param , struct floppy_raw_cmd **rcmd ) 
{ struct floppy_raw_cmd *ptr ;
  int ret ;
  int i ;
  void *tmp ;
  unsigned long tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  void *__cil_tmp11 ;
  size_t __cil_tmp12 ;
  void *__cil_tmp13 ;
  void *__cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  void *__cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned char __cil_tmp22 ;
  int __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  void *__cil_tmp32 ;
  unsigned int __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  long __cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  unsigned long __cil_tmp38 ;
  long __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  unsigned long __cil_tmp41 ;
  unsigned long __cil_tmp42 ;
  unsigned long __cil_tmp43 ;
  char **__cil_tmp44 ;
  unsigned long __cil_tmp45 ;
  unsigned long __cil_tmp46 ;
  long __cil_tmp47 ;
  size_t __cil_tmp48 ;
  unsigned long __cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  char *__cil_tmp51 ;
  unsigned long __cil_tmp52 ;
  unsigned long __cil_tmp53 ;
  unsigned long __cil_tmp54 ;
  unsigned long __cil_tmp55 ;
  long __cil_tmp56 ;
  unsigned int __cil_tmp57 ;
  unsigned long __cil_tmp58 ;
  unsigned long __cil_tmp59 ;
  void *__cil_tmp60 ;
  unsigned long __cil_tmp61 ;
  unsigned long __cil_tmp62 ;
  char *__cil_tmp63 ;
  void *__cil_tmp64 ;
  unsigned long __cil_tmp65 ;
  unsigned long __cil_tmp66 ;
  long __cil_tmp67 ;
  unsigned long __cil_tmp68 ;
  unsigned long __cil_tmp69 ;
  unsigned long __cil_tmp70 ;
  unsigned int __cil_tmp71 ;
  unsigned int __cil_tmp72 ;
  unsigned long __cil_tmp73 ;
  unsigned long __cil_tmp74 ;
  unsigned long __cil_tmp75 ;
  unsigned long __cil_tmp76 ;
  unsigned char __cil_tmp77 ;
  int __cil_tmp78 ;
  int __cil_tmp79 ;

  {
#line 3204
  __cil_tmp11 = (void *)0;
#line 3204
  *rcmd = (struct floppy_raw_cmd *)__cil_tmp11;
  {
#line 3205
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 3206
    __cil_tmp12 = (size_t )104UL;
#line 3206
    tmp = kmalloc(__cil_tmp12, 131280U);
#line 3206
    ptr = (struct floppy_raw_cmd *)tmp;
    }
#line 3208
    if (! ptr) {
#line 3209
      return (-12);
    } else {

    }
    {
#line 3210
    *rcmd = ptr;
#line 3211
    __cil_tmp13 = (void *)ptr;
#line 3211
    __cil_tmp14 = (void *)param;
#line 3211
    tmp___1 = copy_from_user(__cil_tmp13, __cil_tmp14, 104UL);
    }
#line 3211
    if (tmp___1) {
#line 3211
      ret = -14;
    } else {
#line 3211
      ret = 0;
    }
#line 3211
    if (ret) {
#line 3211
      return (ret);
    } else {

    }
#line 3212
    __cil_tmp15 = (unsigned long )ptr;
#line 3212
    __cil_tmp16 = __cil_tmp15 + 24;
#line 3212
    __cil_tmp17 = (void *)0;
#line 3212
    *((struct floppy_raw_cmd **)__cil_tmp16) = (struct floppy_raw_cmd *)__cil_tmp17;
#line 3213
    __cil_tmp18 = (unsigned long )ptr;
#line 3213
    __cil_tmp19 = __cil_tmp18 + 48;
#line 3213
    *((int *)__cil_tmp19) = 0;
#line 3214
    param = param + 104UL;
    {
#line 3215
    __cil_tmp20 = (unsigned long )ptr;
#line 3215
    __cil_tmp21 = __cil_tmp20 + 53;
#line 3215
    __cil_tmp22 = *((unsigned char *)__cil_tmp21);
#line 3215
    __cil_tmp23 = (int )__cil_tmp22;
#line 3215
    if (__cil_tmp23 > 33) {
#line 3224
      return (-22);
    } else {

    }
    }
#line 3226
    i = 0;
    {
#line 3226
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 3226
      if (i < 16) {

      } else {
#line 3226
        goto while_break___0;
      }
#line 3227
      __cil_tmp24 = i * 1UL;
#line 3227
      __cil_tmp25 = 71 + __cil_tmp24;
#line 3227
      __cil_tmp26 = (unsigned long )ptr;
#line 3227
      __cil_tmp27 = __cil_tmp26 + __cil_tmp25;
#line 3227
      *((unsigned char *)__cil_tmp27) = (unsigned char)0;
#line 3226
      i = i + 1;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 3228
    __cil_tmp28 = (unsigned long )ptr;
#line 3228
    __cil_tmp29 = __cil_tmp28 + 92;
#line 3228
    *((int *)__cil_tmp29) = 0;
#line 3229
    __cil_tmp30 = (unsigned long )ptr;
#line 3229
    __cil_tmp31 = __cil_tmp30 + 16;
#line 3229
    __cil_tmp32 = (void *)0;
#line 3229
    *((char **)__cil_tmp31) = (char *)__cil_tmp32;
    {
#line 3231
    __cil_tmp33 = *((unsigned int *)ptr);
#line 3231
    if (__cil_tmp33 & 3U) {
      {
#line 3232
      __cil_tmp34 = (unsigned long )ptr;
#line 3232
      __cil_tmp35 = __cil_tmp34 + 32;
#line 3232
      __cil_tmp36 = *((long *)__cil_tmp35);
#line 3232
      if (__cil_tmp36 <= 0L) {
#line 3233
        return (-22);
      } else {

      }
      }
      {
#line 3234
      __cil_tmp37 = (unsigned long )ptr;
#line 3234
      __cil_tmp38 = __cil_tmp37 + 32;
#line 3234
      __cil_tmp39 = *((long *)__cil_tmp38);
#line 3234
      tmp___2 = get_order(__cil_tmp39);
#line 3234
      tmp___3 = __get_dma_pages(208U, tmp___2);
#line 3234
      __cil_tmp40 = (unsigned long )ptr;
#line 3234
      __cil_tmp41 = __cil_tmp40 + 16;
#line 3234
      *((char **)__cil_tmp41) = (char *)tmp___3;
#line 3236
      __cil_tmp42 = (unsigned long )ptr;
#line 3236
      __cil_tmp43 = __cil_tmp42 + 16;
#line 3236
      __cil_tmp44 = (char **)__cil_tmp43;
#line 3236
      __cil_tmp45 = (unsigned long )ptr;
#line 3236
      __cil_tmp46 = __cil_tmp45 + 32;
#line 3236
      __cil_tmp47 = *((long *)__cil_tmp46);
#line 3236
      __cil_tmp48 = (size_t )__cil_tmp47;
#line 3236
      fallback_on_nodma_alloc(__cil_tmp44, __cil_tmp48);
      }
      {
#line 3237
      __cil_tmp49 = (unsigned long )ptr;
#line 3237
      __cil_tmp50 = __cil_tmp49 + 16;
#line 3237
      __cil_tmp51 = *((char **)__cil_tmp50);
#line 3237
      if (! __cil_tmp51) {
#line 3238
        return (-12);
      } else {

      }
      }
#line 3239
      __cil_tmp52 = (unsigned long )ptr;
#line 3239
      __cil_tmp53 = __cil_tmp52 + 48;
#line 3239
      __cil_tmp54 = (unsigned long )ptr;
#line 3239
      __cil_tmp55 = __cil_tmp54 + 32;
#line 3239
      __cil_tmp56 = *((long *)__cil_tmp55);
#line 3239
      *((int *)__cil_tmp53) = (int )__cil_tmp56;
    } else {

    }
    }
    {
#line 3241
    __cil_tmp57 = *((unsigned int *)ptr);
#line 3241
    if (__cil_tmp57 & 2U) {
      {
#line 3242
      __cil_tmp58 = (unsigned long )ptr;
#line 3242
      __cil_tmp59 = __cil_tmp58 + 8;
#line 3242
      __cil_tmp60 = *((void **)__cil_tmp59);
#line 3242
      __cil_tmp61 = (unsigned long )ptr;
#line 3242
      __cil_tmp62 = __cil_tmp61 + 16;
#line 3242
      __cil_tmp63 = *((char **)__cil_tmp62);
#line 3242
      __cil_tmp64 = (void *)__cil_tmp63;
#line 3242
      __cil_tmp65 = (unsigned long )ptr;
#line 3242
      __cil_tmp66 = __cil_tmp65 + 32;
#line 3242
      __cil_tmp67 = *((long *)__cil_tmp66);
#line 3242
      __cil_tmp68 = (unsigned long )__cil_tmp67;
#line 3242
      ret = fd_copyin(__cil_tmp60, __cil_tmp64, __cil_tmp68);
      }
#line 3242
      if (ret) {
#line 3242
        return (ret);
      } else {

      }
    } else {

    }
    }
#line 3244
    __cil_tmp69 = (unsigned long )ptr;
#line 3244
    __cil_tmp70 = __cil_tmp69 + 24;
#line 3244
    rcmd = (struct floppy_raw_cmd **)__cil_tmp70;
    {
#line 3245
    __cil_tmp71 = *((unsigned int *)ptr);
#line 3245
    __cil_tmp72 = __cil_tmp71 & 256U;
#line 3245
    if (! __cil_tmp72) {
#line 3246
      return (0);
    } else {

    }
    }
#line 3247
    __cil_tmp73 = (unsigned long )ptr;
#line 3247
    __cil_tmp74 = __cil_tmp73 + 52;
#line 3247
    __cil_tmp75 = (unsigned long )ptr;
#line 3247
    __cil_tmp76 = __cil_tmp75 + 52;
#line 3247
    __cil_tmp77 = *((unsigned char *)__cil_tmp76);
#line 3247
    __cil_tmp78 = (int )__cil_tmp77;
#line 3247
    __cil_tmp79 = __cil_tmp78 & 67;
#line 3247
    *((unsigned char *)__cil_tmp74) = (unsigned char )__cil_tmp79;
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 3251 "drivers/block/floppy.c"
static int raw_cmd_ioctl(int cmd , void *param ) 
{ int drive ;
  int ret ;
  int ret2 ;
  struct floppy_raw_cmd *my_raw_cmd ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned int __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  int __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  char *__cil_tmp32 ;
  struct floppy_raw_cmd **__cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned long __cil_tmp36 ;
  char __cil_tmp37 ;
  int __cil_tmp38 ;
  int __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  unsigned long __cil_tmp41 ;
  unsigned long __cil_tmp42 ;
  unsigned long __cil_tmp43 ;
  unsigned long __cil_tmp44 ;
  char *__cil_tmp45 ;
  struct floppy_raw_cmd **__cil_tmp46 ;
  struct floppy_raw_cmd *__cil_tmp47 ;

  {
  {
#line 3256
  __cil_tmp7 = fdc * 40UL;
#line 3256
  __cil_tmp8 = __cil_tmp7 + 24;
#line 3256
  __cil_tmp9 = (unsigned long )(fdc_state) + __cil_tmp8;
#line 3256
  __cil_tmp10 = *((unsigned int *)__cil_tmp9);
#line 3256
  if (__cil_tmp10 <= 1U) {
#line 3257
    __cil_tmp11 = fdc * 40UL;
#line 3257
    __cil_tmp12 = __cil_tmp11 + 24;
#line 3257
    __cil_tmp13 = (unsigned long )(fdc_state) + __cil_tmp12;
#line 3257
    *((unsigned int *)__cil_tmp13) = 1U;
  } else {

  }
  }
#line 3258
  drive = 0;
  {
#line 3258
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3258
    if (drive < 8) {

    } else {
#line 3258
      goto while_break;
    }
    {
#line 3259
    __cil_tmp14 = drive & 4;
#line 3259
    __cil_tmp15 = __cil_tmp14 >> 2;
#line 3259
    if (__cil_tmp15 != fdc) {
#line 3260
      goto __Cont;
    } else {

    }
    }
    {
#line 3261
    __cil_tmp16 = (int )current_drive;
#line 3261
    if (drive == __cil_tmp16) {
      {
#line 3262
      __cil_tmp17 = drive * 80UL;
#line 3262
      __cil_tmp18 = __cil_tmp17 + 48;
#line 3262
      __cil_tmp19 = (unsigned long )(drive_state) + __cil_tmp18;
#line 3262
      __cil_tmp20 = *((int *)__cil_tmp19);
#line 3262
      if (__cil_tmp20 > 1) {
#line 3263
        __cil_tmp21 = fdc * 40UL;
#line 3263
        __cil_tmp22 = __cil_tmp21 + 24;
#line 3263
        __cil_tmp23 = (unsigned long )(fdc_state) + __cil_tmp22;
#line 3263
        *((unsigned int *)__cil_tmp23) = 2U;
#line 3264
        goto while_break;
      } else {

      }
      }
    } else {
      {
#line 3266
      __cil_tmp24 = drive * 80UL;
#line 3266
      __cil_tmp25 = __cil_tmp24 + 48;
#line 3266
      __cil_tmp26 = (unsigned long )(drive_state) + __cil_tmp25;
#line 3266
      if (*((int *)__cil_tmp26)) {
#line 3267
        __cil_tmp27 = fdc * 40UL;
#line 3267
        __cil_tmp28 = __cil_tmp27 + 24;
#line 3267
        __cil_tmp29 = (unsigned long )(fdc_state) + __cil_tmp28;
#line 3267
        *((unsigned int *)__cil_tmp29) = 2U;
#line 3268
        goto while_break;
      } else {

      }
      }
    }
    }
    __Cont: 
#line 3258
    drive = drive + 1;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 3272
  __cil_tmp30 = fdc * 40UL;
#line 3272
  __cil_tmp31 = (unsigned long )(fdc_state) + __cil_tmp30;
#line 3272
  if (((struct floppy_fdc_state *)__cil_tmp31)->reset) {
#line 3273
    return (-5);
  } else {

  }
  }
  {
#line 3275
  __cil_tmp32 = (char *)param;
#line 3275
  ret = raw_cmd_copyin(cmd, __cil_tmp32, & my_raw_cmd);
  }
#line 3276
  if (ret) {
    {
#line 3277
    raw_cmd_free(& my_raw_cmd);
    }
#line 3278
    return (ret);
  } else {

  }
  {
#line 3281
  __cil_tmp33 = & my_raw_cmd;
#line 3281
  raw_cmd = *__cil_tmp33;
#line 3282
  cont = & raw_cmd_cont;
#line 3283
  ret = wait_til_done(& floppy_start, 1);
  }
  {
#line 3285
  __cil_tmp34 = current_drive * 128UL;
#line 3285
  __cil_tmp35 = __cil_tmp34 + 96;
#line 3285
  __cil_tmp36 = (unsigned long )(drive_params) + __cil_tmp35;
#line 3285
  __cil_tmp37 = *((char *)__cil_tmp36);
#line 3285
  __cil_tmp38 = (int )__cil_tmp37;
#line 3285
  if (__cil_tmp38 & 2) {
    {
#line 3286
    __cil_tmp39 = (int )current_drive;
#line 3286
    printk("floppy%d: calling disk change from raw_cmd ioctl\n", __cil_tmp39);
    }
  } else {

  }
  }
#line 3290
  if (ret != -4) {
    {
#line 3290
    __cil_tmp40 = fdc * 40UL;
#line 3290
    __cil_tmp41 = (unsigned long )(fdc_state) + __cil_tmp40;
#line 3290
    if (((struct floppy_fdc_state *)__cil_tmp41)->reset) {
#line 3291
      ret = -5;
    } else {

    }
    }
  } else {

  }
  {
#line 3293
  __cil_tmp42 = current_drive * 80UL;
#line 3293
  __cil_tmp43 = __cil_tmp42 + 34;
#line 3293
  __cil_tmp44 = (unsigned long )(drive_state) + __cil_tmp43;
#line 3293
  *((short *)__cil_tmp44) = (short)-1;
#line 3295
  __cil_tmp45 = (char *)param;
#line 3295
  __cil_tmp46 = & my_raw_cmd;
#line 3295
  __cil_tmp47 = *__cil_tmp46;
#line 3295
  ret2 = raw_cmd_copyout(cmd, __cil_tmp45, __cil_tmp47);
  }
#line 3296
  if (! ret) {
#line 3297
    ret = ret2;
  } else {

  }
  {
#line 3298
  raw_cmd_free(& my_raw_cmd);
  }
#line 3299
  return (ret);
}
}
#line 3302 "drivers/block/floppy.c"
static int invalidate_drive(struct block_device *bdev ) 
{ unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  struct gendisk *__cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  void *__cil_tmp7 ;
  long __cil_tmp8 ;
  int __cil_tmp9 ;
  void (*__cil_tmp10)(void) ;

  {
  {
#line 3305
  __cil_tmp2 = (unsigned long )bdev;
#line 3305
  __cil_tmp3 = __cil_tmp2 + 24;
#line 3305
  __cil_tmp4 = *((struct gendisk **)__cil_tmp3);
#line 3305
  __cil_tmp5 = (unsigned long )__cil_tmp4;
#line 3305
  __cil_tmp6 = __cil_tmp5 + 64;
#line 3305
  __cil_tmp7 = *((void **)__cil_tmp6);
#line 3305
  __cil_tmp8 = (long )__cil_tmp7;
#line 3305
  __cil_tmp9 = (int )__cil_tmp8;
#line 3305
  set_bit(__cil_tmp9, & fake_change);
#line 3306
  __cil_tmp10 = & process_fd_request;
#line 3306
  (*__cil_tmp10)();
#line 3307
  check_disk_change(bdev);
  }
#line 3308
  return (0);
}
}
#line 3338
extern int __invalidate_device() ;
#line 3311 "drivers/block/floppy.c"
__inline static int set_geometry(unsigned int cmd , struct floppy_struct *g , int drive ,
                                 int type , struct block_device *bdev ) 
{ int cnt ;
  int tmp ;
  int tmp___0 ;
  sector_t tmp___1 ;
  struct block_device *bdev___0 ;
  int oldStretch ;
  int tmp___2 ;
  int tmp___3 ;
  unsigned long tmp___4 ;
  int __x ;
  int __y ;
  int tmp___5 ;
  unsigned long tmp___6 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned int __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned int __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned int __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  unsigned int __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned char __cil_tmp35 ;
  int __cil_tmp36 ;
  int __cil_tmp37 ;
  unsigned int __cil_tmp38 ;
  unsigned long __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  unsigned int __cil_tmp41 ;
  unsigned long __cil_tmp42 ;
  unsigned long __cil_tmp43 ;
  unsigned int __cil_tmp44 ;
  unsigned int __cil_tmp45 ;
  unsigned long __cil_tmp46 ;
  unsigned long __cil_tmp47 ;
  unsigned long __cil_tmp48 ;
  unsigned long __cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  int __cil_tmp51 ;
  int __cil_tmp52 ;
  unsigned long __cil_tmp53 ;
  unsigned long __cil_tmp54 ;
  unsigned int __cil_tmp55 ;
  unsigned int __cil_tmp56 ;
  int __cil_tmp57 ;
  unsigned long __cil_tmp58 ;
  unsigned long __cil_tmp59 ;
  unsigned long __cil_tmp60 ;
  unsigned long __cil_tmp61 ;
  void (*__cil_tmp62)(void) ;
  unsigned long __cil_tmp63 ;
  unsigned long __cil_tmp64 ;
  unsigned long __cil_tmp65 ;
  unsigned long __cil_tmp66 ;
  unsigned long __cil_tmp67 ;
  int __cil_tmp68 ;
  int __cil_tmp69 ;
  int __cil_tmp70 ;
  int __cil_tmp71 ;
  unsigned long __cil_tmp72 ;
  unsigned long __cil_tmp73 ;
  int __cil_tmp74 ;
  unsigned int __cil_tmp75 ;
  unsigned int __cil_tmp76 ;
  unsigned int __cil_tmp77 ;
  unsigned int __cil_tmp78 ;
  unsigned long __cil_tmp79 ;
  unsigned long __cil_tmp80 ;
  unsigned long __cil_tmp81 ;
  unsigned long __cil_tmp82 ;
  unsigned long __cil_tmp83 ;
  unsigned int __cil_tmp84 ;
  unsigned long __cil_tmp85 ;
  unsigned long __cil_tmp86 ;
  unsigned long __cil_tmp87 ;
  unsigned long __cil_tmp88 ;
  unsigned long __cil_tmp89 ;
  unsigned int __cil_tmp90 ;
  unsigned long __cil_tmp91 ;
  unsigned long __cil_tmp92 ;
  unsigned long __cil_tmp93 ;
  unsigned long __cil_tmp94 ;
  unsigned long __cil_tmp95 ;
  unsigned long __cil_tmp96 ;
  unsigned long __cil_tmp97 ;
  unsigned long __cil_tmp98 ;
  unsigned int __cil_tmp99 ;
  int __cil_tmp100 ;
  unsigned long __cil_tmp101 ;
  unsigned long __cil_tmp102 ;
  int __cil_tmp103 ;
  unsigned int __cil_tmp104 ;
  unsigned int __cil_tmp105 ;
  unsigned int __cil_tmp106 ;
  unsigned int __cil_tmp107 ;
  unsigned long __cil_tmp108 ;
  unsigned long __cil_tmp109 ;
  unsigned long __cil_tmp110 ;
  unsigned long __cil_tmp111 ;
  unsigned long __cil_tmp112 ;
  unsigned long __cil_tmp113 ;
  unsigned long __cil_tmp114 ;
  unsigned long __cil_tmp115 ;
  unsigned long __cil_tmp116 ;
  unsigned long __cil_tmp117 ;
  unsigned long __cil_tmp118 ;
  unsigned long __cil_tmp119 ;
  unsigned int __cil_tmp120 ;
  unsigned long __cil_tmp121 ;
  unsigned long __cil_tmp122 ;
  unsigned long __cil_tmp123 ;
  short __cil_tmp124 ;
  unsigned int __cil_tmp125 ;
  unsigned long __cil_tmp126 ;
  unsigned long __cil_tmp127 ;
  unsigned long __cil_tmp128 ;
  unsigned int __cil_tmp129 ;
  unsigned long __cil_tmp130 ;
  unsigned long __cil_tmp131 ;
  unsigned long __cil_tmp132 ;
  unsigned int __cil_tmp133 ;
  unsigned int __cil_tmp134 ;
  void (*__cil_tmp135)(void) ;

  {
  {
#line 3317
  __cil_tmp19 = (unsigned long )g;
#line 3317
  __cil_tmp20 = __cil_tmp19 + 4;
#line 3317
  __cil_tmp21 = *((unsigned int *)__cil_tmp20);
#line 3317
  if (__cil_tmp21 <= 0U) {
#line 3322
    return (-22);
  } else {
    {
#line 3317
    __cil_tmp22 = (unsigned long )g;
#line 3317
    __cil_tmp23 = __cil_tmp22 + 8;
#line 3317
    __cil_tmp24 = *((unsigned int *)__cil_tmp23);
#line 3317
    if (__cil_tmp24 <= 0U) {
#line 3322
      return (-22);
    } else {
      {
#line 3317
      __cil_tmp25 = (unsigned long )g;
#line 3317
      __cil_tmp26 = __cil_tmp25 + 12;
#line 3317
      __cil_tmp27 = *((unsigned int *)__cil_tmp26);
#line 3317
      if (__cil_tmp27 <= 0U) {
#line 3322
        return (-22);
      } else {
        {
#line 3317
        __cil_tmp28 = (unsigned long )g;
#line 3317
        __cil_tmp29 = __cil_tmp28 + 16;
#line 3317
        __cil_tmp30 = *((unsigned int *)__cil_tmp29);
#line 3317
        __cil_tmp31 = __cil_tmp30 & 1U;
#line 3317
        __cil_tmp32 = drive * 128UL;
#line 3317
        __cil_tmp33 = __cil_tmp32 + 59;
#line 3317
        __cil_tmp34 = (unsigned long )(drive_params) + __cil_tmp33;
#line 3317
        __cil_tmp35 = *((unsigned char *)__cil_tmp34);
#line 3317
        __cil_tmp36 = (int )__cil_tmp35;
#line 3317
        __cil_tmp37 = __cil_tmp36 >> __cil_tmp31;
#line 3317
        __cil_tmp38 = (unsigned int )__cil_tmp37;
#line 3317
        __cil_tmp39 = (unsigned long )g;
#line 3317
        __cil_tmp40 = __cil_tmp39 + 12;
#line 3317
        __cil_tmp41 = *((unsigned int *)__cil_tmp40);
#line 3317
        if (__cil_tmp41 > __cil_tmp38) {
#line 3322
          return (-22);
        } else {
          {
#line 3317
          __cil_tmp42 = (unsigned long )g;
#line 3317
          __cil_tmp43 = __cil_tmp42 + 16;
#line 3317
          __cil_tmp44 = *((unsigned int *)__cil_tmp43);
#line 3317
          __cil_tmp45 = __cil_tmp44 & 4294967288U;
#line 3317
          if (__cil_tmp45 != 0U) {
#line 3322
            return (-22);
          } else {

          }
          }
        }
        }
      }
      }
    }
    }
  }
  }
#line 3323
  if (type) {
    {
#line 3324
    tmp = capable(21);
    }
#line 3324
    if (! tmp) {
#line 3325
      return (-1);
    } else {

    }
    {
#line 3326
    mutex_lock(& open_lock);
#line 3327
    tmp___0 = _lock_fdc(drive, 1, 3327);
    }
#line 3327
    if (tmp___0) {
#line 3327
      return (-4);
    } else {

    }
#line 3328
    __cil_tmp46 = type * 32UL;
#line 3328
    __cil_tmp47 = (unsigned long )(floppy_type) + __cil_tmp46;
#line 3328
    *((struct floppy_struct *)__cil_tmp47) = *g;
#line 3329
    __cil_tmp48 = type * 32UL;
#line 3329
    __cil_tmp49 = __cil_tmp48 + 24;
#line 3329
    __cil_tmp50 = (unsigned long )(floppy_type) + __cil_tmp49;
#line 3329
    *((char const   **)__cil_tmp50) = "user format";
#line 3330
    cnt = type << 2;
    {
#line 3330
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 3330
      __cil_tmp51 = type << 2;
#line 3330
      __cil_tmp52 = __cil_tmp51 + 4;
#line 3330
      if (cnt < __cil_tmp52) {

      } else {
#line 3330
        goto while_break;
      }
      }
#line 3331
      __cil_tmp53 = type * 32UL;
#line 3331
      __cil_tmp54 = (unsigned long )(floppy_type) + __cil_tmp53;
#line 3331
      __cil_tmp55 = *((unsigned int *)__cil_tmp54);
#line 3331
      __cil_tmp56 = __cil_tmp55 + 1U;
#line 3331
      tmp___1 = (sector_t )__cil_tmp56;
#line 3331
      __cil_tmp57 = cnt + 128;
#line 3331
      __cil_tmp58 = __cil_tmp57 * 8UL;
#line 3331
      __cil_tmp59 = (unsigned long )(floppy_sizes) + __cil_tmp58;
#line 3331
      *((sector_t *)__cil_tmp59) = tmp___1;
#line 3331
      __cil_tmp60 = cnt * 8UL;
#line 3331
      __cil_tmp61 = (unsigned long )(floppy_sizes) + __cil_tmp60;
#line 3331
      *((sector_t *)__cil_tmp61) = tmp___1;
#line 3330
      cnt = cnt + 1;
    }
    while_break: /* CIL Label */ ;
    }
    {
#line 3333
    __cil_tmp62 = & process_fd_request;
#line 3333
    (*__cil_tmp62)();
#line 3334
    cnt = 0;
    }
    {
#line 3334
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 3334
      if (cnt < 8) {

      } else {
#line 3334
        goto while_break___0;
      }
#line 3335
      __cil_tmp63 = cnt * 8UL;
#line 3335
      __cil_tmp64 = (unsigned long )(opened_bdev) + __cil_tmp63;
#line 3335
      bdev___0 = *((struct block_device **)__cil_tmp64);
#line 3336
      if (! bdev___0) {
#line 3337
        goto __Cont;
      } else {
        {
#line 3336
        __cil_tmp65 = cnt * 80UL;
#line 3336
        __cil_tmp66 = __cil_tmp65 + 52;
#line 3336
        __cil_tmp67 = (unsigned long )(drive_state) + __cil_tmp66;
#line 3336
        __cil_tmp68 = *((int *)__cil_tmp67);
#line 3336
        __cil_tmp69 = __cil_tmp68 >> 2;
#line 3336
        __cil_tmp70 = __cil_tmp69 & 31;
#line 3336
        if (__cil_tmp70 != type) {
#line 3337
          goto __Cont;
        } else {

        }
        }
      }
      {
#line 3338
      __invalidate_device(bdev___0);
      }
      __Cont: 
#line 3334
      cnt = cnt + 1;
    }
    while_break___0: /* CIL Label */ ;
    }
    {
#line 3340
    mutex_unlock(& open_lock);
    }
  } else {
    {
#line 3343
    tmp___2 = _lock_fdc(drive, 1, 3343);
    }
#line 3343
    if (tmp___2) {
#line 3343
      return (-4);
    } else {

    }
#line 3344
    if (32UL == 32UL) {
      {
#line 3344
      __cil_tmp71 = 1 << 14;
#line 3344
      __cil_tmp72 = (unsigned long )__cil_tmp71;
#line 3344
      if (32UL < __cil_tmp72) {
#line 3344
        tmp___4 = 32UL;
      } else {
#line 3344
        tmp___4 = (unsigned long )__invalid_size_argument_for_IOC;
      }
      }
    } else {
#line 3344
      tmp___4 = (unsigned long )__invalid_size_argument_for_IOC;
    }
    {
#line 3344
    __cil_tmp73 = tmp___4 << 16;
#line 3344
    __cil_tmp74 = 2 << 8;
#line 3344
    __cil_tmp75 = (unsigned int )__cil_tmp74;
#line 3344
    __cil_tmp76 = 1U << 30;
#line 3344
    __cil_tmp77 = __cil_tmp76 | __cil_tmp75;
#line 3344
    __cil_tmp78 = __cil_tmp77 | 67U;
#line 3344
    __cil_tmp79 = (unsigned long )__cil_tmp78;
#line 3344
    __cil_tmp80 = __cil_tmp79 | __cil_tmp73;
#line 3344
    __cil_tmp81 = (unsigned long )cmd;
#line 3344
    if (__cil_tmp81 != __cil_tmp80) {
      {
#line 3347
      tmp___3 = poll_drive(1, 64);
      }
#line 3347
      if (tmp___3 == -4) {
#line 3347
        return (-4);
      } else {

      }
    } else {

    }
    }
#line 3348
    __cil_tmp82 = (unsigned long )g;
#line 3348
    __cil_tmp83 = __cil_tmp82 + 16;
#line 3348
    __cil_tmp84 = *((unsigned int *)__cil_tmp83);
#line 3348
    oldStretch = (int )__cil_tmp84;
#line 3349
    __cil_tmp85 = drive * 32UL;
#line 3349
    __cil_tmp86 = (unsigned long )(user_params) + __cil_tmp85;
#line 3349
    *((struct floppy_struct *)__cil_tmp86) = *g;
#line 3350
    if (buffer_drive == drive) {
#line 3351
      __x = buffer_max;
#line 3351
      __cil_tmp87 = drive * 32UL;
#line 3351
      __cil_tmp88 = __cil_tmp87 + 4;
#line 3351
      __cil_tmp89 = (unsigned long )(user_params) + __cil_tmp88;
#line 3351
      __cil_tmp90 = *((unsigned int *)__cil_tmp89);
#line 3351
      __y = (int )__cil_tmp90;
#line 3351
      if (__x < __y) {
#line 3351
        tmp___5 = __x;
      } else {
#line 3351
        tmp___5 = __y;
      }
#line 3351
      buffer_max = tmp___5;
    } else {

    }
#line 3352
    __cil_tmp91 = drive * 8UL;
#line 3352
    __cil_tmp92 = (unsigned long )(current_type) + __cil_tmp91;
#line 3352
    __cil_tmp93 = drive * 32UL;
#line 3352
    __cil_tmp94 = (unsigned long )(user_params) + __cil_tmp93;
#line 3352
    *((struct floppy_struct **)__cil_tmp92) = (struct floppy_struct *)__cil_tmp94;
#line 3353
    __cil_tmp95 = drive * 8UL;
#line 3353
    __cil_tmp96 = (unsigned long )(floppy_sizes) + __cil_tmp95;
#line 3353
    __cil_tmp97 = drive * 32UL;
#line 3353
    __cil_tmp98 = (unsigned long )(user_params) + __cil_tmp97;
#line 3353
    __cil_tmp99 = *((unsigned int *)__cil_tmp98);
#line 3353
    *((sector_t *)__cil_tmp96) = (sector_t )__cil_tmp99;
#line 3354
    if (32UL == 32UL) {
      {
#line 3354
      __cil_tmp100 = 1 << 14;
#line 3354
      __cil_tmp101 = (unsigned long )__cil_tmp100;
#line 3354
      if (32UL < __cil_tmp101) {
#line 3354
        tmp___6 = 32UL;
      } else {
#line 3354
        tmp___6 = (unsigned long )__invalid_size_argument_for_IOC;
      }
      }
    } else {
#line 3354
      tmp___6 = (unsigned long )__invalid_size_argument_for_IOC;
    }
    {
#line 3354
    __cil_tmp102 = tmp___6 << 16;
#line 3354
    __cil_tmp103 = 2 << 8;
#line 3354
    __cil_tmp104 = (unsigned int )__cil_tmp103;
#line 3354
    __cil_tmp105 = 1U << 30;
#line 3354
    __cil_tmp106 = __cil_tmp105 | __cil_tmp104;
#line 3354
    __cil_tmp107 = __cil_tmp106 | 67U;
#line 3354
    __cil_tmp108 = (unsigned long )__cil_tmp107;
#line 3354
    __cil_tmp109 = __cil_tmp108 | __cil_tmp102;
#line 3354
    __cil_tmp110 = (unsigned long )cmd;
#line 3354
    if (__cil_tmp110 == __cil_tmp109) {
#line 3355
      __cil_tmp111 = current_drive * 80UL;
#line 3355
      __cil_tmp112 = __cil_tmp111 + 44;
#line 3355
      __cil_tmp113 = (unsigned long )(drive_state) + __cil_tmp112;
#line 3355
      *((int *)__cil_tmp113) = -1;
    } else {
#line 3357
      __cil_tmp114 = current_drive * 80UL;
#line 3357
      __cil_tmp115 = __cil_tmp114 + 44;
#line 3357
      __cil_tmp116 = (unsigned long )(drive_state) + __cil_tmp115;
#line 3357
      *((int *)__cil_tmp116) = 1;
    }
    }
    {
#line 3363
    __cil_tmp117 = drive * 32UL;
#line 3363
    __cil_tmp118 = __cil_tmp117 + 4;
#line 3363
    __cil_tmp119 = (unsigned long )(user_params) + __cil_tmp118;
#line 3363
    __cil_tmp120 = *((unsigned int *)__cil_tmp119);
#line 3363
    __cil_tmp121 = current_drive * 80UL;
#line 3363
    __cil_tmp122 = __cil_tmp121 + 36;
#line 3363
    __cil_tmp123 = (unsigned long )(drive_state) + __cil_tmp122;
#line 3363
    __cil_tmp124 = *((short *)__cil_tmp123);
#line 3363
    __cil_tmp125 = (unsigned int )__cil_tmp124;
#line 3363
    if (__cil_tmp125 > __cil_tmp120) {
      {
#line 3367
      invalidate_drive(bdev);
      }
    } else {
      {
#line 3363
      __cil_tmp126 = current_drive * 80UL;
#line 3363
      __cil_tmp127 = __cil_tmp126 + 38;
#line 3363
      __cil_tmp128 = (unsigned long )(drive_state) + __cil_tmp127;
#line 3363
      if (*((short *)__cil_tmp128)) {
        {
#line 3367
        invalidate_drive(bdev);
        }
      } else {
        {
#line 3363
        __cil_tmp129 = (unsigned int )oldStretch;
#line 3363
        __cil_tmp130 = drive * 32UL;
#line 3363
        __cil_tmp131 = __cil_tmp130 + 4;
#line 3363
        __cil_tmp132 = (unsigned long )(user_params) + __cil_tmp131;
#line 3363
        __cil_tmp133 = *((unsigned int *)__cil_tmp132);
#line 3363
        __cil_tmp134 = __cil_tmp133 ^ __cil_tmp129;
#line 3363
        if (__cil_tmp134 & 6U) {
          {
#line 3367
          invalidate_drive(bdev);
          }
        } else {
          {
#line 3369
          __cil_tmp135 = & process_fd_request;
#line 3369
          (*__cil_tmp135)();
          }
        }
        }
      }
      }
    }
    }
  }
#line 3371
  return (0);
}
}
#line 3375 "drivers/block/floppy.c"
static int ioctl_table[25]  = 
#line 3375
  {      (int )((unsigned int )(2 << 8) | 65U),      (int )((unsigned long )(((1U << 30) | (unsigned int )(2 << 8)) | 66U) | (sizeof(struct floppy_struct ) << 16)),      (int )((unsigned long )(((1U << 30) | (unsigned int )(2 << 8)) | 67U) | (sizeof(struct floppy_struct ) << 16)),      (int )((unsigned long )(((2U << 30) | (unsigned int )(2 << 8)) | 4U) | (sizeof(struct floppy_struct ) << 16)), 
        (int )((unsigned int )(2 << 8) | 69U),      (int )((unsigned int )(2 << 8) | 70U),      (int )((unsigned int )(2 << 8) | 71U),      (int )((unsigned long )(((1U << 30) | (unsigned int )(2 << 8)) | 72U) | (sizeof(struct format_descr ) << 16)), 
        (int )((unsigned int )(2 << 8) | 73U),      (int )((unsigned int )(2 << 8) | 74U),      (int )((unsigned int )(2 << 8) | 75U),      (int )((unsigned long )(((1U << 30) | (unsigned int )(2 << 8)) | 76U) | (sizeof(struct floppy_max_errors ) << 16)), 
        (int )((unsigned long )(((2U << 30) | (unsigned int )(2 << 8)) | 14U) | (sizeof(struct floppy_max_errors ) << 16)),      (int )((unsigned long )(((2U << 30) | (unsigned int )(2 << 8)) | 15U) | (sizeof(floppy_drive_name ) << 16)),      (int )((unsigned long )(((1U << 30) | (unsigned int )(2 << 8)) | 144U) | (sizeof(struct floppy_drive_params ) << 16)),      (int )((unsigned long )(((2U << 30) | (unsigned int )(2 << 8)) | 17U) | (sizeof(struct floppy_drive_params ) << 16)), 
        (int )((unsigned long )(((2U << 30) | (unsigned int )(2 << 8)) | 18U) | (sizeof(struct floppy_drive_struct ) << 16)),      (int )((unsigned long )(((2U << 30) | (unsigned int )(2 << 8)) | 19U) | (sizeof(struct floppy_drive_struct ) << 16)),      (int )((unsigned int )(2 << 8) | 84U),      (int )((unsigned long )(((2U << 30) | (unsigned int )(2 << 8)) | 21U) | (sizeof(struct floppy_fdc_state ) << 16)), 
        (int )((unsigned int )(2 << 8) | 86U),      (int )((unsigned long )(((2U << 30) | (unsigned int )(2 << 8)) | 23U) | (sizeof(struct floppy_write_errors ) << 16)),      (int )((unsigned int )(2 << 8) | 88U),      (int )((unsigned int )(2 << 8) | 90U), 
        (int )((unsigned int )(2 << 8) | 89U)};
#line 3403 "drivers/block/floppy.c"
__inline static int normalize_ioctl(int *cmd , int *size ) 
{ int i ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  int __cil_tmp18 ;
  int __cil_tmp19 ;
  int __cil_tmp20 ;
  int __cil_tmp21 ;
  int __cil_tmp22 ;
  int __cil_tmp23 ;

  {
#line 3407
  i = 0;
  {
#line 3407
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 3407
    __cil_tmp4 = 100UL / 4UL;
#line 3407
    __cil_tmp5 = (unsigned long )i;
#line 3407
    if (__cil_tmp5 < __cil_tmp4) {

    } else {
#line 3407
      goto while_break;
    }
    }
    {
#line 3408
    __cil_tmp6 = i * 4UL;
#line 3408
    __cil_tmp7 = (unsigned long )(ioctl_table) + __cil_tmp6;
#line 3408
    __cil_tmp8 = *((int *)__cil_tmp7);
#line 3408
    __cil_tmp9 = __cil_tmp8 & 65535;
#line 3408
    __cil_tmp10 = *cmd;
#line 3408
    __cil_tmp11 = __cil_tmp10 & 65535;
#line 3408
    if (__cil_tmp11 == __cil_tmp9) {
#line 3409
      __cil_tmp12 = 1 << 14;
#line 3409
      __cil_tmp13 = __cil_tmp12 - 1;
#line 3409
      __cil_tmp14 = *cmd;
#line 3409
      __cil_tmp15 = __cil_tmp14 >> 16;
#line 3409
      *size = __cil_tmp15 & __cil_tmp13;
#line 3410
      __cil_tmp16 = i * 4UL;
#line 3410
      __cil_tmp17 = (unsigned long )(ioctl_table) + __cil_tmp16;
#line 3410
      *cmd = *((int *)__cil_tmp17);
      {
#line 3411
      __cil_tmp18 = 1 << 14;
#line 3411
      __cil_tmp19 = __cil_tmp18 - 1;
#line 3411
      __cil_tmp20 = *cmd;
#line 3411
      __cil_tmp21 = __cil_tmp20 >> 16;
#line 3411
      __cil_tmp22 = __cil_tmp21 & __cil_tmp19;
#line 3411
      __cil_tmp23 = *size;
#line 3411
      if (__cil_tmp23 > __cil_tmp22) {
        {
#line 3412
        printk("ioctl not yet supported\n");
        }
#line 3413
        return (-14);
      } else {

      }
      }
#line 3415
      return (0);
    } else {

    }
    }
#line 3407
    i = i + 1;
  }
  while_break: /* CIL Label */ ;
  }
#line 3418
  return (-22);
}
}
#line 3421 "drivers/block/floppy.c"
static int get_floppy_geometry(int drive , int type , struct floppy_struct **g ) 
{ int tmp ;
  int tmp___0 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  void (*__cil_tmp8)(void) ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  struct floppy_struct *__cil_tmp11 ;

  {
#line 3423
  if (type) {
#line 3424
    __cil_tmp6 = type * 32UL;
#line 3424
    __cil_tmp7 = (unsigned long )(floppy_type) + __cil_tmp6;
#line 3424
    *g = (struct floppy_struct *)__cil_tmp7;
  } else {
    {
#line 3426
    tmp = _lock_fdc(drive, 0, 3426);
    }
#line 3426
    if (tmp) {
#line 3426
      return (-4);
    } else {

    }
    {
#line 3427
    tmp___0 = poll_drive(0, 0);
    }
#line 3427
    if (tmp___0 == -4) {
#line 3427
      return (-4);
    } else {

    }
    {
#line 3428
    __cil_tmp8 = & process_fd_request;
#line 3428
    (*__cil_tmp8)();
#line 3429
    __cil_tmp9 = drive * 8UL;
#line 3429
    __cil_tmp10 = (unsigned long )(current_type) + __cil_tmp9;
#line 3429
    *g = *((struct floppy_struct **)__cil_tmp10);
    }
  }
  {
#line 3431
  __cil_tmp11 = *g;
#line 3431
  if (! __cil_tmp11) {
#line 3432
    return (-19);
  } else {

  }
  }
#line 3433
  return (0);
}
}
#line 3436 "drivers/block/floppy.c"
static int fd_getgeo(struct block_device *bdev , struct hd_geometry *geo ) 
{ int drive ;
  int type ;
  struct floppy_struct *g ;
  int ret ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  struct gendisk *__cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  void *__cil_tmp12 ;
  long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;
  struct floppy_struct **__cil_tmp19 ;
  struct floppy_struct *__cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned int __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  struct floppy_struct **__cil_tmp26 ;
  struct floppy_struct *__cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned int __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  struct floppy_struct **__cil_tmp33 ;
  struct floppy_struct *__cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned long __cil_tmp36 ;
  unsigned int __cil_tmp37 ;

  {
  {
#line 3438
  __cil_tmp7 = (unsigned long )bdev;
#line 3438
  __cil_tmp8 = __cil_tmp7 + 24;
#line 3438
  __cil_tmp9 = *((struct gendisk **)__cil_tmp8);
#line 3438
  __cil_tmp10 = (unsigned long )__cil_tmp9;
#line 3438
  __cil_tmp11 = __cil_tmp10 + 64;
#line 3438
  __cil_tmp12 = *((void **)__cil_tmp11);
#line 3438
  __cil_tmp13 = (long )__cil_tmp12;
#line 3438
  drive = (int )__cil_tmp13;
#line 3439
  __cil_tmp14 = drive * 80UL;
#line 3439
  __cil_tmp15 = __cil_tmp14 + 52;
#line 3439
  __cil_tmp16 = (unsigned long )(drive_state) + __cil_tmp15;
#line 3439
  __cil_tmp17 = *((int *)__cil_tmp16);
#line 3439
  __cil_tmp18 = __cil_tmp17 >> 2;
#line 3439
  type = __cil_tmp18 & 31;
#line 3443
  ret = get_floppy_geometry(drive, type, & g);
  }
#line 3444
  if (ret) {
#line 3445
    return (ret);
  } else {

  }
#line 3447
  __cil_tmp19 = & g;
#line 3447
  __cil_tmp20 = *__cil_tmp19;
#line 3447
  __cil_tmp21 = (unsigned long )__cil_tmp20;
#line 3447
  __cil_tmp22 = __cil_tmp21 + 8;
#line 3447
  __cil_tmp23 = *((unsigned int *)__cil_tmp22);
#line 3447
  *((unsigned char *)geo) = (unsigned char )__cil_tmp23;
#line 3448
  __cil_tmp24 = (unsigned long )geo;
#line 3448
  __cil_tmp25 = __cil_tmp24 + 1;
#line 3448
  __cil_tmp26 = & g;
#line 3448
  __cil_tmp27 = *__cil_tmp26;
#line 3448
  __cil_tmp28 = (unsigned long )__cil_tmp27;
#line 3448
  __cil_tmp29 = __cil_tmp28 + 4;
#line 3448
  __cil_tmp30 = *((unsigned int *)__cil_tmp29);
#line 3448
  *((unsigned char *)__cil_tmp25) = (unsigned char )__cil_tmp30;
#line 3449
  __cil_tmp31 = (unsigned long )geo;
#line 3449
  __cil_tmp32 = __cil_tmp31 + 2;
#line 3449
  __cil_tmp33 = & g;
#line 3449
  __cil_tmp34 = *__cil_tmp33;
#line 3449
  __cil_tmp35 = (unsigned long )__cil_tmp34;
#line 3449
  __cil_tmp36 = __cil_tmp35 + 12;
#line 3449
  __cil_tmp37 = *((unsigned int *)__cil_tmp36);
#line 3449
  *((unsigned short *)__cil_tmp32) = (unsigned short )__cil_tmp37;
#line 3450
  return (0);
}
}
#line 3453 "drivers/block/floppy.c"
static int fd_ioctl(struct inode *inode , struct file *filp , unsigned int cmd , unsigned long param ) 
{ int drive ;
  int i ;
  int type ;
  int ret ;
  int size ;
  union inparam inparam ;
  char const   *outparam ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  int tmp___6 ;
  int tmp___7 ;
  int tmp___8 ;
  int __x ;
  int __y ;
  __kernel_size_t tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;
  int tmp___12 ;
  int tmp___13 ;
  int tmp___14 ;
  int tmp___15 ;
  int tmp___16 ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  struct block_device *__cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned long __cil_tmp36 ;
  struct gendisk *__cil_tmp37 ;
  unsigned long __cil_tmp38 ;
  unsigned long __cil_tmp39 ;
  void *__cil_tmp40 ;
  long __cil_tmp41 ;
  unsigned long __cil_tmp42 ;
  unsigned long __cil_tmp43 ;
  unsigned long __cil_tmp44 ;
  int __cil_tmp45 ;
  int __cil_tmp46 ;
  unsigned int *__cil_tmp47 ;
  unsigned int __cil_tmp48 ;
  int __cil_tmp49 ;
  int __cil_tmp50 ;
  unsigned int *__cil_tmp51 ;
  int __cil_tmp52 ;
  unsigned int __cil_tmp53 ;
  unsigned int *__cil_tmp54 ;
  unsigned int __cil_tmp55 ;
  int __cil_tmp56 ;
  int __cil_tmp57 ;
  unsigned int *__cil_tmp58 ;
  int __cil_tmp59 ;
  unsigned int __cil_tmp60 ;
  unsigned int *__cil_tmp61 ;
  unsigned int __cil_tmp62 ;
  unsigned int __cil_tmp63 ;
  int *__cil_tmp64 ;
  unsigned int *__cil_tmp65 ;
  unsigned int __cil_tmp66 ;
  unsigned long __cil_tmp67 ;
  unsigned long __cil_tmp68 ;
  unsigned int *__cil_tmp69 ;
  unsigned int __cil_tmp70 ;
  void *__cil_tmp71 ;
  unsigned int __cil_tmp72 ;
  int __cil_tmp73 ;
  int __cil_tmp74 ;
  unsigned int __cil_tmp75 ;
  unsigned int *__cil_tmp76 ;
  unsigned int __cil_tmp77 ;
  unsigned int __cil_tmp78 ;
  unsigned int __cil_tmp79 ;
  void *__cil_tmp80 ;
  void *__cil_tmp81 ;
  int *__cil_tmp82 ;
  int __cil_tmp83 ;
  unsigned long __cil_tmp84 ;
  unsigned int *__cil_tmp85 ;
  unsigned int __cil_tmp86 ;
  unsigned long __cil_tmp87 ;
  unsigned long __cil_tmp88 ;
  unsigned long __cil_tmp89 ;
  int __cil_tmp90 ;
  int __cil_tmp91 ;
  unsigned int __cil_tmp92 ;
  int __cil_tmp93 ;
  unsigned long __cil_tmp94 ;
  unsigned long __cil_tmp95 ;
  unsigned long *__cil_tmp96 ;
  unsigned long __cil_tmp97 ;
  unsigned long __cil_tmp98 ;
  unsigned long *__cil_tmp99 ;
  void (*__cil_tmp100)(void) ;
  int __cil_tmp101 ;
  unsigned int __cil_tmp102 ;
  unsigned long __cil_tmp103 ;
  unsigned long __cil_tmp104 ;
  void *__cil_tmp105 ;
  unsigned long __cil_tmp106 ;
  unsigned long __cil_tmp107 ;
  int __cil_tmp108 ;
  unsigned long __cil_tmp109 ;
  unsigned long __cil_tmp110 ;
  unsigned long __cil_tmp111 ;
  unsigned long __cil_tmp112 ;
  unsigned long __cil_tmp113 ;
  struct block_device *__cil_tmp114 ;
  unsigned int *__cil_tmp115 ;
  unsigned int __cil_tmp116 ;
  union inparam *__cil_tmp117 ;
  struct floppy_struct *__cil_tmp118 ;
  unsigned long __cil_tmp119 ;
  unsigned long __cil_tmp120 ;
  struct block_device *__cil_tmp121 ;
  unsigned long __cil_tmp122 ;
  int __cil_tmp123 ;
  unsigned int __cil_tmp124 ;
  unsigned int __cil_tmp125 ;
  unsigned int __cil_tmp126 ;
  unsigned int __cil_tmp127 ;
  unsigned long __cil_tmp128 ;
  unsigned long __cil_tmp129 ;
  int __cil_tmp130 ;
  unsigned int __cil_tmp131 ;
  unsigned int __cil_tmp132 ;
  unsigned int __cil_tmp133 ;
  unsigned int __cil_tmp134 ;
  unsigned long __cil_tmp135 ;
  struct floppy_struct **__cil_tmp136 ;
  unsigned long __cil_tmp137 ;
  int __cil_tmp138 ;
  unsigned int __cil_tmp139 ;
  unsigned int __cil_tmp140 ;
  unsigned int __cil_tmp141 ;
  unsigned int __cil_tmp142 ;
  unsigned long __cil_tmp143 ;
  unsigned long __cil_tmp144 ;
  unsigned long __cil_tmp145 ;
  unsigned long __cil_tmp146 ;
  unsigned long __cil_tmp147 ;
  unsigned long __cil_tmp148 ;
  unsigned long __cil_tmp149 ;
  char __cil_tmp150 ;
  int __cil_tmp151 ;
  int __cil_tmp152 ;
  int __cil_tmp153 ;
  unsigned int __cil_tmp154 ;
  unsigned long __cil_tmp155 ;
  unsigned long __cil_tmp156 ;
  unsigned long __cil_tmp157 ;
  unsigned long __cil_tmp158 ;
  unsigned long __cil_tmp159 ;
  unsigned long __cil_tmp160 ;
  char __cil_tmp161 ;
  int __cil_tmp162 ;
  int __cil_tmp163 ;
  int __cil_tmp164 ;
  unsigned int __cil_tmp165 ;
  int __cil_tmp166 ;
  unsigned int __cil_tmp167 ;
  unsigned long __cil_tmp168 ;
  unsigned long __cil_tmp169 ;
  unsigned long __cil_tmp170 ;
  void (*__cil_tmp171)(void) ;
  unsigned long __cil_tmp172 ;
  unsigned long __cil_tmp173 ;
  unsigned long __cil_tmp174 ;
  int __cil_tmp175 ;
  unsigned long __cil_tmp176 ;
  int __cil_tmp177 ;
  unsigned int __cil_tmp178 ;
  unsigned int __cil_tmp179 ;
  unsigned int __cil_tmp180 ;
  unsigned int __cil_tmp181 ;
  unsigned long __cil_tmp182 ;
  union inparam *__cil_tmp183 ;
  struct format_descr *__cil_tmp184 ;
  int __cil_tmp185 ;
  unsigned int __cil_tmp186 ;
  int __cil_tmp187 ;
  unsigned int __cil_tmp188 ;
  unsigned long __cil_tmp189 ;
  unsigned long __cil_tmp190 ;
  struct block_device *__cil_tmp191 ;
  unsigned long __cil_tmp192 ;
  unsigned long __cil_tmp193 ;
  unsigned long __cil_tmp194 ;
  unsigned long __cil_tmp195 ;
  unsigned long __cil_tmp196 ;
  unsigned short __cil_tmp197 ;
  int __cil_tmp198 ;
  unsigned int __cil_tmp199 ;
  char const   **__cil_tmp200 ;
  unsigned long __cil_tmp201 ;
  unsigned long __cil_tmp202 ;
  unsigned long __cil_tmp203 ;
  struct floppy_max_errors *__cil_tmp204 ;
  unsigned long __cil_tmp205 ;
  int __cil_tmp206 ;
  unsigned int __cil_tmp207 ;
  unsigned int __cil_tmp208 ;
  unsigned int __cil_tmp209 ;
  unsigned int __cil_tmp210 ;
  unsigned long __cil_tmp211 ;
  unsigned long __cil_tmp212 ;
  unsigned long __cil_tmp213 ;
  unsigned long __cil_tmp214 ;
  union inparam *__cil_tmp215 ;
  unsigned long __cil_tmp216 ;
  int __cil_tmp217 ;
  unsigned int __cil_tmp218 ;
  unsigned int __cil_tmp219 ;
  unsigned int __cil_tmp220 ;
  unsigned int __cil_tmp221 ;
  unsigned long __cil_tmp222 ;
  char const   **__cil_tmp223 ;
  int *__cil_tmp224 ;
  char const   **__cil_tmp225 ;
  char const   *__cil_tmp226 ;
  __kernel_size_t __cil_tmp227 ;
  unsigned long __cil_tmp228 ;
  int __cil_tmp229 ;
  unsigned int __cil_tmp230 ;
  unsigned int __cil_tmp231 ;
  unsigned int __cil_tmp232 ;
  unsigned int __cil_tmp233 ;
  unsigned long __cil_tmp234 ;
  int *__cil_tmp235 ;
  unsigned long __cil_tmp236 ;
  unsigned long __cil_tmp237 ;
  union inparam *__cil_tmp238 ;
  unsigned long __cil_tmp239 ;
  int __cil_tmp240 ;
  unsigned int __cil_tmp241 ;
  unsigned int __cil_tmp242 ;
  unsigned int __cil_tmp243 ;
  unsigned int __cil_tmp244 ;
  unsigned long __cil_tmp245 ;
  char const   **__cil_tmp246 ;
  unsigned long __cil_tmp247 ;
  unsigned long __cil_tmp248 ;
  struct floppy_drive_params *__cil_tmp249 ;
  unsigned long __cil_tmp250 ;
  int __cil_tmp251 ;
  unsigned int __cil_tmp252 ;
  unsigned int __cil_tmp253 ;
  unsigned int __cil_tmp254 ;
  unsigned int __cil_tmp255 ;
  unsigned long __cil_tmp256 ;
  unsigned long __cil_tmp257 ;
  int __cil_tmp258 ;
  unsigned int __cil_tmp259 ;
  unsigned int __cil_tmp260 ;
  unsigned int __cil_tmp261 ;
  unsigned int __cil_tmp262 ;
  unsigned long __cil_tmp263 ;
  void (*__cil_tmp264)(void) ;
  char const   **__cil_tmp265 ;
  unsigned long __cil_tmp266 ;
  unsigned long __cil_tmp267 ;
  struct floppy_drive_struct *__cil_tmp268 ;
  unsigned long __cil_tmp269 ;
  int __cil_tmp270 ;
  unsigned int __cil_tmp271 ;
  unsigned int __cil_tmp272 ;
  unsigned int __cil_tmp273 ;
  unsigned int __cil_tmp274 ;
  unsigned long __cil_tmp275 ;
  int __cil_tmp276 ;
  int __cil_tmp277 ;
  unsigned int __cil_tmp278 ;
  char const   **__cil_tmp279 ;
  int __cil_tmp280 ;
  int __cil_tmp281 ;
  unsigned long __cil_tmp282 ;
  unsigned long __cil_tmp283 ;
  struct floppy_fdc_state *__cil_tmp284 ;
  unsigned long __cil_tmp285 ;
  int __cil_tmp286 ;
  unsigned int __cil_tmp287 ;
  unsigned int __cil_tmp288 ;
  unsigned int __cil_tmp289 ;
  unsigned int __cil_tmp290 ;
  unsigned long __cil_tmp291 ;
  unsigned long __cil_tmp292 ;
  unsigned long __cil_tmp293 ;
  struct floppy_write_errors *__cil_tmp294 ;
  void *__cil_tmp295 ;
  unsigned int __cil_tmp296 ;
  int __cil_tmp297 ;
  unsigned int __cil_tmp298 ;
  char const   **__cil_tmp299 ;
  unsigned long __cil_tmp300 ;
  unsigned long __cil_tmp301 ;
  struct floppy_write_errors *__cil_tmp302 ;
  unsigned long __cil_tmp303 ;
  int __cil_tmp304 ;
  unsigned int __cil_tmp305 ;
  unsigned int __cil_tmp306 ;
  unsigned int __cil_tmp307 ;
  unsigned int __cil_tmp308 ;
  unsigned long __cil_tmp309 ;
  int __cil_tmp310 ;
  unsigned int __cil_tmp311 ;
  unsigned int *__cil_tmp312 ;
  unsigned int __cil_tmp313 ;
  int __cil_tmp314 ;
  void *__cil_tmp315 ;
  void (*__cil_tmp316)(void) ;
  int __cil_tmp317 ;
  unsigned int __cil_tmp318 ;
  void (*__cil_tmp319)(void) ;
  int __cil_tmp320 ;
  int __cil_tmp321 ;
  unsigned int __cil_tmp322 ;
  unsigned int *__cil_tmp323 ;
  unsigned int __cil_tmp324 ;
  unsigned int __cil_tmp325 ;
  unsigned int __cil_tmp326 ;
  void *__cil_tmp327 ;
  char const   **__cil_tmp328 ;
  char const   *__cil_tmp329 ;
  void const   *__cil_tmp330 ;
  int *__cil_tmp331 ;
  int __cil_tmp332 ;
  unsigned long __cil_tmp333 ;

  {
#line 3460
  __cil_tmp32 = (unsigned long )inode;
#line 3460
  __cil_tmp33 = __cil_tmp32 + 16;
#line 3460
  __cil_tmp34 = *((struct block_device **)__cil_tmp33);
#line 3460
  __cil_tmp35 = (unsigned long )__cil_tmp34;
#line 3460
  __cil_tmp36 = __cil_tmp35 + 24;
#line 3460
  __cil_tmp37 = *((struct gendisk **)__cil_tmp36);
#line 3460
  __cil_tmp38 = (unsigned long )__cil_tmp37;
#line 3460
  __cil_tmp39 = __cil_tmp38 + 64;
#line 3460
  __cil_tmp40 = *((void **)__cil_tmp39);
#line 3460
  __cil_tmp41 = (long )__cil_tmp40;
#line 3460
  drive = (int )__cil_tmp41;
#line 3461
  __cil_tmp42 = drive * 80UL;
#line 3461
  __cil_tmp43 = __cil_tmp42 + 52;
#line 3461
  __cil_tmp44 = (unsigned long )(drive_state) + __cil_tmp43;
#line 3461
  __cil_tmp45 = *((int *)__cil_tmp44);
#line 3461
  __cil_tmp46 = __cil_tmp45 >> 2;
#line 3461
  type = __cil_tmp46 & 31;
  {
#line 3475
  __cil_tmp47 = & cmd;
#line 3475
  __cil_tmp48 = *__cil_tmp47;
#line 3475
  if (__cil_tmp48 == 21257U) {
    {
#line 3477
    __cil_tmp49 = (int )current_drive;
#line 3477
    printk("floppy%d: obsolete eject ioctl\n", __cil_tmp49);
#line 3478
    __cil_tmp50 = (int )current_drive;
#line 3478
    printk("floppy%d: please use floppycontrol --eject\n", __cil_tmp50);
#line 3479
    __cil_tmp51 = & cmd;
#line 3479
    __cil_tmp52 = 2 << 8;
#line 3479
    __cil_tmp53 = (unsigned int )__cil_tmp52;
#line 3479
    *__cil_tmp51 = __cil_tmp53 | 90U;
    }
  } else {
    {
#line 3475
    __cil_tmp54 = & cmd;
#line 3475
    __cil_tmp55 = *__cil_tmp54;
#line 3475
    if (__cil_tmp55 == 25712U) {
      {
#line 3477
      __cil_tmp56 = (int )current_drive;
#line 3477
      printk("floppy%d: obsolete eject ioctl\n", __cil_tmp56);
#line 3478
      __cil_tmp57 = (int )current_drive;
#line 3478
      printk("floppy%d: please use floppycontrol --eject\n", __cil_tmp57);
#line 3479
      __cil_tmp58 = & cmd;
#line 3479
      __cil_tmp59 = 2 << 8;
#line 3479
      __cil_tmp60 = (unsigned int )__cil_tmp59;
#line 3479
      *__cil_tmp58 = __cil_tmp60 | 90U;
      }
    } else {

    }
    }
  }
  }
  {
#line 3483
  __cil_tmp61 = & cmd;
#line 3483
  __cil_tmp62 = *__cil_tmp61;
#line 3483
  __cil_tmp63 = __cil_tmp62 & 65280U;
#line 3483
  if (__cil_tmp63 == 512U) {
    {
#line 3484
    __cil_tmp64 = (int *)(& cmd);
#line 3484
    ret = normalize_ioctl(__cil_tmp64, & size);
    }
#line 3484
    if (ret) {
#line 3484
      return (ret);
    } else {

    }
  } else {
#line 3486
    return (-22);
  }
  }
  {
#line 3489
  __cil_tmp65 = & cmd;
#line 3489
  __cil_tmp66 = *__cil_tmp65;
#line 3489
  if (__cil_tmp66 & 64U) {
#line 3489
    if (filp) {
      {
#line 3489
      __cil_tmp67 = (unsigned long )filp;
#line 3489
      __cil_tmp68 = __cil_tmp67 + 40;
#line 3489
      if (*((void **)__cil_tmp68)) {
#line 3489
        goto _L;
      } else {
#line 3491
        return (-1);
      }
      }
    } else {
#line 3491
      return (-1);
    }
  } else {
    _L: 
    {
#line 3489
    __cil_tmp69 = & cmd;
#line 3489
    __cil_tmp70 = *__cil_tmp69;
#line 3489
    if (__cil_tmp70 & 128U) {
      {
#line 3489
      tmp = capable(21);
      }
#line 3489
      if (! tmp) {
#line 3491
        return (-1);
      } else {

      }
    } else {

    }
    }
  }
  }
  {
#line 3494
  __cil_tmp71 = (void *)(& inparam);
#line 3494
  __cil_tmp72 = (unsigned int )128UL;
#line 3494
  memset(__cil_tmp71, 0, __cil_tmp72);
  }
  {
#line 3495
  __cil_tmp73 = 1 << 2;
#line 3495
  __cil_tmp74 = __cil_tmp73 - 1;
#line 3495
  __cil_tmp75 = (unsigned int )__cil_tmp74;
#line 3495
  __cil_tmp76 = & cmd;
#line 3495
  __cil_tmp77 = *__cil_tmp76;
#line 3495
  __cil_tmp78 = __cil_tmp77 >> 30;
#line 3495
  __cil_tmp79 = __cil_tmp78 & __cil_tmp75;
#line 3495
  if (__cil_tmp79 & 1U) {
    {
#line 3496
    __cil_tmp80 = (void *)param;
#line 3496
    __cil_tmp81 = (void *)(& inparam);
#line 3496
    __cil_tmp82 = & size;
#line 3496
    __cil_tmp83 = *__cil_tmp82;
#line 3496
    __cil_tmp84 = (unsigned long )__cil_tmp83;
#line 3496
    ret = fd_copyin(__cil_tmp80, __cil_tmp81, __cil_tmp84);
    }
#line 3496
    if (ret) {
#line 3496
      return (ret);
    } else {

    }
  } else {

  }
  }
  {
#line 3498
  __cil_tmp85 = & cmd;
#line 3498
  __cil_tmp86 = *__cil_tmp85;
  {
#line 3499
  if ((int )__cil_tmp86 == (__cil_tmp92 | 90U)) {
#line 3499
    goto case_exp;
  } else {

  }
#line 3513
  if ((int )__cil_tmp86 == (__cil_tmp102 | 65U)) {
#line 3513
    goto case_exp___0;
  } else {

  }
#line 3519
  if ((int )__cil_tmp86 == (__cil_tmp128 | __cil_tmp122)) {
#line 3519
    goto case_exp___1;
  } else {

  }
#line 3520
  if ((int )__cil_tmp86 == (__cil_tmp135 | __cil_tmp129)) {
#line 3520
    goto case_exp___1;
  } else {

  }
#line 3522
  if ((int )__cil_tmp86 == (__cil_tmp143 | __cil_tmp137)) {
#line 3522
    goto case_exp___3;
  } else {

  }
#line 3528
  if ((int )__cil_tmp86 == (__cil_tmp154 | 69U)) {
#line 3528
    goto case_exp___4;
  } else {

  }
#line 3532
  if ((int )__cil_tmp86 == (__cil_tmp165 | 70U)) {
#line 3532
    goto case_exp___5;
  } else {

  }
#line 3535
  if ((int )__cil_tmp86 == (__cil_tmp167 | 71U)) {
#line 3535
    goto case_exp___6;
  } else {

  }
#line 3546
  if ((int )__cil_tmp86 == (__cil_tmp182 | __cil_tmp176)) {
#line 3546
    goto case_exp___7;
  } else {

  }
#line 3550
  if ((int )__cil_tmp86 == (__cil_tmp186 | 73U)) {
#line 3550
    goto case_exp___8;
  } else {

  }
#line 3551
  if ((int )__cil_tmp86 == (__cil_tmp188 | 75U)) {
#line 3551
    goto case_exp___8;
  } else {

  }
#line 3554
  if ((int )__cil_tmp86 == (__cil_tmp199 | 74U)) {
#line 3554
    goto case_exp___10;
  } else {

  }
#line 3559
  if ((int )__cil_tmp86 == (__cil_tmp211 | __cil_tmp205)) {
#line 3559
    goto case_exp___11;
  } else {

  }
#line 3560
  if ((int )__cil_tmp86 == (__cil_tmp222 | __cil_tmp216)) {
#line 3560
    goto case_exp___12;
  } else {

  }
#line 3561
  if ((int )__cil_tmp86 == (__cil_tmp234 | __cil_tmp228)) {
#line 3561
    goto case_exp___13;
  } else {

  }
#line 3566
  if ((int )__cil_tmp86 == (__cil_tmp245 | __cil_tmp239)) {
#line 3566
    goto case_exp___14;
  } else {

  }
#line 3568
  if ((int )__cil_tmp86 == (__cil_tmp256 | __cil_tmp250)) {
#line 3568
    goto case_exp___15;
  } else {

  }
#line 3569
  if ((int )__cil_tmp86 == (__cil_tmp263 | __cil_tmp257)) {
#line 3569
    goto case_exp___16;
  } else {

  }
#line 3574
  if ((int )__cil_tmp86 == (__cil_tmp275 | __cil_tmp269)) {
#line 3574
    goto case_exp___17;
  } else {

  }
#line 3576
  if ((int )__cil_tmp86 == (__cil_tmp278 | 84U)) {
#line 3576
    goto case_exp___18;
  } else {

  }
#line 3579
  if ((int )__cil_tmp86 == (__cil_tmp291 | __cil_tmp285)) {
#line 3579
    goto case_exp___19;
  } else {

  }
#line 3581
  if ((int )__cil_tmp86 == (__cil_tmp298 | 86U)) {
#line 3581
    goto case_exp___20;
  } else {

  }
#line 3585
  if ((int )__cil_tmp86 == (__cil_tmp309 | __cil_tmp303)) {
#line 3585
    goto case_exp___21;
  } else {

  }
#line 3586
  if ((int )__cil_tmp86 == (__cil_tmp311 | 88U)) {
#line 3586
    goto case_exp___22;
  } else {

  }
#line 3595
  if ((int )__cil_tmp86 == (__cil_tmp318 | 89U)) {
#line 3595
    goto case_exp___23;
  } else {

  }
#line 3601
  goto switch_default;
  case_exp: /* CIL Label */ 
  {
#line 3500
  __cil_tmp87 = drive * 80UL;
#line 3500
  __cil_tmp88 = __cil_tmp87 + 48;
#line 3500
  __cil_tmp89 = (unsigned long )(drive_state) + __cil_tmp88;
#line 3500
  __cil_tmp90 = *((int *)__cil_tmp89);
#line 3500
  __cil_tmp91 = 2 << 8;
#line 3500
  __cil_tmp92 = (unsigned int )__cil_tmp91;
#line 3500
  if (__cil_tmp90 != 1) {
#line 3502
    return (-16);
  } else {

  }
  }
  {
#line 3503
  tmp___0 = _lock_fdc(drive, 1, 3503);
  }
#line 3503
  if (tmp___0) {
#line 3503
    return (-4);
  } else {

  }
  {
#line 3507
  __cil_tmp93 = drive & 3;
#line 3507
  ret = fd_eject(__cil_tmp93);
#line 3509
  __cil_tmp94 = drive * 80UL;
#line 3509
  __cil_tmp95 = (unsigned long )(drive_state) + __cil_tmp94;
#line 3509
  __cil_tmp96 = (unsigned long *)__cil_tmp95;
#line 3509
  set_bit(4, __cil_tmp96);
#line 3510
  __cil_tmp97 = drive * 80UL;
#line 3510
  __cil_tmp98 = (unsigned long )(drive_state) + __cil_tmp97;
#line 3510
  __cil_tmp99 = (unsigned long *)__cil_tmp98;
#line 3510
  set_bit(1, __cil_tmp99);
#line 3511
  __cil_tmp100 = & process_fd_request;
#line 3511
  (*__cil_tmp100)();
  }
#line 3512
  return (ret);
  case_exp___0: /* CIL Label */ 
  {
#line 3514
  __cil_tmp101 = 2 << 8;
#line 3514
  __cil_tmp102 = (unsigned int )__cil_tmp101;
  {
#line 3514
  tmp___1 = _lock_fdc(drive, 1, 3514);
  }
  }
#line 3514
  if (tmp___1) {
#line 3514
    return (-4);
  } else {

  }
  {
#line 3515
  __cil_tmp103 = drive * 8UL;
#line 3515
  __cil_tmp104 = (unsigned long )(current_type) + __cil_tmp103;
#line 3515
  __cil_tmp105 = (void *)0;
#line 3515
  *((struct floppy_struct **)__cil_tmp104) = (struct floppy_struct *)__cil_tmp105;
#line 3516
  __cil_tmp106 = drive * 8UL;
#line 3516
  __cil_tmp107 = (unsigned long )(floppy_sizes) + __cil_tmp106;
#line 3516
  __cil_tmp108 = 4 << 1;
#line 3516
  *((sector_t *)__cil_tmp107) = (sector_t )__cil_tmp108;
#line 3517
  __cil_tmp109 = drive * 80UL;
#line 3517
  __cil_tmp110 = __cil_tmp109 + 44;
#line 3517
  __cil_tmp111 = (unsigned long )(drive_state) + __cil_tmp110;
#line 3517
  *((int *)__cil_tmp111) = 0;
#line 3518
  __cil_tmp112 = (unsigned long )inode;
#line 3518
  __cil_tmp113 = __cil_tmp112 + 16;
#line 3518
  __cil_tmp114 = *((struct block_device **)__cil_tmp113);
#line 3518
  tmp___2 = invalidate_drive(__cil_tmp114);
  }
#line 3518
  return (tmp___2);
  case_exp___1: /* CIL Label */ 
  case_exp___2: /* CIL Label */ 
  {
#line 3521
  __cil_tmp122 = 32UL << 16;
#line 3521
  __cil_tmp123 = 2 << 8;
#line 3521
  __cil_tmp124 = (unsigned int )__cil_tmp123;
#line 3521
  __cil_tmp125 = 1U << 30;
#line 3521
  __cil_tmp126 = __cil_tmp125 | __cil_tmp124;
#line 3521
  __cil_tmp127 = __cil_tmp126 | 66U;
#line 3521
  __cil_tmp128 = (unsigned long )__cil_tmp127;
#line 3521
  __cil_tmp129 = 32UL << 16;
#line 3521
  __cil_tmp130 = 2 << 8;
#line 3521
  __cil_tmp131 = (unsigned int )__cil_tmp130;
#line 3521
  __cil_tmp132 = 1U << 30;
#line 3521
  __cil_tmp133 = __cil_tmp132 | __cil_tmp131;
#line 3521
  __cil_tmp134 = __cil_tmp133 | 67U;
#line 3521
  __cil_tmp135 = (unsigned long )__cil_tmp134;
  {
#line 3521
  __cil_tmp115 = & cmd;
#line 3521
  __cil_tmp116 = *__cil_tmp115;
#line 3521
  __cil_tmp117 = & inparam;
#line 3521
  __cil_tmp118 = (struct floppy_struct *)__cil_tmp117;
#line 3521
  __cil_tmp119 = (unsigned long )inode;
#line 3521
  __cil_tmp120 = __cil_tmp119 + 16;
#line 3521
  __cil_tmp121 = *((struct block_device **)__cil_tmp120);
#line 3521
  tmp___3 = set_geometry(__cil_tmp116, __cil_tmp118, drive, type, __cil_tmp121);
  }
  }
#line 3521
  return (tmp___3);
  case_exp___3: /* CIL Label */ 
  {
#line 3524
  __cil_tmp137 = 32UL << 16;
#line 3524
  __cil_tmp138 = 2 << 8;
#line 3524
  __cil_tmp139 = (unsigned int )__cil_tmp138;
#line 3524
  __cil_tmp140 = 2U << 30;
#line 3524
  __cil_tmp141 = __cil_tmp140 | __cil_tmp139;
#line 3524
  __cil_tmp142 = __cil_tmp141 | 4U;
#line 3524
  __cil_tmp143 = (unsigned long )__cil_tmp142;
  {
#line 3524
  __cil_tmp136 = (struct floppy_struct **)(& outparam);
#line 3524
  ret = get_floppy_geometry(drive, type, __cil_tmp136);
  }
  }
#line 3524
  if (ret) {
#line 3524
    return (ret);
  } else {

  }
#line 3527
  goto switch_break;
  case_exp___4: /* CIL Label */ 
  {
#line 3530
  __cil_tmp153 = 2 << 8;
#line 3530
  __cil_tmp154 = (unsigned int )__cil_tmp153;
#line 3530
  __cil_tmp144 = drive * 128UL;
#line 3530
  __cil_tmp145 = __cil_tmp144 + 96;
#line 3530
  __cil_tmp146 = (unsigned long )(drive_params) + __cil_tmp145;
#line 3530
  __cil_tmp147 = drive * 128UL;
#line 3530
  __cil_tmp148 = __cil_tmp147 + 96;
#line 3530
  __cil_tmp149 = (unsigned long )(drive_params) + __cil_tmp148;
#line 3530
  __cil_tmp150 = *((char *)__cil_tmp149);
#line 3530
  __cil_tmp151 = (int )__cil_tmp150;
#line 3530
  __cil_tmp152 = __cil_tmp151 | 16;
#line 3530
  *((char *)__cil_tmp146) = (char )__cil_tmp152;
  }
#line 3531
  return (0);
  case_exp___5: /* CIL Label */ 
  {
#line 3533
  __cil_tmp164 = 2 << 8;
#line 3533
  __cil_tmp165 = (unsigned int )__cil_tmp164;
#line 3533
  __cil_tmp155 = drive * 128UL;
#line 3533
  __cil_tmp156 = __cil_tmp155 + 96;
#line 3533
  __cil_tmp157 = (unsigned long )(drive_params) + __cil_tmp156;
#line 3533
  __cil_tmp158 = drive * 128UL;
#line 3533
  __cil_tmp159 = __cil_tmp158 + 96;
#line 3533
  __cil_tmp160 = (unsigned long )(drive_params) + __cil_tmp159;
#line 3533
  __cil_tmp161 = *((char *)__cil_tmp160);
#line 3533
  __cil_tmp162 = (int )__cil_tmp161;
#line 3533
  __cil_tmp163 = __cil_tmp162 & -17;
#line 3533
  *((char *)__cil_tmp157) = (char )__cil_tmp163;
  }
#line 3534
  return (0);
  case_exp___6: /* CIL Label */ 
  {
#line 3537
  __cil_tmp166 = 2 << 8;
#line 3537
  __cil_tmp167 = (unsigned int )__cil_tmp166;
  {
#line 3537
  tmp___4 = _lock_fdc(drive, 1, 3537);
  }
  }
#line 3537
  if (tmp___4) {
#line 3537
    return (-4);
  } else {

  }
  {
#line 3538
  tmp___5 = poll_drive(1, 64);
  }
#line 3538
  if (tmp___5 == -4) {
#line 3538
    return (-4);
  } else {

  }
  {
#line 3539
  __cil_tmp168 = drive * 80UL;
#line 3539
  __cil_tmp169 = (unsigned long )(drive_state) + __cil_tmp168;
#line 3539
  __cil_tmp170 = *((unsigned long *)__cil_tmp169);
#line 3539
  ret = (int )__cil_tmp170;
#line 3540
  __cil_tmp171 = & process_fd_request;
#line 3540
  (*__cil_tmp171)();
  }
#line 3545
  return (0);
  case_exp___7: /* CIL Label */ 
  {
#line 3547
  __cil_tmp172 = drive * 80UL;
#line 3547
  __cil_tmp173 = __cil_tmp172 + 48;
#line 3547
  __cil_tmp174 = (unsigned long )(drive_state) + __cil_tmp173;
#line 3547
  __cil_tmp175 = *((int *)__cil_tmp174);
#line 3547
  __cil_tmp176 = 12UL << 16;
#line 3547
  __cil_tmp177 = 2 << 8;
#line 3547
  __cil_tmp178 = (unsigned int )__cil_tmp177;
#line 3547
  __cil_tmp179 = 1U << 30;
#line 3547
  __cil_tmp180 = __cil_tmp179 | __cil_tmp178;
#line 3547
  __cil_tmp181 = __cil_tmp180 | 72U;
#line 3547
  __cil_tmp182 = (unsigned long )__cil_tmp181;
#line 3547
  if (__cil_tmp175 != 1) {
#line 3548
    return (-16);
  } else {

  }
  }
  {
#line 3549
  __cil_tmp183 = & inparam;
#line 3549
  __cil_tmp184 = (struct format_descr *)__cil_tmp183;
#line 3549
  tmp___6 = do_format(drive, __cil_tmp184);
  }
#line 3549
  return (tmp___6);
  case_exp___8: /* CIL Label */ 
  case_exp___9: /* CIL Label */ 
  {
#line 3552
  __cil_tmp185 = 2 << 8;
#line 3552
  __cil_tmp186 = (unsigned int )__cil_tmp185;
#line 3552
  __cil_tmp187 = 2 << 8;
#line 3552
  __cil_tmp188 = (unsigned int )__cil_tmp187;
  {
#line 3552
  tmp___7 = _lock_fdc(drive, 1, 3552);
  }
  }
#line 3552
  if (tmp___7) {
#line 3552
    return (-4);
  } else {

  }
  {
#line 3553
  __cil_tmp189 = (unsigned long )inode;
#line 3553
  __cil_tmp190 = __cil_tmp189 + 16;
#line 3553
  __cil_tmp191 = *((struct block_device **)__cil_tmp190);
#line 3553
  tmp___8 = invalidate_drive(__cil_tmp191);
  }
#line 3553
  return (tmp___8);
  case_exp___10: /* CIL Label */ 
  {
#line 3556
  __cil_tmp198 = 2 << 8;
#line 3556
  __cil_tmp199 = (unsigned int )__cil_tmp198;
#line 3556
  __cil_tmp192 = 76 + 16;
#line 3556
  __cil_tmp193 = drive * 128UL;
#line 3556
  __cil_tmp194 = __cil_tmp193 + __cil_tmp192;
#line 3556
  __cil_tmp195 = (unsigned long )(drive_params) + __cil_tmp194;
#line 3556
  __cil_tmp196 = param & 15UL;
#line 3556
  __cil_tmp197 = (unsigned short )__cil_tmp196;
#line 3556
  *((unsigned int *)__cil_tmp195) = (unsigned int )__cil_tmp197;
  }
#line 3558
  return (0);
  case_exp___11: /* CIL Label */ 
  {
#line 3559
  __cil_tmp205 = 20UL << 16;
#line 3559
  __cil_tmp206 = 2 << 8;
#line 3559
  __cil_tmp207 = (unsigned int )__cil_tmp206;
#line 3559
  __cil_tmp208 = 2U << 30;
#line 3559
  __cil_tmp209 = __cil_tmp208 | __cil_tmp207;
#line 3559
  __cil_tmp210 = __cil_tmp209 | 14U;
#line 3559
  __cil_tmp211 = (unsigned long )__cil_tmp210;
#line 3559
  __cil_tmp200 = & outparam;
#line 3559
  __cil_tmp201 = drive * 128UL;
#line 3559
  __cil_tmp202 = __cil_tmp201 + 76;
#line 3559
  __cil_tmp203 = (unsigned long )(drive_params) + __cil_tmp202;
#line 3559
  __cil_tmp204 = (struct floppy_max_errors *)__cil_tmp203;
#line 3559
  *__cil_tmp200 = (char const   *)__cil_tmp204;
  }
#line 3559
  goto switch_break;
  case_exp___12: /* CIL Label */ 
  {
#line 3560
  __cil_tmp216 = 20UL << 16;
#line 3560
  __cil_tmp217 = 2 << 8;
#line 3560
  __cil_tmp218 = (unsigned int )__cil_tmp217;
#line 3560
  __cil_tmp219 = 1U << 30;
#line 3560
  __cil_tmp220 = __cil_tmp219 | __cil_tmp218;
#line 3560
  __cil_tmp221 = __cil_tmp220 | 76U;
#line 3560
  __cil_tmp222 = (unsigned long )__cil_tmp221;
#line 3560
  __cil_tmp212 = drive * 128UL;
#line 3560
  __cil_tmp213 = __cil_tmp212 + 76;
#line 3560
  __cil_tmp214 = (unsigned long )(drive_params) + __cil_tmp213;
#line 3560
  __cil_tmp215 = & inparam;
#line 3560
  *((struct floppy_max_errors *)__cil_tmp214) = *((struct floppy_max_errors *)__cil_tmp215);
  }
#line 3560
  return (0);
  case_exp___13: /* CIL Label */ 
  {
#line 3563
  __cil_tmp228 = 16UL << 16;
#line 3563
  __cil_tmp229 = 2 << 8;
#line 3563
  __cil_tmp230 = (unsigned int )__cil_tmp229;
#line 3563
  __cil_tmp231 = 2U << 30;
#line 3563
  __cil_tmp232 = __cil_tmp231 | __cil_tmp230;
#line 3563
  __cil_tmp233 = __cil_tmp232 | 15U;
#line 3563
  __cil_tmp234 = (unsigned long )__cil_tmp233;
  {
#line 3563
  __cil_tmp223 = & outparam;
#line 3563
  *__cil_tmp223 = drive_name(type, drive);
#line 3564
  __cil_tmp224 = & size;
#line 3564
  __x = *__cil_tmp224;
#line 3564
  __cil_tmp225 = & outparam;
#line 3564
  __cil_tmp226 = *__cil_tmp225;
#line 3564
  tmp___9 = strlen(__cil_tmp226);
#line 3564
  __cil_tmp227 = tmp___9 + 1U;
#line 3564
  __y = (int )__cil_tmp227;
  }
  }
#line 3564
  if (__x < __y) {
#line 3564
    tmp___10 = __x;
  } else {
#line 3564
    tmp___10 = __y;
  }
#line 3564
  __cil_tmp235 = & size;
#line 3564
  *__cil_tmp235 = tmp___10;
#line 3565
  goto switch_break;
  case_exp___14: /* CIL Label */ 
  {
#line 3567
  __cil_tmp239 = 128UL << 16;
#line 3567
  __cil_tmp240 = 2 << 8;
#line 3567
  __cil_tmp241 = (unsigned int )__cil_tmp240;
#line 3567
  __cil_tmp242 = 1U << 30;
#line 3567
  __cil_tmp243 = __cil_tmp242 | __cil_tmp241;
#line 3567
  __cil_tmp244 = __cil_tmp243 | 144U;
#line 3567
  __cil_tmp245 = (unsigned long )__cil_tmp244;
#line 3567
  __cil_tmp236 = drive * 128UL;
#line 3567
  __cil_tmp237 = (unsigned long )(drive_params) + __cil_tmp236;
#line 3567
  __cil_tmp238 = & inparam;
#line 3567
  *((struct floppy_drive_params *)__cil_tmp237) = *((struct floppy_drive_params *)__cil_tmp238);
  }
#line 3567
  return (0);
  case_exp___15: /* CIL Label */ 
  {
#line 3568
  __cil_tmp250 = 128UL << 16;
#line 3568
  __cil_tmp251 = 2 << 8;
#line 3568
  __cil_tmp252 = (unsigned int )__cil_tmp251;
#line 3568
  __cil_tmp253 = 2U << 30;
#line 3568
  __cil_tmp254 = __cil_tmp253 | __cil_tmp252;
#line 3568
  __cil_tmp255 = __cil_tmp254 | 17U;
#line 3568
  __cil_tmp256 = (unsigned long )__cil_tmp255;
#line 3568
  __cil_tmp246 = & outparam;
#line 3568
  __cil_tmp247 = drive * 128UL;
#line 3568
  __cil_tmp248 = (unsigned long )(drive_params) + __cil_tmp247;
#line 3568
  __cil_tmp249 = (struct floppy_drive_params *)__cil_tmp248;
#line 3568
  *__cil_tmp246 = (char const   *)__cil_tmp249;
  }
#line 3568
  goto switch_break;
  case_exp___16: /* CIL Label */ 
  {
#line 3571
  __cil_tmp257 = 80UL << 16;
#line 3571
  __cil_tmp258 = 2 << 8;
#line 3571
  __cil_tmp259 = (unsigned int )__cil_tmp258;
#line 3571
  __cil_tmp260 = 2U << 30;
#line 3571
  __cil_tmp261 = __cil_tmp260 | __cil_tmp259;
#line 3571
  __cil_tmp262 = __cil_tmp261 | 19U;
#line 3571
  __cil_tmp263 = (unsigned long )__cil_tmp262;
  {
#line 3571
  tmp___11 = _lock_fdc(drive, 1, 3571);
  }
  }
#line 3571
  if (tmp___11) {
#line 3571
    return (-4);
  } else {

  }
  {
#line 3572
  tmp___12 = poll_drive(1, 64);
  }
#line 3572
  if (tmp___12 == -4) {
#line 3572
    return (-4);
  } else {

  }
  {
#line 3573
  __cil_tmp264 = & process_fd_request;
#line 3573
  (*__cil_tmp264)();
  }
  case_exp___17: /* CIL Label */ 
  {
#line 3575
  __cil_tmp269 = 80UL << 16;
#line 3575
  __cil_tmp270 = 2 << 8;
#line 3575
  __cil_tmp271 = (unsigned int )__cil_tmp270;
#line 3575
  __cil_tmp272 = 2U << 30;
#line 3575
  __cil_tmp273 = __cil_tmp272 | __cil_tmp271;
#line 3575
  __cil_tmp274 = __cil_tmp273 | 18U;
#line 3575
  __cil_tmp275 = (unsigned long )__cil_tmp274;
#line 3575
  __cil_tmp265 = & outparam;
#line 3575
  __cil_tmp266 = drive * 80UL;
#line 3575
  __cil_tmp267 = (unsigned long )(drive_state) + __cil_tmp266;
#line 3575
  __cil_tmp268 = (struct floppy_drive_struct *)__cil_tmp267;
#line 3575
  *__cil_tmp265 = (char const   *)__cil_tmp268;
  }
#line 3575
  goto switch_break;
  case_exp___18: /* CIL Label */ 
  {
#line 3578
  __cil_tmp277 = 2 << 8;
#line 3578
  __cil_tmp278 = (unsigned int )__cil_tmp277;
  {
#line 3578
  __cil_tmp276 = (int )param;
#line 3578
  tmp___13 = user_reset_fdc(drive, __cil_tmp276, 1);
  }
  }
#line 3578
  return (tmp___13);
  case_exp___19: /* CIL Label */ 
  {
#line 3580
  __cil_tmp285 = 40UL << 16;
#line 3580
  __cil_tmp286 = 2 << 8;
#line 3580
  __cil_tmp287 = (unsigned int )__cil_tmp286;
#line 3580
  __cil_tmp288 = 2U << 30;
#line 3580
  __cil_tmp289 = __cil_tmp288 | __cil_tmp287;
#line 3580
  __cil_tmp290 = __cil_tmp289 | 21U;
#line 3580
  __cil_tmp291 = (unsigned long )__cil_tmp290;
#line 3580
  __cil_tmp279 = & outparam;
#line 3580
  __cil_tmp280 = drive & 4;
#line 3580
  __cil_tmp281 = __cil_tmp280 >> 2;
#line 3580
  __cil_tmp282 = __cil_tmp281 * 40UL;
#line 3580
  __cil_tmp283 = (unsigned long )(fdc_state) + __cil_tmp282;
#line 3580
  __cil_tmp284 = (struct floppy_fdc_state *)__cil_tmp283;
#line 3580
  *__cil_tmp279 = (char const   *)__cil_tmp284;
  }
#line 3580
  goto switch_break;
  case_exp___20: /* CIL Label */ 
  {
#line 3583
  __cil_tmp297 = 2 << 8;
#line 3583
  __cil_tmp298 = (unsigned int )__cil_tmp297;
  {
#line 3583
  __cil_tmp292 = drive * 40UL;
#line 3583
  __cil_tmp293 = (unsigned long )(write_errors) + __cil_tmp292;
#line 3583
  __cil_tmp294 = (struct floppy_write_errors *)__cil_tmp293;
#line 3583
  __cil_tmp295 = (void *)__cil_tmp294;
#line 3583
  __cil_tmp296 = (unsigned int )40UL;
#line 3583
  memset(__cil_tmp295, 0, __cil_tmp296);
  }
  }
#line 3584
  return (0);
  case_exp___21: /* CIL Label */ 
  {
#line 3585
  __cil_tmp303 = 40UL << 16;
#line 3585
  __cil_tmp304 = 2 << 8;
#line 3585
  __cil_tmp305 = (unsigned int )__cil_tmp304;
#line 3585
  __cil_tmp306 = 2U << 30;
#line 3585
  __cil_tmp307 = __cil_tmp306 | __cil_tmp305;
#line 3585
  __cil_tmp308 = __cil_tmp307 | 23U;
#line 3585
  __cil_tmp309 = (unsigned long )__cil_tmp308;
#line 3585
  __cil_tmp299 = & outparam;
#line 3585
  __cil_tmp300 = drive * 40UL;
#line 3585
  __cil_tmp301 = (unsigned long )(write_errors) + __cil_tmp300;
#line 3585
  __cil_tmp302 = (struct floppy_write_errors *)__cil_tmp301;
#line 3585
  *__cil_tmp299 = (char const   *)__cil_tmp302;
  }
#line 3585
  goto switch_break;
  case_exp___22: /* CIL Label */ 
  {
#line 3588
  __cil_tmp310 = 2 << 8;
#line 3588
  __cil_tmp311 = (unsigned int )__cil_tmp310;
#line 3588
  if (type) {
#line 3589
    return (-22);
  } else {

  }
  }
  {
#line 3590
  tmp___14 = _lock_fdc(drive, 1, 3590);
  }
#line 3590
  if (tmp___14) {
#line 3590
    return (-4);
  } else {

  }
  {
#line 3591
  set_floppy(drive);
#line 3592
  __cil_tmp312 = & cmd;
#line 3592
  __cil_tmp313 = *__cil_tmp312;
#line 3592
  __cil_tmp314 = (int )__cil_tmp313;
#line 3592
  __cil_tmp315 = (void *)param;
#line 3592
  i = raw_cmd_ioctl(__cil_tmp314, __cil_tmp315);
  }
#line 3592
  if (i == -4) {
#line 3592
    return (-4);
  } else {

  }
  {
#line 3593
  __cil_tmp316 = & process_fd_request;
#line 3593
  (*__cil_tmp316)();
  }
#line 3594
  return (i);
  case_exp___23: /* CIL Label */ 
  {
#line 3597
  __cil_tmp317 = 2 << 8;
#line 3597
  __cil_tmp318 = (unsigned int )__cil_tmp317;
  {
#line 3597
  tmp___15 = _lock_fdc(drive, 1, 3597);
  }
  }
#line 3597
  if (tmp___15) {
#line 3597
    return (-4);
  } else {

  }
  {
#line 3598
  twaddle();
#line 3599
  __cil_tmp319 = & process_fd_request;
#line 3599
  (*__cil_tmp319)();
  }
#line 3600
  return (0);
  switch_default: /* CIL Label */ 
#line 3603
  return (-22);
  switch_break: /* CIL Label */ ;
  }
  }
  {
#line 3606
  __cil_tmp320 = 1 << 2;
#line 3606
  __cil_tmp321 = __cil_tmp320 - 1;
#line 3606
  __cil_tmp322 = (unsigned int )__cil_tmp321;
#line 3606
  __cil_tmp323 = & cmd;
#line 3606
  __cil_tmp324 = *__cil_tmp323;
#line 3606
  __cil_tmp325 = __cil_tmp324 >> 30;
#line 3606
  __cil_tmp326 = __cil_tmp325 & __cil_tmp322;
#line 3606
  if (__cil_tmp326 & 2U) {
    {
#line 3607
    __cil_tmp327 = (void *)param;
#line 3607
    __cil_tmp328 = & outparam;
#line 3607
    __cil_tmp329 = *__cil_tmp328;
#line 3607
    __cil_tmp330 = (void const   *)__cil_tmp329;
#line 3607
    __cil_tmp331 = & size;
#line 3607
    __cil_tmp332 = *__cil_tmp331;
#line 3607
    __cil_tmp333 = (unsigned long )__cil_tmp332;
#line 3607
    tmp___16 = fd_copyout(__cil_tmp327, __cil_tmp330, __cil_tmp333);
    }
#line 3607
    return (tmp___16);
  } else {
#line 3609
    return (0);
  }
  }
}
}
#line 3634 "drivers/block/floppy.c"
static char temparea[32]  ;
#line 3614 "drivers/block/floppy.c"
static void config_types(void) 
{ int first ;
  int drive ;
  unsigned char tmp ;
  unsigned char tmp___0 ;
  unsigned char tmp___1 ;
  unsigned int type ;
  struct floppy_drive_params *params ;
  char const   *name ;
  char const   *prepend ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  signed char __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  int __cil_tmp15 ;
  int __cil_tmp16 ;
  int __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  signed char __cil_tmp20 ;
  int __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  int __cil_tmp24 ;
  int __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  signed char __cil_tmp28 ;
  void *__cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned long __cil_tmp36 ;
  int *__cil_tmp37 ;
  int __cil_tmp38 ;
  int *__cil_tmp39 ;
  int __cil_tmp40 ;
  int *__cil_tmp41 ;
  int __cil_tmp42 ;
  int __cil_tmp43 ;
  int *__cil_tmp44 ;
  int __cil_tmp45 ;
  unsigned long __cil_tmp46 ;
  unsigned long __cil_tmp47 ;
  unsigned long __cil_tmp48 ;
  unsigned long __cil_tmp49 ;
  char *__cil_tmp50 ;
  unsigned long __cil_tmp51 ;
  unsigned long __cil_tmp52 ;
  char *__cil_tmp53 ;
  unsigned long __cil_tmp54 ;
  unsigned long __cil_tmp55 ;

  {
#line 3616
  first = 1;
#line 3620
  drive = 0;
  {
#line 3621
  __cil_tmp10 = drive * 128UL;
#line 3621
  __cil_tmp11 = (unsigned long )(drive_params) + __cil_tmp10;
#line 3621
  __cil_tmp12 = *((signed char *)__cil_tmp11);
#line 3621
  if (! __cil_tmp12) {
    {
#line 3622
    tmp = rtc_cmos_read((unsigned char)16);
#line 3622
    __cil_tmp13 = drive * 128UL;
#line 3622
    __cil_tmp14 = (unsigned long )(drive_params) + __cil_tmp13;
#line 3622
    __cil_tmp15 = (int )tmp;
#line 3622
    __cil_tmp16 = __cil_tmp15 >> 4;
#line 3622
    __cil_tmp17 = __cil_tmp16 & 15;
#line 3622
    *((signed char *)__cil_tmp14) = (signed char )__cil_tmp17;
    }
  } else {

  }
  }
#line 3623
  drive = 1;
  {
#line 3624
  __cil_tmp18 = drive * 128UL;
#line 3624
  __cil_tmp19 = (unsigned long )(drive_params) + __cil_tmp18;
#line 3624
  __cil_tmp20 = *((signed char *)__cil_tmp19);
#line 3624
  if (! __cil_tmp20) {
    {
#line 3624
    tmp___1 = rtc_cmos_read((unsigned char)16);
    }
    {
#line 3624
    __cil_tmp21 = (int )tmp___1;
#line 3624
    if (__cil_tmp21 & 15) {
      {
#line 3625
      tmp___0 = rtc_cmos_read((unsigned char)16);
#line 3625
      __cil_tmp22 = drive * 128UL;
#line 3625
      __cil_tmp23 = (unsigned long )(drive_params) + __cil_tmp22;
#line 3625
      __cil_tmp24 = (int )tmp___0;
#line 3625
      __cil_tmp25 = __cil_tmp24 & 15;
#line 3625
      *((signed char *)__cil_tmp23) = (signed char )__cil_tmp25;
      }
    } else {

    }
    }
  } else {

  }
  }
#line 3630
  drive = 0;
  {
#line 3630
  while (1) {
    while_continue: /* CIL Label */ ;
#line 3630
    if (drive < 8) {

    } else {
#line 3630
      goto while_break;
    }
#line 3631
    __cil_tmp26 = drive * 128UL;
#line 3631
    __cil_tmp27 = (unsigned long )(drive_params) + __cil_tmp26;
#line 3631
    __cil_tmp28 = *((signed char *)__cil_tmp27);
#line 3631
    type = (unsigned int )__cil_tmp28;
#line 3633
    __cil_tmp29 = (void *)0;
#line 3633
    name = (char const   *)__cil_tmp29;
    {
#line 3636
    __cil_tmp30 = 952UL / 136UL;
#line 3636
    __cil_tmp31 = (unsigned long )type;
#line 3636
    if (__cil_tmp31 < __cil_tmp30) {
#line 3637
      __cil_tmp32 = type * 136UL;
#line 3637
      __cil_tmp33 = (unsigned long )(default_drive_params) + __cil_tmp32;
#line 3637
      params = (struct floppy_drive_params *)__cil_tmp33;
#line 3638
      if (type) {
#line 3639
        __cil_tmp34 = type * 136UL;
#line 3639
        __cil_tmp35 = __cil_tmp34 + 128;
#line 3639
        __cil_tmp36 = (unsigned long )(default_drive_params) + __cil_tmp35;
#line 3639
        name = *((char const   **)__cil_tmp36);
#line 3640
        __cil_tmp37 = & allowed_drive_mask;
#line 3640
        __cil_tmp38 = 1 << drive;
#line 3640
        __cil_tmp39 = & allowed_drive_mask;
#line 3640
        __cil_tmp40 = *__cil_tmp39;
#line 3640
        *__cil_tmp37 = __cil_tmp40 | __cil_tmp38;
      } else {
#line 3642
        __cil_tmp41 = & allowed_drive_mask;
#line 3642
        __cil_tmp42 = 1 << drive;
#line 3642
        __cil_tmp43 = ~ __cil_tmp42;
#line 3642
        __cil_tmp44 = & allowed_drive_mask;
#line 3642
        __cil_tmp45 = *__cil_tmp44;
#line 3642
        *__cil_tmp41 = __cil_tmp45 & __cil_tmp43;
      }
    } else {
      {
#line 3644
      __cil_tmp46 = 0 * 136UL;
#line 3644
      __cil_tmp47 = (unsigned long )(default_drive_params) + __cil_tmp46;
#line 3644
      params = (struct floppy_drive_params *)__cil_tmp47;
#line 3645
      __cil_tmp48 = 0 * 1UL;
#line 3645
      __cil_tmp49 = (unsigned long )(temparea) + __cil_tmp48;
#line 3645
      __cil_tmp50 = (char *)__cil_tmp49;
#line 3645
      sprintf(__cil_tmp50, "unknown type %d (usb?)", type);
#line 3646
      __cil_tmp51 = 0 * 1UL;
#line 3646
      __cil_tmp52 = (unsigned long )(temparea) + __cil_tmp51;
#line 3646
      __cil_tmp53 = (char *)__cil_tmp52;
#line 3646
      name = (char const   *)__cil_tmp53;
      }
    }
    }
#line 3648
    if (name) {
#line 3649
      prepend = ",";
#line 3650
      if (first) {
#line 3651
        prepend = "<6>Floppy drive(s):";
#line 3652
        first = 0;
      } else {

      }
      {
#line 3654
      printk("%s fd%d is %s", prepend, drive, name);
      }
    } else {

    }
#line 3656
    __cil_tmp54 = drive * 128UL;
#line 3656
    __cil_tmp55 = (unsigned long )(drive_params) + __cil_tmp54;
#line 3656
    *((struct floppy_drive_params *)__cil_tmp55) = *params;
#line 3630
    drive = drive + 1;
  }
  while_break: /* CIL Label */ ;
  }
#line 3658
  if (! first) {
    {
#line 3659
    printk("\n");
    }
  } else {

  }
#line 3660
  return;
}
}
#line 3662 "drivers/block/floppy.c"
static int floppy_release(struct inode *inode , struct file *filp ) 
{ int drive ;
  int tmp ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  struct block_device *__cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  struct gendisk *__cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  void *__cil_tmp13 ;
  long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  int __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  int __cil_tmp31 ;
  int __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned long __cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  unsigned long __cil_tmp38 ;
  int __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  unsigned long __cil_tmp41 ;
  void *__cil_tmp42 ;

  {
  {
#line 3664
  __cil_tmp5 = (unsigned long )inode;
#line 3664
  __cil_tmp6 = __cil_tmp5 + 16;
#line 3664
  __cil_tmp7 = *((struct block_device **)__cil_tmp6);
#line 3664
  __cil_tmp8 = (unsigned long )__cil_tmp7;
#line 3664
  __cil_tmp9 = __cil_tmp8 + 24;
#line 3664
  __cil_tmp10 = *((struct gendisk **)__cil_tmp9);
#line 3664
  __cil_tmp11 = (unsigned long )__cil_tmp10;
#line 3664
  __cil_tmp12 = __cil_tmp11 + 64;
#line 3664
  __cil_tmp13 = *((void **)__cil_tmp12);
#line 3664
  __cil_tmp14 = (long )__cil_tmp13;
#line 3664
  drive = (int )__cil_tmp14;
#line 3666
  mutex_lock(& open_lock);
  }
  {
#line 3667
  __cil_tmp15 = drive * 80UL;
#line 3667
  __cil_tmp16 = __cil_tmp15 + 48;
#line 3667
  __cil_tmp17 = (unsigned long )(drive_state) + __cil_tmp16;
#line 3667
  __cil_tmp18 = *((int *)__cil_tmp17);
#line 3667
  if (__cil_tmp18 < 0) {
#line 3668
    __cil_tmp19 = drive * 80UL;
#line 3668
    __cil_tmp20 = __cil_tmp19 + 48;
#line 3668
    __cil_tmp21 = (unsigned long )(drive_state) + __cil_tmp20;
#line 3668
    *((int *)__cil_tmp21) = 0;
  } else {
#line 3669
    __cil_tmp22 = drive * 80UL;
#line 3669
    __cil_tmp23 = __cil_tmp22 + 48;
#line 3669
    __cil_tmp24 = (unsigned long )(drive_state) + __cil_tmp23;
#line 3669
    tmp = *((int *)__cil_tmp24);
#line 3669
    __cil_tmp25 = drive * 80UL;
#line 3669
    __cil_tmp26 = __cil_tmp25 + 48;
#line 3669
    __cil_tmp27 = (unsigned long )(drive_state) + __cil_tmp26;
#line 3669
    __cil_tmp28 = drive * 80UL;
#line 3669
    __cil_tmp29 = __cil_tmp28 + 48;
#line 3669
    __cil_tmp30 = (unsigned long )(drive_state) + __cil_tmp29;
#line 3669
    __cil_tmp31 = *((int *)__cil_tmp30);
#line 3669
    *((int *)__cil_tmp27) = __cil_tmp31 - 1;
#line 3669
    if (! tmp) {
      {
#line 3670
      __cil_tmp32 = (int )current_drive;
#line 3670
      printk("floppy%d: floppy_release with fd_ref == 0", __cil_tmp32);
#line 3671
      __cil_tmp33 = drive * 80UL;
#line 3671
      __cil_tmp34 = __cil_tmp33 + 48;
#line 3671
      __cil_tmp35 = (unsigned long )(drive_state) + __cil_tmp34;
#line 3671
      *((int *)__cil_tmp35) = 0;
      }
    } else {

    }
  }
  }
  {
#line 3673
  __cil_tmp36 = drive * 80UL;
#line 3673
  __cil_tmp37 = __cil_tmp36 + 48;
#line 3673
  __cil_tmp38 = (unsigned long )(drive_state) + __cil_tmp37;
#line 3673
  __cil_tmp39 = *((int *)__cil_tmp38);
#line 3673
  if (! __cil_tmp39) {
#line 3674
    __cil_tmp40 = drive * 8UL;
#line 3674
    __cil_tmp41 = (unsigned long )(opened_bdev) + __cil_tmp40;
#line 3674
    __cil_tmp42 = (void *)0;
#line 3674
    *((struct block_device **)__cil_tmp41) = (struct block_device *)__cil_tmp42;
  } else {

  }
  }
  {
#line 3675
  mutex_unlock(& open_lock);
  }
#line 3677
  return (0);
}
}
#line 3757
extern int file_permission() ;
#line 3685 "drivers/block/floppy.c"
static int floppy_open(struct inode *inode , struct file *filp ) 
{ int drive ;
  int old_dev ;
  int try ;
  int res ;
  char *tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int __x ;
  int __y ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  unsigned int tmp___6 ;
  unsigned int tmp___7 ;
  unsigned int tmp___8 ;
  int tmp___9 ;
  int tmp___10 ;
  int tmp___11 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  struct block_device *__cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  struct gendisk *__cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  void *__cil_tmp30 ;
  long __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned long __cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  unsigned long __cil_tmp38 ;
  unsigned long __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  struct block_device *__cil_tmp41 ;
  unsigned long __cil_tmp42 ;
  unsigned long __cil_tmp43 ;
  unsigned long __cil_tmp44 ;
  struct block_device *__cil_tmp45 ;
  unsigned long __cil_tmp46 ;
  unsigned long __cil_tmp47 ;
  unsigned long __cil_tmp48 ;
  unsigned long __cil_tmp49 ;
  int __cil_tmp50 ;
  unsigned long __cil_tmp51 ;
  unsigned long __cil_tmp52 ;
  unsigned long __cil_tmp53 ;
  char __cil_tmp54 ;
  int __cil_tmp55 ;
  unsigned long __cil_tmp56 ;
  unsigned long __cil_tmp57 ;
  unsigned long *__cil_tmp58 ;
  unsigned long __cil_tmp59 ;
  unsigned long __cil_tmp60 ;
  unsigned long *__cil_tmp61 ;
  unsigned long __cil_tmp62 ;
  unsigned long __cil_tmp63 ;
  unsigned long __cil_tmp64 ;
  int __cil_tmp65 ;
  unsigned long __cil_tmp66 ;
  unsigned long __cil_tmp67 ;
  unsigned long __cil_tmp68 ;
  unsigned long __cil_tmp69 ;
  unsigned long __cil_tmp70 ;
  unsigned int __cil_tmp71 ;
  unsigned long __cil_tmp72 ;
  unsigned long __cil_tmp73 ;
  unsigned int __cil_tmp74 ;
  unsigned long __cil_tmp75 ;
  unsigned long __cil_tmp76 ;
  unsigned long __cil_tmp77 ;
  unsigned long __cil_tmp78 ;
  unsigned long __cil_tmp79 ;
  unsigned long __cil_tmp80 ;
  unsigned long __cil_tmp81 ;
  unsigned long __cil_tmp82 ;
  unsigned long __cil_tmp83 ;
  int __cil_tmp84 ;
  unsigned long __cil_tmp85 ;
  unsigned long __cil_tmp86 ;
  unsigned long __cil_tmp87 ;
  unsigned long __cil_tmp88 ;
  unsigned long __cil_tmp89 ;
  unsigned long __cil_tmp90 ;
  signed char __cil_tmp91 ;
  int __cil_tmp92 ;
  unsigned long __cil_tmp93 ;
  unsigned long __cil_tmp94 ;
  signed char __cil_tmp95 ;
  int __cil_tmp96 ;
  int __cil_tmp97 ;
  char **__cil_tmp98 ;
  char **__cil_tmp99 ;
  char *__cil_tmp100 ;
  int __cil_tmp101 ;
  char **__cil_tmp102 ;
  char **__cil_tmp103 ;
  char *__cil_tmp104 ;
  int __cil_tmp105 ;
  size_t __cil_tmp106 ;
  char **__cil_tmp107 ;
  char *__cil_tmp108 ;
  int __cil_tmp109 ;
  char **__cil_tmp110 ;
  int __cil_tmp111 ;
  char **__cil_tmp112 ;
  char *__cil_tmp113 ;
  unsigned long __cil_tmp114 ;
  unsigned int __cil_tmp115 ;
  char **__cil_tmp116 ;
  unsigned long __cil_tmp117 ;
  unsigned long __cil_tmp118 ;
  unsigned long __cil_tmp119 ;
  unsigned long __cil_tmp120 ;
  unsigned long __cil_tmp121 ;
  struct gendisk *__cil_tmp122 ;
  unsigned long __cil_tmp123 ;
  unsigned long __cil_tmp124 ;
  sector_t __cil_tmp125 ;
  unsigned int __cil_tmp126 ;
  unsigned long __cil_tmp127 ;
  unsigned long __cil_tmp128 ;
  mode_t __cil_tmp129 ;
  int __cil_tmp130 ;
  unsigned long __cil_tmp131 ;
  unsigned long __cil_tmp132 ;
  unsigned long __cil_tmp133 ;
  unsigned long __cil_tmp134 ;
  int __cil_tmp135 ;
  int __cil_tmp136 ;
  unsigned long __cil_tmp137 ;
  unsigned long __cil_tmp138 ;
  unsigned long __cil_tmp139 ;
  unsigned int __cil_tmp140 ;
  int __cil_tmp141 ;
  int __cil_tmp142 ;
  unsigned long __cil_tmp143 ;
  unsigned long __cil_tmp144 ;
  unsigned long __cil_tmp145 ;
  unsigned long __cil_tmp146 ;
  unsigned long __cil_tmp147 ;
  unsigned int __cil_tmp148 ;
  unsigned int __cil_tmp149 ;
  unsigned long __cil_tmp150 ;
  unsigned long __cil_tmp151 ;
  mode_t __cil_tmp152 ;
  int __cil_tmp153 ;
  unsigned long __cil_tmp154 ;
  unsigned long __cil_tmp155 ;
  unsigned long __cil_tmp156 ;
  unsigned long __cil_tmp157 ;
  unsigned long __cil_tmp158 ;
  struct block_device *__cil_tmp159 ;
  unsigned long __cil_tmp160 ;
  unsigned long __cil_tmp161 ;
  unsigned long *__cil_tmp162 ;
  void const   *__cil_tmp163 ;
  unsigned long __cil_tmp164 ;
  unsigned long __cil_tmp165 ;
  mode_t __cil_tmp166 ;
  int __cil_tmp167 ;
  unsigned long __cil_tmp168 ;
  unsigned long __cil_tmp169 ;
  unsigned long *__cil_tmp170 ;
  void const   *__cil_tmp171 ;
  unsigned long __cil_tmp172 ;
  unsigned long __cil_tmp173 ;
  unsigned long __cil_tmp174 ;
  int __cil_tmp175 ;
  unsigned long __cil_tmp176 ;
  unsigned long __cil_tmp177 ;
  unsigned long __cil_tmp178 ;
  unsigned long __cil_tmp179 ;
  unsigned long __cil_tmp180 ;
  unsigned long __cil_tmp181 ;
  unsigned long __cil_tmp182 ;
  unsigned long __cil_tmp183 ;
  unsigned long __cil_tmp184 ;
  int __cil_tmp185 ;
  unsigned long __cil_tmp186 ;
  unsigned long __cil_tmp187 ;
  unsigned long __cil_tmp188 ;
  int __cil_tmp189 ;
  unsigned long __cil_tmp190 ;
  unsigned long __cil_tmp191 ;
  void *__cil_tmp192 ;

  {
  {
#line 3687
  __cil_tmp22 = (unsigned long )inode;
#line 3687
  __cil_tmp23 = __cil_tmp22 + 16;
#line 3687
  __cil_tmp24 = *((struct block_device **)__cil_tmp23);
#line 3687
  __cil_tmp25 = (unsigned long )__cil_tmp24;
#line 3687
  __cil_tmp26 = __cil_tmp25 + 24;
#line 3687
  __cil_tmp27 = *((struct gendisk **)__cil_tmp26);
#line 3687
  __cil_tmp28 = (unsigned long )__cil_tmp27;
#line 3687
  __cil_tmp29 = __cil_tmp28 + 64;
#line 3687
  __cil_tmp30 = *((void **)__cil_tmp29);
#line 3687
  __cil_tmp31 = (long )__cil_tmp30;
#line 3687
  drive = (int )__cil_tmp31;
#line 3690
  res = -16;
#line 3693
  __cil_tmp32 = (unsigned long )filp;
#line 3693
  __cil_tmp33 = __cil_tmp32 + 40;
#line 3693
  *((void **)__cil_tmp33) = (void *)0;
#line 3694
  mutex_lock(& open_lock);
#line 3695
  __cil_tmp34 = drive * 80UL;
#line 3695
  __cil_tmp35 = __cil_tmp34 + 52;
#line 3695
  __cil_tmp36 = (unsigned long )(drive_state) + __cil_tmp35;
#line 3695
  old_dev = *((int *)__cil_tmp36);
  }
  {
#line 3696
  __cil_tmp37 = drive * 8UL;
#line 3696
  __cil_tmp38 = (unsigned long )(opened_bdev) + __cil_tmp37;
#line 3696
  if (*((struct block_device **)__cil_tmp38)) {
    {
#line 3696
    __cil_tmp39 = (unsigned long )inode;
#line 3696
    __cil_tmp40 = __cil_tmp39 + 16;
#line 3696
    __cil_tmp41 = *((struct block_device **)__cil_tmp40);
#line 3696
    __cil_tmp42 = (unsigned long )__cil_tmp41;
#line 3696
    __cil_tmp43 = drive * 8UL;
#line 3696
    __cil_tmp44 = (unsigned long )(opened_bdev) + __cil_tmp43;
#line 3696
    __cil_tmp45 = *((struct block_device **)__cil_tmp44);
#line 3696
    __cil_tmp46 = (unsigned long )__cil_tmp45;
#line 3696
    if (__cil_tmp46 != __cil_tmp42) {
#line 3697
      goto out2;
    } else {

    }
    }
  } else {

  }
  }
  {
#line 3699
  __cil_tmp47 = drive * 80UL;
#line 3699
  __cil_tmp48 = __cil_tmp47 + 48;
#line 3699
  __cil_tmp49 = (unsigned long )(drive_state) + __cil_tmp48;
#line 3699
  __cil_tmp50 = *((int *)__cil_tmp49);
#line 3699
  if (! __cil_tmp50) {
    {
#line 3699
    __cil_tmp51 = drive * 128UL;
#line 3699
    __cil_tmp52 = __cil_tmp51 + 96;
#line 3699
    __cil_tmp53 = (unsigned long )(drive_params) + __cil_tmp52;
#line 3699
    __cil_tmp54 = *((char *)__cil_tmp53);
#line 3699
    __cil_tmp55 = (int )__cil_tmp54;
#line 3699
    if (__cil_tmp55 & 32) {
      {
#line 3700
      __cil_tmp56 = drive * 80UL;
#line 3700
      __cil_tmp57 = (unsigned long )(drive_state) + __cil_tmp56;
#line 3700
      __cil_tmp58 = (unsigned long *)__cil_tmp57;
#line 3700
      set_bit(4, __cil_tmp58);
#line 3701
      __cil_tmp59 = drive * 80UL;
#line 3701
      __cil_tmp60 = (unsigned long )(drive_state) + __cil_tmp59;
#line 3701
      __cil_tmp61 = (unsigned long *)__cil_tmp60;
#line 3701
      set_bit(1, __cil_tmp61);
      }
    } else {

    }
    }
  } else {

  }
  }
  {
#line 3704
  __cil_tmp62 = drive * 80UL;
#line 3704
  __cil_tmp63 = __cil_tmp62 + 48;
#line 3704
  __cil_tmp64 = (unsigned long )(drive_state) + __cil_tmp63;
#line 3704
  __cil_tmp65 = *((int *)__cil_tmp64);
#line 3704
  if (__cil_tmp65 == -1) {
#line 3705
    goto out2;
  } else {
    {
#line 3704
    __cil_tmp66 = drive * 80UL;
#line 3704
    __cil_tmp67 = __cil_tmp66 + 48;
#line 3704
    __cil_tmp68 = (unsigned long )(drive_state) + __cil_tmp67;
#line 3704
    if (*((int *)__cil_tmp68)) {
      {
#line 3704
      __cil_tmp69 = (unsigned long )filp;
#line 3704
      __cil_tmp70 = __cil_tmp69 + 20;
#line 3704
      __cil_tmp71 = *((unsigned int *)__cil_tmp70);
#line 3704
      if (__cil_tmp71 & 128U) {
#line 3705
        goto out2;
      } else {

      }
      }
    } else {

    }
    }
  }
  }
  {
#line 3707
  __cil_tmp72 = (unsigned long )filp;
#line 3707
  __cil_tmp73 = __cil_tmp72 + 20;
#line 3707
  __cil_tmp74 = *((unsigned int *)__cil_tmp73);
#line 3707
  if (__cil_tmp74 & 128U) {
#line 3708
    __cil_tmp75 = drive * 80UL;
#line 3708
    __cil_tmp76 = __cil_tmp75 + 48;
#line 3708
    __cil_tmp77 = (unsigned long )(drive_state) + __cil_tmp76;
#line 3708
    *((int *)__cil_tmp77) = -1;
  } else {
#line 3710
    __cil_tmp78 = drive * 80UL;
#line 3710
    __cil_tmp79 = __cil_tmp78 + 48;
#line 3710
    __cil_tmp80 = (unsigned long )(drive_state) + __cil_tmp79;
#line 3710
    __cil_tmp81 = drive * 80UL;
#line 3710
    __cil_tmp82 = __cil_tmp81 + 48;
#line 3710
    __cil_tmp83 = (unsigned long )(drive_state) + __cil_tmp82;
#line 3710
    __cil_tmp84 = *((int *)__cil_tmp83);
#line 3710
    *((int *)__cil_tmp80) = __cil_tmp84 + 1;
  }
  }
#line 3712
  __cil_tmp85 = drive * 8UL;
#line 3712
  __cil_tmp86 = (unsigned long )(opened_bdev) + __cil_tmp85;
#line 3712
  __cil_tmp87 = (unsigned long )inode;
#line 3712
  __cil_tmp88 = __cil_tmp87 + 16;
#line 3712
  *((struct block_device **)__cil_tmp86) = *((struct block_device **)__cil_tmp88);
#line 3714
  res = -6;
#line 3716
  if (! floppy_track_buffer) {
    {
#line 3719
    __cil_tmp89 = drive * 128UL;
#line 3719
    __cil_tmp90 = (unsigned long )(drive_params) + __cil_tmp89;
#line 3719
    __cil_tmp91 = *((signed char *)__cil_tmp90);
#line 3719
    __cil_tmp92 = (int )__cil_tmp91;
#line 3719
    if (__cil_tmp92 == 6) {
#line 3720
      try = 64;
    } else {
      {
#line 3719
      __cil_tmp93 = drive * 128UL;
#line 3719
      __cil_tmp94 = (unsigned long )(drive_params) + __cil_tmp93;
#line 3719
      __cil_tmp95 = *((signed char *)__cil_tmp94);
#line 3719
      __cil_tmp96 = (int )__cil_tmp95;
#line 3719
      if (__cil_tmp96 == 5) {
#line 3720
        try = 64;
      } else {
#line 3722
        try = 32;
      }
      }
    }
    }
    {
#line 3724
    __cil_tmp97 = 1024 * try;
#line 3724
    tmp___0 = get_order(__cil_tmp97);
#line 3724
    tmp___1 = __get_dma_pages(208U, tmp___0);
#line 3724
    __cil_tmp98 = & tmp;
#line 3724
    *__cil_tmp98 = (char *)tmp___1;
    }
    {
#line 3725
    __cil_tmp99 = & tmp;
#line 3725
    __cil_tmp100 = *__cil_tmp99;
#line 3725
    if (! __cil_tmp100) {
#line 3725
      if (! floppy_track_buffer) {
#line 3726
        try = try >> 1;
#line 3727
        __x = try;
#line 3727
        __y = 16;
#line 3727
        if (__x > __y) {
#line 3727
          tmp___2 = __x;
        } else {
#line 3727
          tmp___2 = __y;
        }
        {
#line 3727
        try = tmp___2;
#line 3728
        __cil_tmp101 = 1024 * try;
#line 3728
        tmp___3 = get_order(__cil_tmp101);
#line 3728
        tmp___4 = __get_dma_pages(208U, tmp___3);
#line 3728
        __cil_tmp102 = & tmp;
#line 3728
        *__cil_tmp102 = (char *)tmp___4;
        }
      } else {

      }
    } else {

    }
    }
    {
#line 3730
    __cil_tmp103 = & tmp;
#line 3730
    __cil_tmp104 = *__cil_tmp103;
#line 3730
    if (! __cil_tmp104) {
#line 3730
      if (! floppy_track_buffer) {
        {
#line 3731
        __cil_tmp105 = 2048 * try;
#line 3731
        __cil_tmp106 = (size_t )__cil_tmp105;
#line 3731
        fallback_on_nodma_alloc(& tmp, __cil_tmp106);
        }
      } else {

      }
    } else {

    }
    }
    {
#line 3733
    __cil_tmp107 = & tmp;
#line 3733
    __cil_tmp108 = *__cil_tmp107;
#line 3733
    if (! __cil_tmp108) {
#line 3733
      if (! floppy_track_buffer) {
        {
#line 3734
        __cil_tmp109 = (int )current_drive;
#line 3734
        printk("floppy%d: Unable to allocate DMA memory\n", __cil_tmp109);
        }
#line 3735
        goto out;
      } else {

      }
    } else {

    }
    }
#line 3737
    if (floppy_track_buffer) {
      {
#line 3738
      __cil_tmp110 = & tmp;
#line 3738
      if (*__cil_tmp110) {
        {
#line 3739
        __cil_tmp111 = try * 1024;
#line 3739
        tmp___5 = get_order(__cil_tmp111);
#line 3739
        __cil_tmp112 = & tmp;
#line 3739
        __cil_tmp113 = *__cil_tmp112;
#line 3739
        __cil_tmp114 = (unsigned long )__cil_tmp113;
#line 3739
        __cil_tmp115 = (unsigned int )tmp___5;
#line 3739
        free_pages(__cil_tmp114, __cil_tmp115);
        }
      } else {

      }
      }
    } else {
#line 3741
      buffer_max = -1;
#line 3741
      buffer_min = buffer_max;
#line 3742
      __cil_tmp116 = & tmp;
#line 3742
      floppy_track_buffer = *__cil_tmp116;
#line 3743
      max_buffer_sectors = try;
    }
  } else {

  }
  {
#line 3747
  tmp___6 = iminor(inode);
#line 3747
  __cil_tmp117 = drive * 80UL;
#line 3747
  __cil_tmp118 = __cil_tmp117 + 52;
#line 3747
  __cil_tmp119 = (unsigned long )(drive_state) + __cil_tmp118;
#line 3747
  *((int *)__cil_tmp119) = (int )tmp___6;
#line 3748
  tmp___7 = iminor(inode);
#line 3748
  __cil_tmp120 = drive * 8UL;
#line 3748
  __cil_tmp121 = (unsigned long )(disks) + __cil_tmp120;
#line 3748
  __cil_tmp122 = *((struct gendisk **)__cil_tmp121);
#line 3748
  __cil_tmp123 = tmp___7 * 8UL;
#line 3748
  __cil_tmp124 = (unsigned long )(floppy_sizes) + __cil_tmp123;
#line 3748
  __cil_tmp125 = *((sector_t *)__cil_tmp124);
#line 3748
  set_capacity(__cil_tmp122, __cil_tmp125);
  }
#line 3749
  if (old_dev != -1) {
    {
#line 3749
    tmp___8 = iminor(inode);
    }
    {
#line 3749
    __cil_tmp126 = (unsigned int )old_dev;
#line 3749
    if (__cil_tmp126 != tmp___8) {
#line 3750
      if (buffer_drive == drive) {
#line 3751
        buffer_track = -1;
      } else {

      }
    } else {

    }
    }
  } else {

  }
  {
#line 3757
  __cil_tmp127 = (unsigned long )filp;
#line 3757
  __cil_tmp128 = __cil_tmp127 + 24;
#line 3757
  __cil_tmp129 = *((mode_t *)__cil_tmp128);
#line 3757
  __cil_tmp130 = (int )__cil_tmp129;
#line 3757
  if (__cil_tmp130 & 2) {
#line 3758
    __cil_tmp131 = (unsigned long )filp;
#line 3758
    __cil_tmp132 = __cil_tmp131 + 40;
#line 3758
    *((void **)__cil_tmp132) = (void *)8;
  } else {
    {
#line 3757
    tmp___9 = file_permission(filp, 2);
    }
#line 3757
    if (! tmp___9) {
#line 3758
      __cil_tmp133 = (unsigned long )filp;
#line 3758
      __cil_tmp134 = __cil_tmp133 + 40;
#line 3758
      *((void **)__cil_tmp134) = (void *)8;
    } else {

    }
  }
  }
  {
#line 3760
  __cil_tmp135 = drive & 4;
#line 3760
  __cil_tmp136 = __cil_tmp135 >> 2;
#line 3760
  __cil_tmp137 = __cil_tmp136 * 40UL;
#line 3760
  __cil_tmp138 = __cil_tmp137 + 24;
#line 3760
  __cil_tmp139 = (unsigned long )(fdc_state) + __cil_tmp138;
#line 3760
  __cil_tmp140 = *((unsigned int *)__cil_tmp139);
#line 3760
  if (__cil_tmp140 == 1U) {
#line 3761
    __cil_tmp141 = drive & 4;
#line 3761
    __cil_tmp142 = __cil_tmp141 >> 2;
#line 3761
    __cil_tmp143 = __cil_tmp142 * 40UL;
#line 3761
    __cil_tmp144 = __cil_tmp143 + 24;
#line 3761
    __cil_tmp145 = (unsigned long )(fdc_state) + __cil_tmp144;
#line 3761
    *((unsigned int *)__cil_tmp145) = 2U;
  } else {

  }
  }
  {
#line 3763
  __cil_tmp146 = (unsigned long )filp;
#line 3763
  __cil_tmp147 = __cil_tmp146 + 20;
#line 3763
  __cil_tmp148 = *((unsigned int *)__cil_tmp147);
#line 3763
  __cil_tmp149 = __cil_tmp148 & 2048U;
#line 3763
  if (! __cil_tmp149) {
    {
#line 3764
    __cil_tmp150 = (unsigned long )filp;
#line 3764
    __cil_tmp151 = __cil_tmp150 + 24;
#line 3764
    __cil_tmp152 = *((mode_t *)__cil_tmp151);
#line 3764
    __cil_tmp153 = (int )__cil_tmp152;
#line 3764
    if (__cil_tmp153 & 3) {
      {
#line 3765
      __cil_tmp154 = drive * 80UL;
#line 3765
      __cil_tmp155 = __cil_tmp154 + 56;
#line 3765
      __cil_tmp156 = (unsigned long )(drive_state) + __cil_tmp155;
#line 3765
      *((unsigned long *)__cil_tmp156) = 0UL;
#line 3766
      __cil_tmp157 = (unsigned long )inode;
#line 3766
      __cil_tmp158 = __cil_tmp157 + 16;
#line 3766
      __cil_tmp159 = *((struct block_device **)__cil_tmp158);
#line 3766
      check_disk_change(__cil_tmp159);
#line 3767
      __cil_tmp160 = drive * 80UL;
#line 3767
      __cil_tmp161 = (unsigned long )(drive_state) + __cil_tmp160;
#line 3767
      __cil_tmp162 = (unsigned long *)__cil_tmp161;
#line 3767
      __cil_tmp163 = (void const   *)__cil_tmp162;
#line 3767
      tmp___10 = test_bit(4, __cil_tmp163);
      }
#line 3767
      if (tmp___10) {
#line 3768
        goto out;
      } else {

      }
    } else {

    }
    }
#line 3770
    res = -30;
    {
#line 3771
    __cil_tmp164 = (unsigned long )filp;
#line 3771
    __cil_tmp165 = __cil_tmp164 + 24;
#line 3771
    __cil_tmp166 = *((mode_t *)__cil_tmp165);
#line 3771
    __cil_tmp167 = (int )__cil_tmp166;
#line 3771
    if (__cil_tmp167 & 2) {
      {
#line 3771
      __cil_tmp168 = drive * 80UL;
#line 3771
      __cil_tmp169 = (unsigned long )(drive_state) + __cil_tmp168;
#line 3771
      __cil_tmp170 = (unsigned long *)__cil_tmp169;
#line 3771
      __cil_tmp171 = (void const   *)__cil_tmp170;
#line 3771
      tmp___11 = test_bit(5, __cil_tmp171);
      }
#line 3771
      if (! tmp___11) {
#line 3772
        goto out;
      } else {

      }
    } else {

    }
    }
  } else {

  }
  }
  {
#line 3774
  mutex_unlock(& open_lock);
  }
#line 3775
  return (0);
  out: 
  {
#line 3777
  __cil_tmp172 = drive * 80UL;
#line 3777
  __cil_tmp173 = __cil_tmp172 + 48;
#line 3777
  __cil_tmp174 = (unsigned long )(drive_state) + __cil_tmp173;
#line 3777
  __cil_tmp175 = *((int *)__cil_tmp174);
#line 3777
  if (__cil_tmp175 < 0) {
#line 3778
    __cil_tmp176 = drive * 80UL;
#line 3778
    __cil_tmp177 = __cil_tmp176 + 48;
#line 3778
    __cil_tmp178 = (unsigned long )(drive_state) + __cil_tmp177;
#line 3778
    *((int *)__cil_tmp178) = 0;
  } else {
#line 3780
    __cil_tmp179 = drive * 80UL;
#line 3780
    __cil_tmp180 = __cil_tmp179 + 48;
#line 3780
    __cil_tmp181 = (unsigned long )(drive_state) + __cil_tmp180;
#line 3780
    __cil_tmp182 = drive * 80UL;
#line 3780
    __cil_tmp183 = __cil_tmp182 + 48;
#line 3780
    __cil_tmp184 = (unsigned long )(drive_state) + __cil_tmp183;
#line 3780
    __cil_tmp185 = *((int *)__cil_tmp184);
#line 3780
    *((int *)__cil_tmp181) = __cil_tmp185 - 1;
  }
  }
  {
#line 3781
  __cil_tmp186 = drive * 80UL;
#line 3781
  __cil_tmp187 = __cil_tmp186 + 48;
#line 3781
  __cil_tmp188 = (unsigned long )(drive_state) + __cil_tmp187;
#line 3781
  __cil_tmp189 = *((int *)__cil_tmp188);
#line 3781
  if (! __cil_tmp189) {
#line 3782
    __cil_tmp190 = drive * 8UL;
#line 3782
    __cil_tmp191 = (unsigned long )(opened_bdev) + __cil_tmp190;
#line 3782
    __cil_tmp192 = (void *)0;
#line 3782
    *((struct block_device **)__cil_tmp191) = (struct block_device *)__cil_tmp192;
  } else {

  }
  }
  out2: 
  {
#line 3784
  mutex_unlock(& open_lock);
  }
#line 3785
  return (res);
}
}
#line 3791 "drivers/block/floppy.c"
static int check_floppy_change(struct gendisk *disk ) 
{ int drive ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  void *__cil_tmp10 ;
  long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long *__cil_tmp14 ;
  void const   *__cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long *__cil_tmp18 ;
  void const   *__cil_tmp19 ;
  long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  int __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  long __cil_tmp31 ;
  long __cil_tmp32 ;
  void (*__cil_tmp33)(void) ;
  unsigned long __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned long *__cil_tmp36 ;
  void const   *__cil_tmp37 ;
  unsigned long __cil_tmp38 ;
  unsigned long __cil_tmp39 ;
  unsigned long *__cil_tmp40 ;
  void const   *__cil_tmp41 ;
  void const   *__cil_tmp42 ;
  unsigned long __cil_tmp43 ;
  unsigned long __cil_tmp44 ;
  unsigned long __cil_tmp45 ;
  int __cil_tmp46 ;
  int __cil_tmp47 ;
  int __cil_tmp48 ;
  unsigned long __cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  struct floppy_struct *__cil_tmp51 ;

  {
  {
#line 3793
  __cil_tmp8 = (unsigned long )disk;
#line 3793
  __cil_tmp9 = __cil_tmp8 + 64;
#line 3793
  __cil_tmp10 = *((void **)__cil_tmp9);
#line 3793
  __cil_tmp11 = (long )__cil_tmp10;
#line 3793
  drive = (int )__cil_tmp11;
#line 3795
  __cil_tmp12 = drive * 80UL;
#line 3795
  __cil_tmp13 = (unsigned long )(drive_state) + __cil_tmp12;
#line 3795
  __cil_tmp14 = (unsigned long *)__cil_tmp13;
#line 3795
  __cil_tmp15 = (void const   *)__cil_tmp14;
#line 3795
  tmp = test_bit(4, __cil_tmp15);
  }
#line 3795
  if (tmp) {
#line 3796
    return (1);
  } else {
    {
#line 3795
    __cil_tmp16 = drive * 80UL;
#line 3795
    __cil_tmp17 = (unsigned long )(drive_state) + __cil_tmp16;
#line 3795
    __cil_tmp18 = (unsigned long *)__cil_tmp17;
#line 3795
    __cil_tmp19 = (void const   *)__cil_tmp18;
#line 3795
    tmp___0 = test_bit(1, __cil_tmp19);
    }
#line 3795
    if (tmp___0) {
#line 3796
      return (1);
    } else {

    }
  }
  {
#line 3798
  __cil_tmp20 = (long )jiffies;
#line 3798
  __cil_tmp21 = drive * 128UL;
#line 3798
  __cil_tmp22 = __cil_tmp21 + 116;
#line 3798
  __cil_tmp23 = (unsigned long )(drive_params) + __cil_tmp22;
#line 3798
  __cil_tmp24 = *((int *)__cil_tmp23);
#line 3798
  __cil_tmp25 = (unsigned long )__cil_tmp24;
#line 3798
  __cil_tmp26 = drive * 80UL;
#line 3798
  __cil_tmp27 = __cil_tmp26 + 56;
#line 3798
  __cil_tmp28 = (unsigned long )(drive_state) + __cil_tmp27;
#line 3798
  __cil_tmp29 = *((unsigned long *)__cil_tmp28);
#line 3798
  __cil_tmp30 = __cil_tmp29 + __cil_tmp25;
#line 3798
  __cil_tmp31 = (long )__cil_tmp30;
#line 3798
  __cil_tmp32 = __cil_tmp31 - __cil_tmp20;
#line 3798
  if (__cil_tmp32 < 0L) {
    {
#line 3799
    _lock_fdc(drive, 0, 3799);
#line 3800
    poll_drive(0, 0);
#line 3801
    __cil_tmp33 = & process_fd_request;
#line 3801
    (*__cil_tmp33)();
    }
  } else {

  }
  }
  {
#line 3804
  __cil_tmp34 = drive * 80UL;
#line 3804
  __cil_tmp35 = (unsigned long )(drive_state) + __cil_tmp34;
#line 3804
  __cil_tmp36 = (unsigned long *)__cil_tmp35;
#line 3804
  __cil_tmp37 = (void const   *)__cil_tmp36;
#line 3804
  tmp___1 = test_bit(4, __cil_tmp37);
  }
#line 3804
  if (tmp___1) {
#line 3808
    return (1);
  } else {
    {
#line 3804
    __cil_tmp38 = drive * 80UL;
#line 3804
    __cil_tmp39 = (unsigned long )(drive_state) + __cil_tmp38;
#line 3804
    __cil_tmp40 = (unsigned long *)__cil_tmp39;
#line 3804
    __cil_tmp41 = (void const   *)__cil_tmp40;
#line 3804
    tmp___2 = test_bit(1, __cil_tmp41);
    }
#line 3804
    if (tmp___2) {
#line 3808
      return (1);
    } else {
      {
#line 3804
      __cil_tmp42 = (void const   *)(& fake_change);
#line 3804
      tmp___3 = test_bit(drive, __cil_tmp42);
      }
#line 3804
      if (tmp___3) {
#line 3808
        return (1);
      } else {
        {
#line 3804
        __cil_tmp43 = drive * 80UL;
#line 3804
        __cil_tmp44 = __cil_tmp43 + 52;
#line 3804
        __cil_tmp45 = (unsigned long )(drive_state) + __cil_tmp44;
#line 3804
        __cil_tmp46 = *((int *)__cil_tmp45);
#line 3804
        __cil_tmp47 = __cil_tmp46 >> 2;
#line 3804
        __cil_tmp48 = __cil_tmp47 & 31;
#line 3804
        if (! __cil_tmp48) {
          {
#line 3804
          __cil_tmp49 = drive * 8UL;
#line 3804
          __cil_tmp50 = (unsigned long )(current_type) + __cil_tmp49;
#line 3804
          __cil_tmp51 = *((struct floppy_struct **)__cil_tmp50);
#line 3804
          if (! __cil_tmp51) {
#line 3808
            return (1);
          } else {

          }
          }
        } else {

        }
        }
      }
    }
  }
#line 3809
  return (0);
}
}
#line 3824
extern int complete() ;
#line 3818 "drivers/block/floppy.c"
static int floppy_rb0_complete(struct bio *bio , unsigned int bytes_done , int err ) 
{ unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  void *__cil_tmp8 ;
  struct completion *__cil_tmp9 ;

  {
  {
#line 3821
  __cil_tmp4 = (unsigned long )bio;
#line 3821
  __cil_tmp5 = __cil_tmp4 + 48;
#line 3821
  if (*((unsigned int *)__cil_tmp5)) {
#line 3822
    return (1);
  } else {

  }
  }
  {
#line 3824
  __cil_tmp6 = (unsigned long )bio;
#line 3824
  __cil_tmp7 = __cil_tmp6 + 72;
#line 3824
  __cil_tmp8 = *((void **)__cil_tmp7);
#line 3824
  __cil_tmp9 = (struct completion *)__cil_tmp8;
#line 3824
  complete(__cil_tmp9);
  }
#line 3825
  return (0);
}
}
#line 3846
extern int bio_init() ;
#line 3856
extern int init_completion() ;
#line 3860
extern int submit_bio() ;
#line 3861
extern int generic_unplug_device() ;
#line 3861
extern int bdev_get_queue() ;
#line 3863
extern int wait_for_completion() ;
#line 3865
extern int __free_page() ;
#line 3828 "drivers/block/floppy.c"
static int __floppy_read_block_0(struct block_device *bdev ) 
{ struct bio bio ;
  struct bio_vec bio_vec ;
  struct completion complete___0 ;
  struct page *page ;
  size_t size ;
  int tmp ;
  void (*__cil_tmp8)(void) ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  struct bio_vec *__cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  struct bio *__cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  void (*__cil_tmp22)(void) ;

  {
  {
#line 3836
  page = alloc_page(16U);
  }
#line 3837
  if (! page) {
    {
#line 3838
    __cil_tmp8 = & process_fd_request;
#line 3838
    (*__cil_tmp8)();
    }
#line 3839
    return (-12);
  } else {

  }
#line 3842
  __cil_tmp9 = (unsigned long )bdev;
#line 3842
  __cil_tmp10 = __cil_tmp9 + 16;
#line 3842
  size = *((unsigned int *)__cil_tmp10);
#line 3843
  if (! size) {
#line 3844
    size = (size_t )1024;
  } else {

  }
  {
#line 3846
  bio_init(& bio);
#line 3847
  __cil_tmp11 = (unsigned long )(& bio) + 56;
#line 3847
  *((struct bio_vec **)__cil_tmp11) = & bio_vec;
#line 3848
  __cil_tmp12 = & bio_vec;
#line 3848
  *((struct page **)__cil_tmp12) = page;
#line 3849
  __cil_tmp13 = (unsigned long )(& bio_vec) + 8;
#line 3849
  *((unsigned int *)__cil_tmp13) = size;
#line 3850
  __cil_tmp14 = (unsigned long )(& bio_vec) + 12;
#line 3850
  *((unsigned int *)__cil_tmp14) = 0U;
#line 3851
  __cil_tmp15 = (unsigned long )(& bio) + 40;
#line 3851
  *((unsigned short *)__cil_tmp15) = (unsigned short)1;
#line 3852
  __cil_tmp16 = (unsigned long )(& bio) + 42;
#line 3852
  *((unsigned short *)__cil_tmp16) = (unsigned short)0;
#line 3853
  __cil_tmp17 = (unsigned long )(& bio) + 48;
#line 3853
  *((unsigned int *)__cil_tmp17) = size;
#line 3854
  __cil_tmp18 = (unsigned long )(& bio) + 16;
#line 3854
  *((struct block_device **)__cil_tmp18) = bdev;
#line 3855
  __cil_tmp19 = & bio;
#line 3855
  *((sector_t *)__cil_tmp19) = (sector_t )0;
#line 3856
  init_completion(& complete___0);
#line 3857
  __cil_tmp20 = (unsigned long )(& bio) + 72;
#line 3857
  *((void **)__cil_tmp20) = (void *)(& complete___0);
#line 3858
  __cil_tmp21 = (unsigned long )(& bio) + 64;
#line 3858
  *((bio_end_io_t **)__cil_tmp21) = & floppy_rb0_complete;
#line 3860
  submit_bio(0, & bio);
#line 3861
  tmp = bdev_get_queue(bdev);
#line 3861
  generic_unplug_device(tmp);
#line 3862
  __cil_tmp22 = & process_fd_request;
#line 3862
  (*__cil_tmp22)();
#line 3863
  wait_for_completion(& complete___0);
#line 3865
  __free_page(page);
  }
#line 3867
  return (0);
}
}
#line 3874 "drivers/block/floppy.c"
static int floppy_revalidate(struct gendisk *disk ) 
{ int drive ;
  int cf ;
  int res ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int tmp___3 ;
  int tmp___4 ;
  int tmp___5 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  void *__cil_tmp14 ;
  long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long *__cil_tmp18 ;
  void const   *__cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long *__cil_tmp22 ;
  void const   *__cil_tmp23 ;
  void const   *__cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  struct floppy_struct *__cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  int __cil_tmp31 ;
  int __cil_tmp32 ;
  int __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned long *__cil_tmp36 ;
  void const   *__cil_tmp37 ;
  unsigned long __cil_tmp38 ;
  unsigned long __cil_tmp39 ;
  unsigned long *__cil_tmp40 ;
  void const   *__cil_tmp41 ;
  void const   *__cil_tmp42 ;
  unsigned long __cil_tmp43 ;
  unsigned long __cil_tmp44 ;
  struct floppy_struct *__cil_tmp45 ;
  unsigned long __cil_tmp46 ;
  unsigned long __cil_tmp47 ;
  unsigned long __cil_tmp48 ;
  int __cil_tmp49 ;
  int __cil_tmp50 ;
  int __cil_tmp51 ;
  int __cil_tmp52 ;
  void (*__cil_tmp53)(void) ;
  void (*__cil_tmp54)(void) ;
  unsigned long __cil_tmp55 ;
  unsigned long __cil_tmp56 ;
  unsigned long __cil_tmp57 ;
  unsigned long __cil_tmp58 ;
  unsigned long __cil_tmp59 ;
  unsigned long __cil_tmp60 ;
  unsigned long volatile   *__cil_tmp61 ;
  unsigned long __cil_tmp62 ;
  unsigned long __cil_tmp63 ;
  unsigned long *__cil_tmp64 ;
  unsigned long volatile   *__cil_tmp65 ;
  unsigned long __cil_tmp66 ;
  unsigned long __cil_tmp67 ;
  unsigned long __cil_tmp68 ;
  unsigned long __cil_tmp69 ;
  unsigned long __cil_tmp70 ;
  unsigned long __cil_tmp71 ;
  int __cil_tmp72 ;
  unsigned long __cil_tmp73 ;
  unsigned long __cil_tmp74 ;
  struct floppy_struct *__cil_tmp75 ;
  unsigned long __cil_tmp76 ;
  unsigned long __cil_tmp77 ;
  unsigned long __cil_tmp78 ;
  int __cil_tmp79 ;
  int __cil_tmp80 ;
  int __cil_tmp81 ;
  unsigned long __cil_tmp82 ;
  unsigned long __cil_tmp83 ;
  struct block_device *__cil_tmp84 ;
  void (*__cil_tmp85)(void) ;
  unsigned long __cil_tmp86 ;
  unsigned long __cil_tmp87 ;
  unsigned long __cil_tmp88 ;
  int __cil_tmp89 ;
  unsigned long __cil_tmp90 ;
  unsigned long __cil_tmp91 ;
  sector_t __cil_tmp92 ;

  {
  {
#line 3876
  __cil_tmp12 = (unsigned long )disk;
#line 3876
  __cil_tmp13 = __cil_tmp12 + 64;
#line 3876
  __cil_tmp14 = *((void **)__cil_tmp13);
#line 3876
  __cil_tmp15 = (long )__cil_tmp14;
#line 3876
  drive = (int )__cil_tmp15;
#line 3879
  res = 0;
#line 3881
  __cil_tmp16 = drive * 80UL;
#line 3881
  __cil_tmp17 = (unsigned long )(drive_state) + __cil_tmp16;
#line 3881
  __cil_tmp18 = (unsigned long *)__cil_tmp17;
#line 3881
  __cil_tmp19 = (void const   *)__cil_tmp18;
#line 3881
  tmp___3 = test_bit(4, __cil_tmp19);
  }
#line 3881
  if (tmp___3) {
#line 3881
    goto _L___0;
  } else {
    {
#line 3881
    __cil_tmp20 = drive * 80UL;
#line 3881
    __cil_tmp21 = (unsigned long )(drive_state) + __cil_tmp20;
#line 3881
    __cil_tmp22 = (unsigned long *)__cil_tmp21;
#line 3881
    __cil_tmp23 = (void const   *)__cil_tmp22;
#line 3881
    tmp___4 = test_bit(1, __cil_tmp23);
    }
#line 3881
    if (tmp___4) {
#line 3881
      goto _L___0;
    } else {
      {
#line 3881
      __cil_tmp24 = (void const   *)(& fake_change);
#line 3881
      tmp___5 = test_bit(drive, __cil_tmp24);
      }
#line 3881
      if (tmp___5) {
#line 3881
        goto _L___0;
      } else {
        {
#line 3881
        __cil_tmp25 = drive * 8UL;
#line 3881
        __cil_tmp26 = (unsigned long )(current_type) + __cil_tmp25;
#line 3881
        __cil_tmp27 = *((struct floppy_struct **)__cil_tmp26);
#line 3881
        if (! __cil_tmp27) {
          {
#line 3881
          __cil_tmp28 = drive * 80UL;
#line 3881
          __cil_tmp29 = __cil_tmp28 + 52;
#line 3881
          __cil_tmp30 = (unsigned long )(drive_state) + __cil_tmp29;
#line 3881
          __cil_tmp31 = *((int *)__cil_tmp30);
#line 3881
          __cil_tmp32 = __cil_tmp31 >> 2;
#line 3881
          __cil_tmp33 = __cil_tmp32 & 31;
#line 3881
          if (! __cil_tmp33) {
            _L___0: 
#line 3883
            if (usage_count == 0) {
              {
#line 3884
              printk("VFS: revalidate called on non-open device.\n");
              }
#line 3885
              return (-14);
            } else {

            }
            {
#line 3887
            _lock_fdc(drive, 0, 3887);
#line 3888
            __cil_tmp34 = drive * 80UL;
#line 3888
            __cil_tmp35 = (unsigned long )(drive_state) + __cil_tmp34;
#line 3888
            __cil_tmp36 = (unsigned long *)__cil_tmp35;
#line 3888
            __cil_tmp37 = (void const   *)__cil_tmp36;
#line 3888
            tmp = test_bit(4, __cil_tmp37);
            }
#line 3888
            if (tmp) {
#line 3888
              tmp___1 = 1;
            } else {
              {
#line 3888
              __cil_tmp38 = drive * 80UL;
#line 3888
              __cil_tmp39 = (unsigned long )(drive_state) + __cil_tmp38;
#line 3888
              __cil_tmp40 = (unsigned long *)__cil_tmp39;
#line 3888
              __cil_tmp41 = (void const   *)__cil_tmp40;
#line 3888
              tmp___0 = test_bit(1, __cil_tmp41);
              }
#line 3888
              if (tmp___0) {
#line 3888
                tmp___1 = 1;
              } else {
#line 3888
                tmp___1 = 0;
              }
            }
#line 3888
            cf = tmp___1;
#line 3889
            if (! cf) {
              {
#line 3889
              __cil_tmp42 = (void const   *)(& fake_change);
#line 3889
              tmp___2 = test_bit(drive, __cil_tmp42);
              }
#line 3889
              if (! tmp___2) {
                {
#line 3889
                __cil_tmp43 = drive * 8UL;
#line 3889
                __cil_tmp44 = (unsigned long )(current_type) + __cil_tmp43;
#line 3889
                __cil_tmp45 = *((struct floppy_struct **)__cil_tmp44);
#line 3889
                if (! __cil_tmp45) {
                  {
#line 3889
                  __cil_tmp46 = drive * 80UL;
#line 3889
                  __cil_tmp47 = __cil_tmp46 + 52;
#line 3889
                  __cil_tmp48 = (unsigned long )(drive_state) + __cil_tmp47;
#line 3889
                  __cil_tmp49 = *((int *)__cil_tmp48);
#line 3889
                  __cil_tmp50 = __cil_tmp49 >> 2;
#line 3889
                  __cil_tmp51 = __cil_tmp50 & 31;
#line 3889
                  __cil_tmp52 = ! __cil_tmp51;
#line 3889
                  if (! __cil_tmp52) {
                    {
#line 3890
                    __cil_tmp53 = & process_fd_request;
#line 3890
                    (*__cil_tmp53)();
                    }
#line 3891
                    return (0);
                  } else {

                  }
                  }
                } else {
                  {
#line 3890
                  __cil_tmp54 = & process_fd_request;
#line 3890
                  (*__cil_tmp54)();
                  }
#line 3891
                  return (0);
                }
                }
              } else {

              }
            } else {

            }
#line 3893
            __cil_tmp55 = drive * 80UL;
#line 3893
            __cil_tmp56 = __cil_tmp55 + 36;
#line 3893
            __cil_tmp57 = (unsigned long )(drive_state) + __cil_tmp56;
#line 3893
            *((short *)__cil_tmp57) = (short)0;
#line 3894
            __cil_tmp58 = drive * 80UL;
#line 3894
            __cil_tmp59 = __cil_tmp58 + 38;
#line 3894
            __cil_tmp60 = (unsigned long )(drive_state) + __cil_tmp59;
#line 3894
            *((short *)__cil_tmp60) = (short)0;
#line 3895
            if (buffer_drive == drive) {
#line 3896
              buffer_track = -1;
            } else {

            }
            {
#line 3897
            __cil_tmp61 = (unsigned long volatile   *)(& fake_change);
#line 3897
            clear_bit(drive, __cil_tmp61);
#line 3898
            __cil_tmp62 = drive * 80UL;
#line 3898
            __cil_tmp63 = (unsigned long )(drive_state) + __cil_tmp62;
#line 3898
            __cil_tmp64 = (unsigned long *)__cil_tmp63;
#line 3898
            __cil_tmp65 = (unsigned long volatile   *)__cil_tmp64;
#line 3898
            clear_bit(4, __cil_tmp65);
            }
#line 3899
            if (cf) {
#line 3900
              __cil_tmp66 = drive * 80UL;
#line 3900
              __cil_tmp67 = __cil_tmp66 + 40;
#line 3900
              __cil_tmp68 = (unsigned long )(drive_state) + __cil_tmp67;
#line 3900
              __cil_tmp69 = drive * 80UL;
#line 3900
              __cil_tmp70 = __cil_tmp69 + 40;
#line 3900
              __cil_tmp71 = (unsigned long )(drive_state) + __cil_tmp70;
#line 3900
              __cil_tmp72 = *((int *)__cil_tmp71);
#line 3900
              *((int *)__cil_tmp68) = __cil_tmp72 + 1;
            } else {

            }
            {
#line 3901
            __cil_tmp73 = drive * 8UL;
#line 3901
            __cil_tmp74 = (unsigned long )(current_type) + __cil_tmp73;
#line 3901
            __cil_tmp75 = *((struct floppy_struct **)__cil_tmp74);
#line 3901
            if (! __cil_tmp75) {
              {
#line 3901
              __cil_tmp76 = drive * 80UL;
#line 3901
              __cil_tmp77 = __cil_tmp76 + 52;
#line 3901
              __cil_tmp78 = (unsigned long )(drive_state) + __cil_tmp77;
#line 3901
              __cil_tmp79 = *((int *)__cil_tmp78);
#line 3901
              __cil_tmp80 = __cil_tmp79 >> 2;
#line 3901
              __cil_tmp81 = __cil_tmp80 & 31;
#line 3901
              if (! __cil_tmp81) {
                {
#line 3903
                __cil_tmp82 = drive * 8UL;
#line 3903
                __cil_tmp83 = (unsigned long )(opened_bdev) + __cil_tmp82;
#line 3903
                __cil_tmp84 = *((struct block_device **)__cil_tmp83);
#line 3903
                res = __floppy_read_block_0(__cil_tmp84);
                }
              } else {
#line 3901
                goto _L;
              }
              }
            } else {
              _L: 
#line 3905
              if (cf) {
                {
#line 3906
                poll_drive(0, 64);
                }
              } else {

              }
              {
#line 3907
              __cil_tmp85 = & process_fd_request;
#line 3907
              (*__cil_tmp85)();
              }
            }
            }
          } else {

          }
          }
        } else {

        }
        }
      }
    }
  }
  {
#line 3910
  __cil_tmp86 = drive * 80UL;
#line 3910
  __cil_tmp87 = __cil_tmp86 + 52;
#line 3910
  __cil_tmp88 = (unsigned long )(drive_state) + __cil_tmp87;
#line 3910
  __cil_tmp89 = *((int *)__cil_tmp88);
#line 3910
  __cil_tmp90 = __cil_tmp89 * 8UL;
#line 3910
  __cil_tmp91 = (unsigned long )(floppy_sizes) + __cil_tmp90;
#line 3910
  __cil_tmp92 = *((sector_t *)__cil_tmp91);
#line 3910
  set_capacity(disk, __cil_tmp92);
  }
#line 3911
  return (res);
}
}
#line 3914 "drivers/block/floppy.c"
static struct block_device_operations floppy_fops  = 
#line 3914
     {& floppy_open, & floppy_release, & fd_ioctl, (long (*)(struct file * , unsigned int  ,
                                                           unsigned long  ))0, (long (*)(struct file * ,
                                                                                         unsigned int  ,
                                                                                         unsigned long  ))0,
    (int (*)(struct block_device * , sector_t  , unsigned long * ))0, & check_floppy_change,
    & floppy_revalidate, & fd_getgeo, & __this_module};
#line 3931 "drivers/block/floppy.c"
static char get_fdc_version(void) 
{ int r ;
  int tmp ;
  int tmp___0 ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned char __cil_tmp8 ;
  int __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned char __cil_tmp12 ;
  int __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned char __cil_tmp16 ;
  int __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned char __cil_tmp20 ;
  int __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned char __cil_tmp24 ;
  int __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned char __cil_tmp28 ;
  int __cil_tmp29 ;
  int __cil_tmp30 ;

  {
  {
#line 3935
  output_byte((char)14);
  }
  {
#line 3936
  __cil_tmp4 = fdc * 40UL;
#line 3936
  __cil_tmp5 = (unsigned long )(fdc_state) + __cil_tmp4;
#line 3936
  if (((struct floppy_fdc_state *)__cil_tmp5)->reset) {
#line 3937
    return ((char)0);
  } else {

  }
  }
  {
#line 3938
  r = result();
  }
#line 3938
  if (r <= 0) {
#line 3939
    return ((char)0);
  } else {

  }
#line 3940
  if (r == 1) {
    {
#line 3940
    __cil_tmp6 = 0 * 1UL;
#line 3940
    __cil_tmp7 = (unsigned long )(reply_buffer) + __cil_tmp6;
#line 3940
    __cil_tmp8 = *((unsigned char *)__cil_tmp7);
#line 3940
    __cil_tmp9 = (int )__cil_tmp8;
#line 3940
    if (__cil_tmp9 == 128) {
      {
#line 3941
      printk("<6>FDC %d is an 8272A\n", fdc);
      }
#line 3942
      return ((char)32);
    } else {

    }
    }
  } else {

  }
#line 3944
  if (r != 10) {
    {
#line 3945
    printk("FDC %d init: DUMPREGS: unexpected return of %d bytes.\n", fdc, r);
    }
#line 3948
    return ((char)16);
  } else {

  }
  {
#line 3951
  tmp = fdc_configure();
  }
#line 3951
  if (! tmp) {
    {
#line 3952
    printk("<6>FDC %d is an 82072\n", fdc);
    }
#line 3953
    return ((char)64);
  } else {

  }
  {
#line 3956
  output_byte((char)18);
#line 3957
  tmp___0 = need_more_output();
  }
#line 3957
  if (tmp___0 == -2) {
    {
#line 3958
    output_byte((char)0);
    }
  } else {
    {
#line 3960
    printk("<6>FDC %d is an 82072A\n", fdc);
    }
#line 3961
    return ((char)69);
  }
  {
#line 3964
  output_byte((char)20);
#line 3965
  r = result();
  }
#line 3966
  if (r == 1) {
    {
#line 3966
    __cil_tmp10 = 0 * 1UL;
#line 3966
    __cil_tmp11 = (unsigned long )(reply_buffer) + __cil_tmp10;
#line 3966
    __cil_tmp12 = *((unsigned char *)__cil_tmp11);
#line 3966
    __cil_tmp13 = (int )__cil_tmp12;
#line 3966
    if (__cil_tmp13 == 128) {
      {
#line 3967
      printk("<6>FDC %d is a pre-1991 82077\n", fdc);
      }
#line 3968
      return ((char)81);
    } else {

    }
    }
  } else {

  }
#line 3971
  if (r != 1) {
    {
#line 3972
    printk("FDC %d init: UNLOCK: unexpected return of %d bytes.\n", fdc, r);
    }
#line 3974
    return ((char)16);
  } else {
    {
#line 3971
    __cil_tmp14 = 0 * 1UL;
#line 3971
    __cil_tmp15 = (unsigned long )(reply_buffer) + __cil_tmp14;
#line 3971
    __cil_tmp16 = *((unsigned char *)__cil_tmp15);
#line 3971
    __cil_tmp17 = (int )__cil_tmp16;
#line 3971
    if (__cil_tmp17 != 0) {
      {
#line 3972
      printk("FDC %d init: UNLOCK: unexpected return of %d bytes.\n", fdc, r);
      }
#line 3974
      return ((char)16);
    } else {

    }
    }
  }
  {
#line 3976
  output_byte((char)24);
#line 3977
  r = result();
  }
#line 3978
  if (r != 1) {
    {
#line 3979
    printk("FDC %d init: PARTID: unexpected return of %d bytes.\n", fdc, r);
    }
#line 3981
    return ((char)16);
  } else {

  }
  {
#line 3983
  __cil_tmp18 = 0 * 1UL;
#line 3983
  __cil_tmp19 = (unsigned long )(reply_buffer) + __cil_tmp18;
#line 3983
  __cil_tmp20 = *((unsigned char *)__cil_tmp19);
#line 3983
  __cil_tmp21 = (int )__cil_tmp20;
#line 3983
  if (__cil_tmp21 == 128) {
    {
#line 3984
    printk("<6>FDC %d is a post-1991 82077\n", fdc);
    }
#line 3985
    return ((char)82);
  } else {

  }
  }
  {
#line 3987
  __cil_tmp22 = 0 * 1UL;
#line 3987
  __cil_tmp23 = (unsigned long )(reply_buffer) + __cil_tmp22;
#line 3987
  __cil_tmp24 = *((unsigned char *)__cil_tmp23);
#line 3987
  __cil_tmp25 = (int )__cil_tmp24;
  {
#line 3988
  if (__cil_tmp25 >> 5 == 0) {
#line 3988
    goto case_0;
  } else {

  }
#line 3992
  if (__cil_tmp25 >> 5 == 1) {
#line 3992
    goto case_1;
  } else {

  }
#line 3995
  if (__cil_tmp25 >> 5 == 2) {
#line 3995
    goto case_2;
  } else {

  }
#line 3998
  if (__cil_tmp25 >> 5 == 3) {
#line 3998
    goto case_3;
  } else {

  }
#line 4002
  goto switch_default;
  case_0: /* CIL Label */ 
  {
#line 3990
  printk("<6>FDC %d is an 82078.\n", fdc);
  }
#line 3991
  return ((char)96);
  case_1: /* CIL Label */ 
  {
#line 3993
  printk("<6>FDC %d is a 44pin 82078\n", fdc);
  }
#line 3994
  return ((char)96);
  case_2: /* CIL Label */ 
  {
#line 3996
  printk("<6>FDC %d is a S82078B\n", fdc);
  }
#line 3997
  return ((char)98);
  case_3: /* CIL Label */ 
  {
#line 3999
  printk("<6>FDC %d is a National Semiconductor PC87306\n", fdc);
  }
#line 4001
  return ((char)99);
  switch_default: /* CIL Label */ 
  {
#line 4003
  __cil_tmp26 = 0 * 1UL;
#line 4003
  __cil_tmp27 = (unsigned long )(reply_buffer) + __cil_tmp26;
#line 4003
  __cil_tmp28 = *((unsigned char *)__cil_tmp27);
#line 4003
  __cil_tmp29 = (int )__cil_tmp28;
#line 4003
  __cil_tmp30 = __cil_tmp29 >> 5;
#line 4003
  printk("<6>FDC %d init: 82078 variant with unknown PARTID=%d.\n", fdc, __cil_tmp30);
  }
#line 4006
  return ((char)95);
  switch_break: /* CIL Label */ ;
  }
  }
}
}
#line 4012 "drivers/block/floppy.c"
static void floppy_set_flags(int *ints , int param , int param2 ) 
{ int i ;
  char const   *tmp ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  char __cil_tmp16 ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  int __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  char __cil_tmp28 ;
  int __cil_tmp29 ;
  int __cil_tmp30 ;
  int __cil_tmp31 ;

  {
#line 4016
  i = 0;
  {
#line 4016
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 4016
    __cil_tmp6 = 952UL / 136UL;
#line 4016
    __cil_tmp7 = (unsigned long )i;
#line 4016
    if (__cil_tmp7 < __cil_tmp6) {

    } else {
#line 4016
      goto while_break;
    }
    }
#line 4017
    if (param) {
#line 4018
      __cil_tmp8 = 0 + 96;
#line 4018
      __cil_tmp9 = i * 136UL;
#line 4018
      __cil_tmp10 = __cil_tmp9 + __cil_tmp8;
#line 4018
      __cil_tmp11 = (unsigned long )(default_drive_params) + __cil_tmp10;
#line 4018
      __cil_tmp12 = 0 + 96;
#line 4018
      __cil_tmp13 = i * 136UL;
#line 4018
      __cil_tmp14 = __cil_tmp13 + __cil_tmp12;
#line 4018
      __cil_tmp15 = (unsigned long )(default_drive_params) + __cil_tmp14;
#line 4018
      __cil_tmp16 = *((char *)__cil_tmp15);
#line 4018
      __cil_tmp17 = (int )__cil_tmp16;
#line 4018
      __cil_tmp18 = __cil_tmp17 | param2;
#line 4018
      *((char *)__cil_tmp11) = (char )__cil_tmp18;
    } else {
#line 4020
      __cil_tmp19 = 0 + 96;
#line 4020
      __cil_tmp20 = i * 136UL;
#line 4020
      __cil_tmp21 = __cil_tmp20 + __cil_tmp19;
#line 4020
      __cil_tmp22 = (unsigned long )(default_drive_params) + __cil_tmp21;
#line 4020
      __cil_tmp23 = ~ param2;
#line 4020
      __cil_tmp24 = 0 + 96;
#line 4020
      __cil_tmp25 = i * 136UL;
#line 4020
      __cil_tmp26 = __cil_tmp25 + __cil_tmp24;
#line 4020
      __cil_tmp27 = (unsigned long )(default_drive_params) + __cil_tmp26;
#line 4020
      __cil_tmp28 = *((char *)__cil_tmp27);
#line 4020
      __cil_tmp29 = (int )__cil_tmp28;
#line 4020
      __cil_tmp30 = __cil_tmp29 & __cil_tmp23;
#line 4020
      *((char *)__cil_tmp22) = (char )__cil_tmp30;
    }
#line 4016
    i = i + 1;
  }
  while_break: /* CIL Label */ ;
  }
#line 4022
  if (param2) {
#line 4022
    tmp = "Setting";
  } else {
#line 4022
    tmp = "Clearing";
  }
  {
#line 4022
  __cil_tmp31 = (int )current_drive;
#line 4022
  printk("floppy%d: %s flag 0x%x\n", __cil_tmp31, tmp, param);
  }
#line 4023
  return;
}
}
#line 4025 "drivers/block/floppy.c"
static void daring(int *ints , int param , int param2 ) 
{ int i ;
  char const   *tmp ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  char __cil_tmp20 ;
  int __cil_tmp21 ;
  int __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  char __cil_tmp35 ;
  int __cil_tmp36 ;
  int __cil_tmp37 ;
  int __cil_tmp38 ;

  {
#line 4029
  i = 0;
  {
#line 4029
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 4029
    __cil_tmp6 = 952UL / 136UL;
#line 4029
    __cil_tmp7 = (unsigned long )i;
#line 4029
    if (__cil_tmp7 < __cil_tmp6) {

    } else {
#line 4029
      goto while_break;
    }
    }
#line 4030
    if (param) {
#line 4031
      __cil_tmp8 = 0 + 57;
#line 4031
      __cil_tmp9 = i * 136UL;
#line 4031
      __cil_tmp10 = __cil_tmp9 + __cil_tmp8;
#line 4031
      __cil_tmp11 = (unsigned long )(default_drive_params) + __cil_tmp10;
#line 4031
      *((unsigned char *)__cil_tmp11) = (unsigned char)0;
#line 4032
      __cil_tmp12 = 0 + 96;
#line 4032
      __cil_tmp13 = i * 136UL;
#line 4032
      __cil_tmp14 = __cil_tmp13 + __cil_tmp12;
#line 4032
      __cil_tmp15 = (unsigned long )(default_drive_params) + __cil_tmp14;
#line 4032
      __cil_tmp16 = 0 + 96;
#line 4032
      __cil_tmp17 = i * 136UL;
#line 4032
      __cil_tmp18 = __cil_tmp17 + __cil_tmp16;
#line 4032
      __cil_tmp19 = (unsigned long )(default_drive_params) + __cil_tmp18;
#line 4032
      __cil_tmp20 = *((char *)__cil_tmp19);
#line 4032
      __cil_tmp21 = (int )__cil_tmp20;
#line 4032
      __cil_tmp22 = __cil_tmp21 | 4;
#line 4032
      *((char *)__cil_tmp15) = (char )__cil_tmp22;
    } else {
#line 4035
      __cil_tmp23 = 0 + 57;
#line 4035
      __cil_tmp24 = i * 136UL;
#line 4035
      __cil_tmp25 = __cil_tmp24 + __cil_tmp23;
#line 4035
      __cil_tmp26 = (unsigned long )(default_drive_params) + __cil_tmp25;
#line 4035
      *((unsigned char *)__cil_tmp26) = (unsigned char)2;
#line 4037
      __cil_tmp27 = 0 + 96;
#line 4037
      __cil_tmp28 = i * 136UL;
#line 4037
      __cil_tmp29 = __cil_tmp28 + __cil_tmp27;
#line 4037
      __cil_tmp30 = (unsigned long )(default_drive_params) + __cil_tmp29;
#line 4037
      __cil_tmp31 = 0 + 96;
#line 4037
      __cil_tmp32 = i * 136UL;
#line 4037
      __cil_tmp33 = __cil_tmp32 + __cil_tmp31;
#line 4037
      __cil_tmp34 = (unsigned long )(default_drive_params) + __cil_tmp33;
#line 4037
      __cil_tmp35 = *((char *)__cil_tmp34);
#line 4037
      __cil_tmp36 = (int )__cil_tmp35;
#line 4037
      __cil_tmp37 = __cil_tmp36 & -5;
#line 4037
      *((char *)__cil_tmp30) = (char )__cil_tmp37;
    }
#line 4029
    i = i + 1;
  }
  while_break: /* CIL Label */ ;
  }
#line 4041
  if (param) {
#line 4041
    tmp = "standard";
  } else {
#line 4041
    tmp = "broken";
  }
  {
#line 4041
  __cil_tmp38 = (int )current_drive;
#line 4041
  printk("floppy%d: Assuming %s floppy hardware\n", __cil_tmp38, tmp);
  }
#line 4042
  return;
}
}
#line 4044 "drivers/block/floppy.c"
static void set_cmos(int *ints , int dummy , int dummy2 ) 
{ int current_drive___0 ;
  int *__cil_tmp5 ;
  int __cil_tmp6 ;
  int *__cil_tmp7 ;
  int *__cil_tmp8 ;
  int __cil_tmp9 ;
  int *__cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  int *__cil_tmp13 ;
  int __cil_tmp14 ;
  int *__cil_tmp15 ;
  int __cil_tmp16 ;

  {
#line 4046
  current_drive___0 = 0;
  {
#line 4048
  __cil_tmp5 = ints + 0;
#line 4048
  __cil_tmp6 = *__cil_tmp5;
#line 4048
  if (__cil_tmp6 != 2) {
    {
#line 4049
    printk("floppy%d: wrong number of parameters for CMOS\n", current_drive___0);
    }
#line 4050
    return;
  } else {

  }
  }
#line 4052
  __cil_tmp7 = ints + 1;
#line 4052
  current_drive___0 = *__cil_tmp7;
#line 4053
  if (current_drive___0 < 0) {
    {
#line 4054
    printk("floppy%d: bad drive for set_cmos\n", current_drive___0);
    }
#line 4055
    return;
  } else
#line 4053
  if (current_drive___0 >= 8) {
    {
#line 4054
    printk("floppy%d: bad drive for set_cmos\n", current_drive___0);
    }
#line 4055
    return;
  } else {

  }
#line 4058
  if (current_drive___0 >= 4) {
    {
#line 4058
    __cil_tmp8 = & FDC2;
#line 4058
    __cil_tmp9 = *__cil_tmp8;
#line 4058
    if (! __cil_tmp9) {
#line 4059
      __cil_tmp10 = & FDC2;
#line 4059
      *__cil_tmp10 = 880;
    } else {

    }
    }
  } else {

  }
  {
#line 4061
  __cil_tmp11 = current_drive___0 * 128UL;
#line 4061
  __cil_tmp12 = (unsigned long )(drive_params) + __cil_tmp11;
#line 4061
  __cil_tmp13 = ints + 2;
#line 4061
  __cil_tmp14 = *__cil_tmp13;
#line 4061
  *((signed char *)__cil_tmp12) = (signed char )__cil_tmp14;
#line 4062
  __cil_tmp15 = ints + 2;
#line 4062
  __cil_tmp16 = *__cil_tmp15;
#line 4062
  printk("floppy%d: setting CMOS code to %d\n", current_drive___0, __cil_tmp16);
  }
#line 4063
  return;
}
}
#line 4065 "drivers/block/floppy.c"
static struct param_table config_params[24]  = 
#line 4065
  {      {"allowed_drive_mask", (void (*)(int *ints , int param , int param2 ))((void *)0),
      & allowed_drive_mask, 255, 0}, 
        {"all_drives", (void (*)(int *ints , int param , int param2 ))((void *)0), & allowed_drive_mask,
      255, 0}, 
        {"asus_pci", (void (*)(int *ints , int param , int param2 ))((void *)0), & allowed_drive_mask,
      51, 0}, 
        {"irq", (void (*)(int *ints , int param , int param2 ))((void *)0), & FLOPPY_IRQ,
      6, 0}, 
        {"dma", (void (*)(int *ints , int param , int param2 ))((void *)0), & FLOPPY_DMA,
      2, 0}, 
        {"daring", & daring, (int *)((void *)0), 1, 0}, 
        {"two_fdc", (void (*)(int *ints , int param , int param2 ))((void *)0), & FDC2,
      880, 0}, 
        {"one_fdc", (void (*)(int *ints , int param , int param2 ))((void *)0), & FDC2,
      0, 0}, 
        {"thinkpad", & floppy_set_flags, (int *)((void *)0), 1, 128}, 
        {"broken_dcl", & floppy_set_flags, (int *)((void *)0), 1, 32}, 
        {"messages", & floppy_set_flags, (int *)((void *)0), 1, 16}, 
        {"silent_dcl_clear", & floppy_set_flags, (int *)((void *)0), 1, 4}, 
        {"debug", & floppy_set_flags, (int *)((void *)0), 1, 2}, 
        {"nodma", (void (*)(int *ints , int param , int param2 ))((void *)0), & can_use_virtual_dma,
      1, 0}, 
        {"omnibook", (void (*)(int *ints , int param , int param2 ))((void *)0), & can_use_virtual_dma,
      1, 0}, 
        {"yesdma", (void (*)(int *ints , int param , int param2 ))((void *)0), & can_use_virtual_dma,
      0, 0}, 
        {"fifo_depth", (void (*)(int *ints , int param , int param2 ))((void *)0), & fifo_depth,
      10, 0}, 
        {"nofifo", (void (*)(int *ints , int param , int param2 ))((void *)0), & no_fifo,
      32, 0}, 
        {"usefifo", (void (*)(int *ints , int param , int param2 ))((void *)0), & no_fifo,
      0, 0}, 
        {"cmos", & set_cmos, (int *)((void *)0), 0, 0}, 
        {"slow", (void (*)(int *ints , int param , int param2 ))((void *)0), & slow_floppy,
      1, 0}, 
        {"unexpected_interrupts", (void (*)(int *ints , int param , int param2 ))((void *)0),
      & print_unex, 1, 0}, 
        {"no_unexpected_interrupts", (void (*)(int *ints , int param , int param2 ))((void *)0),
      & print_unex, 0, 0}, 
        {"L40SX", (void (*)(int *ints , int param , int param2 ))((void *)0), & print_unex,
      0, 0}};
#line 4102 "drivers/block/floppy.c"
static int floppy_setup(char *str ) 
{ int i ;
  int param ;
  int ints[11] ;
  int tmp ;
  char const   *__cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  int __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  int *__cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  char const   *__cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  char const   *__cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  void (*__cil_tmp31)(int *ints , int param , int param2 ) ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  int *__cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned long __cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  int __cil_tmp38 ;
  unsigned long __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  unsigned long __cil_tmp41 ;
  int __cil_tmp42 ;
  unsigned long __cil_tmp43 ;
  unsigned long __cil_tmp44 ;
  unsigned long __cil_tmp45 ;
  int *__cil_tmp46 ;
  int __cil_tmp47 ;
  int __cil_tmp48 ;
  unsigned long __cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  unsigned long __cil_tmp51 ;
  unsigned long __cil_tmp52 ;
  char const   *__cil_tmp53 ;
  int __cil_tmp54 ;
  int __cil_tmp55 ;

  {
  {
#line 4108
  __cil_tmp6 = (char const   *)str;
#line 4108
  __cil_tmp7 = 44UL / 4UL;
#line 4108
  __cil_tmp8 = (int )__cil_tmp7;
#line 4108
  __cil_tmp9 = 0 * 4UL;
#line 4108
  __cil_tmp10 = (unsigned long )(ints) + __cil_tmp9;
#line 4108
  __cil_tmp11 = (int *)__cil_tmp10;
#line 4108
  str = get_options(__cil_tmp6, __cil_tmp8, __cil_tmp11);
  }
#line 4109
  if (str) {
#line 4110
    i = 0;
    {
#line 4110
    while (1) {
      while_continue: /* CIL Label */ ;
      {
#line 4110
      __cil_tmp12 = 768UL / 32UL;
#line 4110
      __cil_tmp13 = (unsigned long )i;
#line 4110
      if (__cil_tmp13 < __cil_tmp12) {

      } else {
#line 4110
        goto while_break;
      }
      }
      {
#line 4111
      __cil_tmp14 = (char const   *)str;
#line 4111
      __cil_tmp15 = i * 32UL;
#line 4111
      __cil_tmp16 = (unsigned long )(config_params) + __cil_tmp15;
#line 4111
      __cil_tmp17 = *((char const   **)__cil_tmp16);
#line 4111
      tmp = strcmp(__cil_tmp14, __cil_tmp17);
      }
#line 4111
      if (tmp == 0) {
        {
#line 4112
        __cil_tmp18 = 0 * 4UL;
#line 4112
        __cil_tmp19 = (unsigned long )(ints) + __cil_tmp18;
#line 4112
        if (*((int *)__cil_tmp19)) {
#line 4113
          __cil_tmp20 = 1 * 4UL;
#line 4113
          __cil_tmp21 = (unsigned long )(ints) + __cil_tmp20;
#line 4113
          param = *((int *)__cil_tmp21);
        } else {
#line 4115
          __cil_tmp22 = i * 32UL;
#line 4115
          __cil_tmp23 = __cil_tmp22 + 24;
#line 4115
          __cil_tmp24 = (unsigned long )(config_params) + __cil_tmp23;
#line 4115
          param = *((int *)__cil_tmp24);
        }
        }
        {
#line 4116
        __cil_tmp25 = i * 32UL;
#line 4116
        __cil_tmp26 = __cil_tmp25 + 8;
#line 4116
        __cil_tmp27 = (unsigned long )(config_params) + __cil_tmp26;
#line 4116
        if (*((void (**)(int *ints , int param , int param2 ))__cil_tmp27)) {
          {
#line 4117
          __cil_tmp28 = i * 32UL;
#line 4117
          __cil_tmp29 = __cil_tmp28 + 8;
#line 4117
          __cil_tmp30 = (unsigned long )(config_params) + __cil_tmp29;
#line 4117
          __cil_tmp31 = *((void (**)(int *ints , int param , int param2 ))__cil_tmp30);
#line 4117
          __cil_tmp32 = 0 * 4UL;
#line 4117
          __cil_tmp33 = (unsigned long )(ints) + __cil_tmp32;
#line 4117
          __cil_tmp34 = (int *)__cil_tmp33;
#line 4117
          __cil_tmp35 = i * 32UL;
#line 4117
          __cil_tmp36 = __cil_tmp35 + 28;
#line 4117
          __cil_tmp37 = (unsigned long )(config_params) + __cil_tmp36;
#line 4117
          __cil_tmp38 = *((int *)__cil_tmp37);
#line 4117
          (*__cil_tmp31)(__cil_tmp34, param, __cil_tmp38);
          }
        } else {

        }
        }
        {
#line 4120
        __cil_tmp39 = i * 32UL;
#line 4120
        __cil_tmp40 = __cil_tmp39 + 16;
#line 4120
        __cil_tmp41 = (unsigned long )(config_params) + __cil_tmp40;
#line 4120
        if (*((int **)__cil_tmp41)) {
          {
#line 4121
          __cil_tmp42 = (int )current_drive;
#line 4121
          printk("floppy%d: %s=%d\n", __cil_tmp42, str, param);
#line 4122
          __cil_tmp43 = i * 32UL;
#line 4122
          __cil_tmp44 = __cil_tmp43 + 16;
#line 4122
          __cil_tmp45 = (unsigned long )(config_params) + __cil_tmp44;
#line 4122
          __cil_tmp46 = *((int **)__cil_tmp45);
#line 4122
          *__cil_tmp46 = param;
          }
        } else {

        }
        }
#line 4124
        return (1);
      } else {

      }
#line 4110
      i = i + 1;
    }
    while_break: /* CIL Label */ ;
    }
  } else {

  }
#line 4128
  if (str) {
    {
#line 4129
    __cil_tmp47 = (int )current_drive;
#line 4129
    printk("floppy%d: unknown floppy option [%s]\n", __cil_tmp47, str);
#line 4131
    __cil_tmp48 = (int )current_drive;
#line 4131
    printk("floppy%d: allowed options are:", __cil_tmp48);
#line 4132
    i = 0;
    }
    {
#line 4132
    while (1) {
      while_continue___0: /* CIL Label */ ;
      {
#line 4132
      __cil_tmp49 = 768UL / 32UL;
#line 4132
      __cil_tmp50 = (unsigned long )i;
#line 4132
      if (__cil_tmp50 < __cil_tmp49) {

      } else {
#line 4132
        goto while_break___0;
      }
      }
      {
#line 4133
      __cil_tmp51 = i * 32UL;
#line 4133
      __cil_tmp52 = (unsigned long )(config_params) + __cil_tmp51;
#line 4133
      __cil_tmp53 = *((char const   **)__cil_tmp52);
#line 4133
      printk(" %s", __cil_tmp53);
#line 4132
      i = i + 1;
      }
    }
    while_break___0: /* CIL Label */ ;
    }
    {
#line 4134
    printk("\n");
    }
  } else {
    {
#line 4136
    __cil_tmp54 = (int )current_drive;
#line 4136
    printk("floppy%d: botched floppy option\n", __cil_tmp54);
    }
  }
  {
#line 4137
  __cil_tmp55 = (int )current_drive;
#line 4137
  printk("floppy%d: Read Documentation/floppy.txt\n", __cil_tmp55);
  }
#line 4138
  return (0);
}
}
#line 4141 "drivers/block/floppy.c"
static int have_no_fdc  =    -19;
#line 4143 "drivers/block/floppy.c"
static ssize_t floppy_cmos_show(struct device *dev , struct device_attribute *attr ,
                                char *buf ) 
{ struct platform_device *p ;
  int drive ;
  struct device *__mptr ;
  int tmp ;
  struct platform_device *__cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  struct device *__cil_tmp11 ;
  size_t __cil_tmp12 ;
  char *__cil_tmp13 ;
  char *__cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  u32 __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  signed char __cil_tmp20 ;
  int __cil_tmp21 ;

  {
  {
#line 4149
  __mptr = dev;
#line 4149
  __cil_tmp8 = (struct platform_device *)0;
#line 4149
  __cil_tmp9 = (unsigned long )__cil_tmp8;
#line 4149
  __cil_tmp10 = __cil_tmp9 + 16;
#line 4149
  __cil_tmp11 = (struct device *)__cil_tmp10;
#line 4149
  __cil_tmp12 = (size_t )__cil_tmp11;
#line 4149
  __cil_tmp13 = (char *)__mptr;
#line 4149
  __cil_tmp14 = __cil_tmp13 - __cil_tmp12;
#line 4149
  p = (struct platform_device *)__cil_tmp14;
#line 4150
  __cil_tmp15 = (unsigned long )p;
#line 4150
  __cil_tmp16 = __cil_tmp15 + 8;
#line 4150
  __cil_tmp17 = *((u32 *)__cil_tmp16);
#line 4150
  drive = (int )__cil_tmp17;
#line 4151
  __cil_tmp18 = drive * 128UL;
#line 4151
  __cil_tmp19 = (unsigned long )(drive_params) + __cil_tmp18;
#line 4151
  __cil_tmp20 = *((signed char *)__cil_tmp19);
#line 4151
  __cil_tmp21 = (int )__cil_tmp20;
#line 4151
  tmp = sprintf(buf, "%X\n", __cil_tmp21);
  }
#line 4151
  return (tmp);
}
}
#line 4153 "drivers/block/floppy.c"
struct device_attribute dev_attr_cmos  =    {{"cmos", & __this_module, (mode_t )292}, & floppy_cmos_show, (ssize_t (*)(struct device *dev ,
                                                                              struct device_attribute *attr ,
                                                                              char const   *buf ,
                                                                              size_t count ))((void *)0)};
#line 4155 "drivers/block/floppy.c"
static void floppy_device_release(struct device *dev ) 
{ 

  {
  {
#line 4157
  complete(& device_release);
  }
#line 4158
  return;
}
}
#line 4160 "drivers/block/floppy.c"
static struct platform_device floppy_device[8]  ;
#line 4162 "drivers/block/floppy.c"
static struct kobject *floppy_find(dev_t dev , int *part , void *data ) 
{ int drive ;
  struct kobject *tmp ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  void *__cil_tmp11 ;
  int __cil_tmp12 ;
  int *__cil_tmp13 ;
  int __cil_tmp14 ;
  int __cil_tmp15 ;
  void *__cil_tmp16 ;
  int __cil_tmp17 ;
  int __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned char __cil_tmp22 ;
  int __cil_tmp23 ;
  void *__cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  int __cil_tmp26 ;
  int __cil_tmp27 ;
  int __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  void *__cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  struct gendisk *__cil_tmp33 ;

  {
#line 4164
  __cil_tmp6 = *part;
#line 4164
  __cil_tmp7 = __cil_tmp6 & 128;
#line 4164
  __cil_tmp8 = __cil_tmp7 >> 5;
#line 4164
  __cil_tmp9 = *part;
#line 4164
  __cil_tmp10 = __cil_tmp9 & 3;
#line 4164
  drive = __cil_tmp10 | __cil_tmp8;
#line 4165
  if (drive >= 8) {
    {
#line 4168
    __cil_tmp11 = (void *)0;
#line 4168
    return ((struct kobject *)__cil_tmp11);
    }
  } else {
    {
#line 4165
    __cil_tmp12 = 1 << drive;
#line 4165
    __cil_tmp13 = & allowed_drive_mask;
#line 4165
    __cil_tmp14 = *__cil_tmp13;
#line 4165
    __cil_tmp15 = __cil_tmp14 & __cil_tmp12;
#line 4165
    if (! __cil_tmp15) {
      {
#line 4168
      __cil_tmp16 = (void *)0;
#line 4168
      return ((struct kobject *)__cil_tmp16);
      }
    } else {
      {
#line 4165
      __cil_tmp17 = drive & 4;
#line 4165
      __cil_tmp18 = __cil_tmp17 >> 2;
#line 4165
      __cil_tmp19 = __cil_tmp18 * 40UL;
#line 4165
      __cil_tmp20 = __cil_tmp19 + 12;
#line 4165
      __cil_tmp21 = (unsigned long )(fdc_state) + __cil_tmp20;
#line 4165
      __cil_tmp22 = *((unsigned char *)__cil_tmp21);
#line 4165
      __cil_tmp23 = (int )__cil_tmp22;
#line 4165
      if (__cil_tmp23 == 0) {
        {
#line 4168
        __cil_tmp24 = (void *)0;
#line 4168
        return ((struct kobject *)__cil_tmp24);
        }
      } else {

      }
      }
    }
    }
  }
  {
#line 4169
  __cil_tmp25 = 1024UL / 32UL;
#line 4169
  __cil_tmp26 = *part;
#line 4169
  __cil_tmp27 = __cil_tmp26 >> 2;
#line 4169
  __cil_tmp28 = __cil_tmp27 & 31;
#line 4169
  __cil_tmp29 = (unsigned long )__cil_tmp28;
#line 4169
  if (__cil_tmp29 >= __cil_tmp25) {
    {
#line 4170
    __cil_tmp30 = (void *)0;
#line 4170
    return ((struct kobject *)__cil_tmp30);
    }
  } else {

  }
  }
  {
#line 4171
  *part = 0;
#line 4172
  __cil_tmp31 = drive * 8UL;
#line 4172
  __cil_tmp32 = (unsigned long )(disks) + __cil_tmp31;
#line 4172
  __cil_tmp33 = *((struct gendisk **)__cil_tmp32);
#line 4172
  tmp = get_disk(__cil_tmp33);
  }
#line 4172
  return (tmp);
}
}
#line 4213
extern int blk_queue_max_sectors() ;
#line 4215
extern int blk_register_region() ;
#line 4333
extern int platform_device_register() ;
#line 4337
extern int device_create_file() ;
#line 4353
extern int blk_unregister_region() ;
#line 4175 "drivers/block/floppy.c"
static int floppy_init___0(void) 
{ int i ;
  int unit ;
  int drive ;
  int err ;
  int dr ;
  int tmp ;
  char tmp___0 ;
  int tmp___1 ;
  void *__cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  struct gendisk *__cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  struct gendisk *__cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  struct gendisk *__cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  int __cil_tmp23 ;
  int __cil_tmp24 ;
  int __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  struct gendisk *__cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  struct gendisk *__cil_tmp35 ;
  unsigned long __cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  char *__cil_tmp38 ;
  unsigned long __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  struct timer_list *__cil_tmp41 ;
  unsigned long __cil_tmp42 ;
  unsigned long __cil_tmp43 ;
  unsigned long __cil_tmp44 ;
  unsigned long __cil_tmp45 ;
  unsigned long __cil_tmp46 ;
  unsigned long __cil_tmp47 ;
  int __cil_tmp48 ;
  void *__cil_tmp49 ;
  void *__cil_tmp50 ;
  int __cil_tmp51 ;
  unsigned long __cil_tmp52 ;
  unsigned long __cil_tmp53 ;
  int __cil_tmp54 ;
  int __cil_tmp55 ;
  unsigned long __cil_tmp56 ;
  unsigned long __cil_tmp57 ;
  unsigned int __cil_tmp58 ;
  unsigned long __cil_tmp59 ;
  unsigned long __cil_tmp60 ;
  int __cil_tmp61 ;
  unsigned long __cil_tmp62 ;
  unsigned long __cil_tmp63 ;
  struct floppy_fdc_state *__cil_tmp64 ;
  void *__cil_tmp65 ;
  unsigned int __cil_tmp66 ;
  unsigned long __cil_tmp67 ;
  unsigned long __cil_tmp68 ;
  unsigned long __cil_tmp69 ;
  unsigned long __cil_tmp70 ;
  unsigned long __cil_tmp71 ;
  unsigned long __cil_tmp72 ;
  int *__cil_tmp73 ;
  int __cil_tmp74 ;
  unsigned long __cil_tmp75 ;
  unsigned long __cil_tmp76 ;
  unsigned long __cil_tmp77 ;
  unsigned long __cil_tmp78 ;
  unsigned long __cil_tmp79 ;
  unsigned long __cil_tmp80 ;
  unsigned long __cil_tmp81 ;
  unsigned long __cil_tmp82 ;
  unsigned long __cil_tmp83 ;
  unsigned long __cil_tmp84 ;
  int *__cil_tmp85 ;
  int __cil_tmp86 ;
  unsigned long __cil_tmp87 ;
  unsigned long __cil_tmp88 ;
  struct floppy_drive_struct *__cil_tmp89 ;
  void *__cil_tmp90 ;
  unsigned int __cil_tmp91 ;
  unsigned long __cil_tmp92 ;
  unsigned long __cil_tmp93 ;
  struct floppy_write_errors *__cil_tmp94 ;
  void *__cil_tmp95 ;
  unsigned int __cil_tmp96 ;
  unsigned long __cil_tmp97 ;
  unsigned long __cil_tmp98 ;
  unsigned long *__cil_tmp99 ;
  unsigned long __cil_tmp100 ;
  unsigned long __cil_tmp101 ;
  unsigned long *__cil_tmp102 ;
  unsigned long __cil_tmp103 ;
  unsigned long __cil_tmp104 ;
  unsigned long *__cil_tmp105 ;
  unsigned long __cil_tmp106 ;
  unsigned long __cil_tmp107 ;
  unsigned long __cil_tmp108 ;
  void *__cil_tmp109 ;
  unsigned long __cil_tmp110 ;
  unsigned long __cil_tmp111 ;
  unsigned long __cil_tmp112 ;
  unsigned long __cil_tmp113 ;
  unsigned long __cil_tmp114 ;
  unsigned long __cil_tmp115 ;
  unsigned long __cil_tmp116 ;
  unsigned long __cil_tmp117 ;
  unsigned long __cil_tmp118 ;
  unsigned long __cil_tmp119 ;
  unsigned long __cil_tmp120 ;
  unsigned long __cil_tmp121 ;
  unsigned long __cil_tmp122 ;
  unsigned long __cil_tmp123 ;
  unsigned long __cil_tmp124 ;
  unsigned long __cil_tmp125 ;
  unsigned long __cil_tmp126 ;
  unsigned long __cil_tmp127 ;
  unsigned long __cil_tmp128 ;
  unsigned long __cil_tmp129 ;
  unsigned long __cil_tmp130 ;
  unsigned long __cil_tmp131 ;
  unsigned long __cil_tmp132 ;
  unsigned long __cil_tmp133 ;
  unsigned long __cil_tmp134 ;
  unsigned long __cil_tmp135 ;
  unsigned long __cil_tmp136 ;
  unsigned long __cil_tmp137 ;
  unsigned long __cil_tmp138 ;
  unsigned long __cil_tmp139 ;
  unsigned long __cil_tmp140 ;
  unsigned long __cil_tmp141 ;
  unsigned long __cil_tmp142 ;
  unsigned long __cil_tmp143 ;
  unsigned long __cil_tmp144 ;
  unsigned long __cil_tmp145 ;
  unsigned long __cil_tmp146 ;
  unsigned char __cil_tmp147 ;
  int __cil_tmp148 ;
  unsigned long __cil_tmp149 ;
  unsigned long __cil_tmp150 ;
  unsigned long __cil_tmp151 ;
  unsigned long __cil_tmp152 ;
  unsigned long __cil_tmp153 ;
  unsigned long __cil_tmp154 ;
  unsigned long __cil_tmp155 ;
  unsigned long __cil_tmp156 ;
  unsigned long __cil_tmp157 ;
  unsigned long __cil_tmp158 ;
  unsigned long __cil_tmp159 ;
  unsigned long __cil_tmp160 ;
  unsigned long __cil_tmp161 ;
  int *__cil_tmp162 ;
  int __cil_tmp163 ;
  unsigned long __cil_tmp164 ;
  unsigned long __cil_tmp165 ;
  unsigned long __cil_tmp166 ;
  unsigned char __cil_tmp167 ;
  int __cil_tmp168 ;
  int *__cil_tmp169 ;
  int __cil_tmp170 ;
  int __cil_tmp171 ;
  int *__cil_tmp172 ;
  int __cil_tmp173 ;
  int __cil_tmp174 ;
  int __cil_tmp175 ;
  int __cil_tmp176 ;
  unsigned long __cil_tmp177 ;
  unsigned long __cil_tmp178 ;
  unsigned long __cil_tmp179 ;
  unsigned char __cil_tmp180 ;
  int __cil_tmp181 ;
  unsigned long __cil_tmp182 ;
  unsigned long __cil_tmp183 ;
  unsigned long __cil_tmp184 ;
  unsigned long __cil_tmp185 ;
  char *__cil_tmp186 ;
  unsigned long __cil_tmp187 ;
  unsigned long __cil_tmp188 ;
  unsigned long __cil_tmp189 ;
  unsigned long __cil_tmp190 ;
  unsigned long __cil_tmp191 ;
  unsigned long __cil_tmp192 ;
  unsigned long __cil_tmp193 ;
  unsigned long __cil_tmp194 ;
  unsigned long __cil_tmp195 ;
  struct platform_device *__cil_tmp196 ;
  unsigned long __cil_tmp197 ;
  unsigned long __cil_tmp198 ;
  unsigned long __cil_tmp199 ;
  struct device *__cil_tmp200 ;
  unsigned long __cil_tmp201 ;
  unsigned long __cil_tmp202 ;
  struct gendisk *__cil_tmp203 ;
  unsigned long __cil_tmp204 ;
  unsigned long __cil_tmp205 ;
  long __cil_tmp206 ;
  unsigned long __cil_tmp207 ;
  unsigned long __cil_tmp208 ;
  struct gendisk *__cil_tmp209 ;
  unsigned long __cil_tmp210 ;
  unsigned long __cil_tmp211 ;
  unsigned long __cil_tmp212 ;
  unsigned long __cil_tmp213 ;
  struct gendisk *__cil_tmp214 ;
  unsigned long __cil_tmp215 ;
  unsigned long __cil_tmp216 ;
  unsigned long __cil_tmp217 ;
  unsigned long __cil_tmp218 ;
  struct gendisk *__cil_tmp219 ;
  unsigned long __cil_tmp220 ;
  unsigned long __cil_tmp221 ;
  int __cil_tmp222 ;
  unsigned long __cil_tmp223 ;
  unsigned long __cil_tmp224 ;
  struct gendisk *__cil_tmp225 ;
  unsigned long __cil_tmp226 ;
  unsigned long __cil_tmp227 ;
  unsigned long __cil_tmp228 ;
  unsigned long __cil_tmp229 ;
  unsigned long __cil_tmp230 ;
  unsigned long __cil_tmp231 ;
  unsigned long __cil_tmp232 ;
  struct gendisk *__cil_tmp233 ;
  int __cil_tmp234 ;
  unsigned long __cil_tmp235 ;
  unsigned long __cil_tmp236 ;
  struct timer_list *__cil_tmp237 ;
  unsigned long __cil_tmp238 ;
  unsigned long __cil_tmp239 ;
  struct gendisk *__cil_tmp240 ;

  {
#line 4185
  __cil_tmp9 = (void *)0;
#line 4185
  raw_cmd = (struct floppy_raw_cmd *)__cil_tmp9;
#line 4187
  dr = 0;
  {
#line 4187
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4187
    if (dr < 8) {

    } else {
#line 4187
      goto while_break;
    }
    {
#line 4188
    __cil_tmp10 = dr * 8UL;
#line 4188
    __cil_tmp11 = (unsigned long )(disks) + __cil_tmp10;
#line 4188
    *((struct gendisk **)__cil_tmp11) = alloc_disk(1);
    }
    {
#line 4189
    __cil_tmp12 = dr * 8UL;
#line 4189
    __cil_tmp13 = (unsigned long )(disks) + __cil_tmp12;
#line 4189
    __cil_tmp14 = *((struct gendisk **)__cil_tmp13);
#line 4189
    if (! __cil_tmp14) {
#line 4190
      err = -12;
#line 4191
      goto out_put_disk;
    } else {

    }
    }
    {
#line 4194
    __cil_tmp15 = dr * 8UL;
#line 4194
    __cil_tmp16 = (unsigned long )(disks) + __cil_tmp15;
#line 4194
    __cil_tmp17 = *((struct gendisk **)__cil_tmp16);
#line 4194
    *((int *)__cil_tmp17) = 2;
#line 4195
    __cil_tmp18 = dr * 8UL;
#line 4195
    __cil_tmp19 = (unsigned long )(disks) + __cil_tmp18;
#line 4195
    __cil_tmp20 = *((struct gendisk **)__cil_tmp19);
#line 4195
    __cil_tmp21 = (unsigned long )__cil_tmp20;
#line 4195
    __cil_tmp22 = __cil_tmp21 + 4;
#line 4195
    __cil_tmp23 = dr & 4;
#line 4195
    __cil_tmp24 = __cil_tmp23 << 5;
#line 4195
    __cil_tmp25 = dr & 3;
#line 4195
    *((int *)__cil_tmp22) = __cil_tmp25 | __cil_tmp24;
#line 4196
    __cil_tmp26 = dr * 8UL;
#line 4196
    __cil_tmp27 = (unsigned long )(disks) + __cil_tmp26;
#line 4196
    __cil_tmp28 = *((struct gendisk **)__cil_tmp27);
#line 4196
    __cil_tmp29 = (unsigned long )__cil_tmp28;
#line 4196
    __cil_tmp30 = __cil_tmp29 + 48;
#line 4196
    *((struct block_device_operations **)__cil_tmp30) = & floppy_fops;
#line 4197
    __cil_tmp31 = 0 * 1UL;
#line 4197
    __cil_tmp32 = 12 + __cil_tmp31;
#line 4197
    __cil_tmp33 = dr * 8UL;
#line 4197
    __cil_tmp34 = (unsigned long )(disks) + __cil_tmp33;
#line 4197
    __cil_tmp35 = *((struct gendisk **)__cil_tmp34);
#line 4197
    __cil_tmp36 = (unsigned long )__cil_tmp35;
#line 4197
    __cil_tmp37 = __cil_tmp36 + __cil_tmp32;
#line 4197
    __cil_tmp38 = (char *)__cil_tmp37;
#line 4197
    sprintf(__cil_tmp38, "fd%d", dr);
#line 4199
    __cil_tmp39 = dr * 32UL;
#line 4199
    __cil_tmp40 = (unsigned long )(motor_off_timer) + __cil_tmp39;
#line 4199
    __cil_tmp41 = (struct timer_list *)__cil_tmp40;
#line 4199
    init_timer(__cil_tmp41);
#line 4200
    __cil_tmp42 = dr * 32UL;
#line 4200
    __cil_tmp43 = __cil_tmp42 + 16;
#line 4200
    __cil_tmp44 = (unsigned long )(motor_off_timer) + __cil_tmp43;
#line 4200
    *((unsigned long *)__cil_tmp44) = (unsigned long )dr;
#line 4201
    __cil_tmp45 = dr * 32UL;
#line 4201
    __cil_tmp46 = __cil_tmp45 + 8;
#line 4201
    __cil_tmp47 = (unsigned long )(motor_off_timer) + __cil_tmp46;
#line 4201
    *((void (**)(unsigned long  ))__cil_tmp47) = & motor_off_callback;
#line 4187
    dr = dr + 1;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 4204
  err = register_blkdev(2U, "fd");
  }
#line 4205
  if (err) {
#line 4206
    goto out_put_disk;
  } else {

  }
  {
#line 4208
  floppy_queue = blk_init_queue(& do_fd_request, & floppy_lock);
  }
#line 4209
  if (! floppy_queue) {
#line 4210
    err = -12;
#line 4211
    goto out_unreg_blkdev;
  } else {

  }
  {
#line 4213
  blk_queue_max_sectors(floppy_queue, 64);
#line 4215
  __cil_tmp48 = 2 << 20;
#line 4215
  __cil_tmp49 = (void *)0;
#line 4215
  __cil_tmp50 = (void *)0;
#line 4215
  blk_register_region(__cil_tmp48, 256, & __this_module, & floppy_find, __cil_tmp49,
                      __cil_tmp50);
#line 4218
  i = 0;
  }
  {
#line 4218
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 4218
    if (i < 256) {

    } else {
#line 4218
      goto while_break___0;
    }
    {
#line 4219
    __cil_tmp51 = i >> 2;
#line 4219
    if (__cil_tmp51 & 31) {
#line 4220
      __cil_tmp52 = i * 8UL;
#line 4220
      __cil_tmp53 = (unsigned long )(floppy_sizes) + __cil_tmp52;
#line 4220
      __cil_tmp54 = i >> 2;
#line 4220
      __cil_tmp55 = __cil_tmp54 & 31;
#line 4220
      __cil_tmp56 = __cil_tmp55 * 32UL;
#line 4220
      __cil_tmp57 = (unsigned long )(floppy_type) + __cil_tmp56;
#line 4220
      __cil_tmp58 = *((unsigned int *)__cil_tmp57);
#line 4220
      *((sector_t *)__cil_tmp53) = (sector_t )__cil_tmp58;
    } else {
#line 4222
      __cil_tmp59 = i * 8UL;
#line 4222
      __cil_tmp60 = (unsigned long )(floppy_sizes) + __cil_tmp59;
#line 4222
      __cil_tmp61 = 4 << 1;
#line 4222
      *((sector_t *)__cil_tmp60) = (sector_t )__cil_tmp61;
    }
    }
#line 4218
    i = i + 1;
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 4224
  reschedule_timeout(-2, "floppy init", -2);
#line 4225
  config_types();
#line 4227
  i = 0;
  }
  {
#line 4227
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 4227
    if (i < 2) {

    } else {
#line 4227
      goto while_break___1;
    }
    {
#line 4228
    fdc = i;
#line 4229
    __cil_tmp62 = fdc * 40UL;
#line 4229
    __cil_tmp63 = (unsigned long )(fdc_state) + __cil_tmp62;
#line 4229
    __cil_tmp64 = (struct floppy_fdc_state *)__cil_tmp63;
#line 4229
    __cil_tmp65 = (void *)__cil_tmp64;
#line 4229
    __cil_tmp66 = (unsigned int )40UL;
#line 4229
    memset(__cil_tmp65, 0, __cil_tmp66);
#line 4230
    __cil_tmp67 = fdc * 40UL;
#line 4230
    __cil_tmp68 = __cil_tmp67 + 8;
#line 4230
    __cil_tmp69 = (unsigned long )(fdc_state) + __cil_tmp68;
#line 4230
    *((int *)__cil_tmp69) = -1;
#line 4231
    __cil_tmp70 = fdc * 40UL;
#line 4231
    __cil_tmp71 = __cil_tmp70 + 13;
#line 4231
    __cil_tmp72 = (unsigned long )(fdc_state) + __cil_tmp71;
#line 4231
    *((unsigned char *)__cil_tmp72) = (unsigned char)4;
#line 4227
    i = i + 1;
    }
  }
  while_break___1: /* CIL Label */ ;
  }
#line 4241
  __cil_tmp73 = & can_use_virtual_dma;
#line 4241
  __cil_tmp74 = *__cil_tmp73;
#line 4241
  use_virtual_dma = __cil_tmp74 & 1;
#line 4242
  __cil_tmp75 = 0 * 40UL;
#line 4242
  __cil_tmp76 = __cil_tmp75 + 16;
#line 4242
  __cil_tmp77 = (unsigned long )(fdc_state) + __cil_tmp76;
#line 4242
  *((unsigned long *)__cil_tmp77) = (unsigned long )FDC1;
  {
#line 4243
  __cil_tmp78 = 0 * 40UL;
#line 4243
  __cil_tmp79 = __cil_tmp78 + 16;
#line 4243
  __cil_tmp80 = (unsigned long )(fdc_state) + __cil_tmp79;
#line 4243
  __cil_tmp81 = *((unsigned long *)__cil_tmp80);
#line 4243
  if (__cil_tmp81 == 0xffffffffffffffffUL) {
    {
#line 4244
    del_timer(& fd_timeout);
#line 4245
    err = -19;
    }
#line 4246
    goto out_unreg_region;
  } else {

  }
  }
  {
#line 4249
  __cil_tmp82 = 1 * 40UL;
#line 4249
  __cil_tmp83 = __cil_tmp82 + 16;
#line 4249
  __cil_tmp84 = (unsigned long )(fdc_state) + __cil_tmp83;
#line 4249
  __cil_tmp85 = & FDC2;
#line 4249
  __cil_tmp86 = *__cil_tmp85;
#line 4249
  *((unsigned long *)__cil_tmp84) = (unsigned long )__cil_tmp86;
#line 4252
  fdc = 0;
#line 4253
  err = floppy_grab_irq_and_dma();
  }
#line 4254
  if (err) {
    {
#line 4255
    del_timer(& fd_timeout);
#line 4256
    err = -16;
    }
#line 4257
    goto out_unreg_region;
  } else {

  }
#line 4261
  drive = 0;
  {
#line 4261
  while (1) {
    while_continue___2: /* CIL Label */ ;
#line 4261
    if (drive < 8) {

    } else {
#line 4261
      goto while_break___2;
    }
    {
#line 4262
    __cil_tmp87 = drive * 80UL;
#line 4262
    __cil_tmp88 = (unsigned long )(drive_state) + __cil_tmp87;
#line 4262
    __cil_tmp89 = (struct floppy_drive_struct *)__cil_tmp88;
#line 4262
    __cil_tmp90 = (void *)__cil_tmp89;
#line 4262
    __cil_tmp91 = (unsigned int )80UL;
#line 4262
    memset(__cil_tmp90, 0, __cil_tmp91);
#line 4263
    __cil_tmp92 = drive * 40UL;
#line 4263
    __cil_tmp93 = (unsigned long )(write_errors) + __cil_tmp92;
#line 4263
    __cil_tmp94 = (struct floppy_write_errors *)__cil_tmp93;
#line 4263
    __cil_tmp95 = (void *)__cil_tmp94;
#line 4263
    __cil_tmp96 = (unsigned int )40UL;
#line 4263
    memset(__cil_tmp95, 0, __cil_tmp96);
#line 4264
    __cil_tmp97 = drive * 80UL;
#line 4264
    __cil_tmp98 = (unsigned long )(drive_state) + __cil_tmp97;
#line 4264
    __cil_tmp99 = (unsigned long *)__cil_tmp98;
#line 4264
    set_bit(2, __cil_tmp99);
#line 4265
    __cil_tmp100 = drive * 80UL;
#line 4265
    __cil_tmp101 = (unsigned long )(drive_state) + __cil_tmp100;
#line 4265
    __cil_tmp102 = (unsigned long *)__cil_tmp101;
#line 4265
    set_bit(4, __cil_tmp102);
#line 4266
    __cil_tmp103 = drive * 80UL;
#line 4266
    __cil_tmp104 = (unsigned long )(drive_state) + __cil_tmp103;
#line 4266
    __cil_tmp105 = (unsigned long *)__cil_tmp104;
#line 4266
    set_bit(1, __cil_tmp105);
#line 4267
    __cil_tmp106 = drive * 80UL;
#line 4267
    __cil_tmp107 = __cil_tmp106 + 52;
#line 4267
    __cil_tmp108 = (unsigned long )(drive_state) + __cil_tmp107;
#line 4267
    *((int *)__cil_tmp108) = -1;
#line 4268
    __cil_tmp109 = (void *)0;
#line 4268
    floppy_track_buffer = (char *)__cil_tmp109;
#line 4269
    max_buffer_sectors = 0;
#line 4261
    drive = drive + 1;
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  {
#line 4276
  msleep(10U);
#line 4278
  i = 0;
  }
  {
#line 4278
  while (1) {
    while_continue___3: /* CIL Label */ ;
#line 4278
    if (i < 2) {

    } else {
#line 4278
      goto while_break___3;
    }
#line 4279
    fdc = i;
#line 4280
    __cil_tmp110 = fdc * 40UL;
#line 4280
    __cil_tmp111 = __cil_tmp110 + 28;
#line 4280
    __cil_tmp112 = (unsigned long )(fdc_state) + __cil_tmp111;
#line 4280
    *((unsigned int *)__cil_tmp112) = 256U;
#line 4281
    unit = 0;
    {
#line 4281
    while (1) {
      while_continue___4: /* CIL Label */ ;
#line 4281
      if (unit < 4) {

      } else {
#line 4281
        goto while_break___4;
      }
#line 4282
      __cil_tmp113 = unit * 1UL;
#line 4282
      __cil_tmp114 = 32 + __cil_tmp113;
#line 4282
      __cil_tmp115 = fdc * 40UL;
#line 4282
      __cil_tmp116 = __cil_tmp115 + __cil_tmp114;
#line 4282
      __cil_tmp117 = (unsigned long )(fdc_state) + __cil_tmp116;
#line 4282
      *((unsigned char *)__cil_tmp117) = (unsigned char)0;
#line 4281
      unit = unit + 1;
    }
    while_break___4: /* CIL Label */ ;
    }
    {
#line 4283
    __cil_tmp118 = fdc * 40UL;
#line 4283
    __cil_tmp119 = __cil_tmp118 + 16;
#line 4283
    __cil_tmp120 = (unsigned long )(fdc_state) + __cil_tmp119;
#line 4283
    __cil_tmp121 = *((unsigned long *)__cil_tmp120);
#line 4283
    if (__cil_tmp121 == 0xffffffffffffffffUL) {
#line 4284
      goto __Cont;
    } else {

    }
    }
    {
#line 4285
    __cil_tmp122 = fdc * 40UL;
#line 4285
    __cil_tmp123 = __cil_tmp122 + 24;
#line 4285
    __cil_tmp124 = (unsigned long )(fdc_state) + __cil_tmp123;
#line 4285
    *((unsigned int *)__cil_tmp124) = 2U;
#line 4286
    tmp = user_reset_fdc(-1, 2, 0);
    }
#line 4286
    if (tmp) {
      {
#line 4288
      __cil_tmp125 = fdc * 40UL;
#line 4288
      __cil_tmp126 = __cil_tmp125 + 16;
#line 4288
      __cil_tmp127 = (unsigned long )(fdc_state) + __cil_tmp126;
#line 4288
      __cil_tmp128 = *((unsigned long *)__cil_tmp127);
#line 4288
      __cil_tmp129 = __cil_tmp128 + 2UL;
#line 4288
      release_region(__cil_tmp129, 4UL);
#line 4289
      __cil_tmp130 = fdc * 40UL;
#line 4289
      __cil_tmp131 = __cil_tmp130 + 16;
#line 4289
      __cil_tmp132 = (unsigned long )(fdc_state) + __cil_tmp131;
#line 4289
      __cil_tmp133 = *((unsigned long *)__cil_tmp132);
#line 4289
      __cil_tmp134 = __cil_tmp133 + 7UL;
#line 4289
      release_region(__cil_tmp134, 1UL);
#line 4290
      __cil_tmp135 = fdc * 40UL;
#line 4290
      __cil_tmp136 = __cil_tmp135 + 16;
#line 4290
      __cil_tmp137 = (unsigned long )(fdc_state) + __cil_tmp136;
#line 4290
      *((unsigned long *)__cil_tmp137) = 0xffffffffffffffffUL;
#line 4291
      __cil_tmp138 = fdc * 40UL;
#line 4291
      __cil_tmp139 = __cil_tmp138 + 12;
#line 4291
      __cil_tmp140 = (unsigned long )(fdc_state) + __cil_tmp139;
#line 4291
      *((unsigned char *)__cil_tmp140) = (unsigned char)0;
      }
#line 4292
      goto __Cont;
    } else {

    }
    {
#line 4295
    tmp___0 = get_fdc_version();
#line 4295
    __cil_tmp141 = fdc * 40UL;
#line 4295
    __cil_tmp142 = __cil_tmp141 + 12;
#line 4295
    __cil_tmp143 = (unsigned long )(fdc_state) + __cil_tmp142;
#line 4295
    *((unsigned char *)__cil_tmp143) = (unsigned char )tmp___0;
    }
    {
#line 4296
    __cil_tmp144 = fdc * 40UL;
#line 4296
    __cil_tmp145 = __cil_tmp144 + 12;
#line 4296
    __cil_tmp146 = (unsigned long )(fdc_state) + __cil_tmp145;
#line 4296
    __cil_tmp147 = *((unsigned char *)__cil_tmp146);
#line 4296
    __cil_tmp148 = (int )__cil_tmp147;
#line 4296
    if (__cil_tmp148 == 0) {
      {
#line 4298
      __cil_tmp149 = fdc * 40UL;
#line 4298
      __cil_tmp150 = __cil_tmp149 + 16;
#line 4298
      __cil_tmp151 = (unsigned long )(fdc_state) + __cil_tmp150;
#line 4298
      __cil_tmp152 = *((unsigned long *)__cil_tmp151);
#line 4298
      __cil_tmp153 = __cil_tmp152 + 2UL;
#line 4298
      release_region(__cil_tmp153, 4UL);
#line 4299
      __cil_tmp154 = fdc * 40UL;
#line 4299
      __cil_tmp155 = __cil_tmp154 + 16;
#line 4299
      __cil_tmp156 = (unsigned long )(fdc_state) + __cil_tmp155;
#line 4299
      __cil_tmp157 = *((unsigned long *)__cil_tmp156);
#line 4299
      __cil_tmp158 = __cil_tmp157 + 7UL;
#line 4299
      release_region(__cil_tmp158, 1UL);
#line 4300
      __cil_tmp159 = fdc * 40UL;
#line 4300
      __cil_tmp160 = __cil_tmp159 + 16;
#line 4300
      __cil_tmp161 = (unsigned long )(fdc_state) + __cil_tmp160;
#line 4300
      *((unsigned long *)__cil_tmp161) = 0xffffffffffffffffUL;
      }
#line 4301
      goto __Cont;
    } else {

    }
    }
    {
#line 4303
    __cil_tmp162 = & can_use_virtual_dma;
#line 4303
    __cil_tmp163 = *__cil_tmp162;
#line 4303
    if (__cil_tmp163 == 2) {
      {
#line 4303
      __cil_tmp164 = fdc * 40UL;
#line 4303
      __cil_tmp165 = __cil_tmp164 + 12;
#line 4303
      __cil_tmp166 = (unsigned long )(fdc_state) + __cil_tmp165;
#line 4303
      __cil_tmp167 = *((unsigned char *)__cil_tmp166);
#line 4303
      __cil_tmp168 = (int )__cil_tmp167;
#line 4303
      if (__cil_tmp168 < 69) {
#line 4304
        __cil_tmp169 = & can_use_virtual_dma;
#line 4304
        *__cil_tmp169 = 0;
      } else {

      }
      }
    } else {

    }
    }
    {
#line 4306
    have_no_fdc = 0;
#line 4311
    user_reset_fdc(-1, 2, 0);
    }
    __Cont: 
#line 4278
    i = i + 1;
  }
  while_break___3: /* CIL Label */ ;
  }
  {
#line 4313
  fdc = 0;
#line 4314
  del_timer(& fd_timeout);
#line 4315
  current_drive = (unsigned char)0;
#line 4316
  initialising = 0;
  }
#line 4317
  if (have_no_fdc) {
    {
#line 4318
    __cil_tmp170 = (int )current_drive;
#line 4318
    printk("floppy%d: no floppy controllers found\n", __cil_tmp170);
#line 4319
    err = have_no_fdc;
    }
#line 4320
    goto out_flush_work;
  } else {

  }
#line 4323
  drive = 0;
  {
#line 4323
  while (1) {
    while_continue___5: /* CIL Label */ ;
#line 4323
    if (drive < 8) {

    } else {
#line 4323
      goto while_break___5;
    }
    {
#line 4324
    __cil_tmp171 = 1 << drive;
#line 4324
    __cil_tmp172 = & allowed_drive_mask;
#line 4324
    __cil_tmp173 = *__cil_tmp172;
#line 4324
    __cil_tmp174 = __cil_tmp173 & __cil_tmp171;
#line 4324
    if (! __cil_tmp174) {
#line 4325
      goto __Cont___0;
    } else {

    }
    }
    {
#line 4326
    __cil_tmp175 = drive & 4;
#line 4326
    __cil_tmp176 = __cil_tmp175 >> 2;
#line 4326
    __cil_tmp177 = __cil_tmp176 * 40UL;
#line 4326
    __cil_tmp178 = __cil_tmp177 + 12;
#line 4326
    __cil_tmp179 = (unsigned long )(fdc_state) + __cil_tmp178;
#line 4326
    __cil_tmp180 = *((unsigned char *)__cil_tmp179);
#line 4326
    __cil_tmp181 = (int )__cil_tmp180;
#line 4326
    if (__cil_tmp181 == 0) {
#line 4327
      goto __Cont___0;
    } else {

    }
    }
    {
#line 4329
    __cil_tmp182 = drive * 48UL;
#line 4329
    __cil_tmp183 = (unsigned long )(floppy_device) + __cil_tmp182;
#line 4329
    __cil_tmp184 = 0 * 1UL;
#line 4329
    __cil_tmp185 = (unsigned long )(floppy_device_name) + __cil_tmp184;
#line 4329
    __cil_tmp186 = (char *)__cil_tmp185;
#line 4329
    *((char const   **)__cil_tmp183) = (char const   *)__cil_tmp186;
#line 4330
    __cil_tmp187 = drive * 48UL;
#line 4330
    __cil_tmp188 = __cil_tmp187 + 8;
#line 4330
    __cil_tmp189 = (unsigned long )(floppy_device) + __cil_tmp188;
#line 4330
    *((u32 *)__cil_tmp189) = (u32 )drive;
#line 4331
    __cil_tmp190 = 16 + 8;
#line 4331
    __cil_tmp191 = drive * 48UL;
#line 4331
    __cil_tmp192 = __cil_tmp191 + __cil_tmp190;
#line 4331
    __cil_tmp193 = (unsigned long )(floppy_device) + __cil_tmp192;
#line 4331
    *((void (**)(struct device *dev ))__cil_tmp193) = & floppy_device_release;
#line 4333
    __cil_tmp194 = drive * 48UL;
#line 4333
    __cil_tmp195 = (unsigned long )(floppy_device) + __cil_tmp194;
#line 4333
    __cil_tmp196 = (struct platform_device *)__cil_tmp195;
#line 4333
    err = platform_device_register(__cil_tmp196);
    }
#line 4334
    if (err) {
#line 4335
      goto out_flush_work;
    } else {

    }
    {
#line 4337
    __cil_tmp197 = drive * 48UL;
#line 4337
    __cil_tmp198 = __cil_tmp197 + 16;
#line 4337
    __cil_tmp199 = (unsigned long )(floppy_device) + __cil_tmp198;
#line 4337
    __cil_tmp200 = (struct device *)__cil_tmp199;
#line 4337
    device_create_file(__cil_tmp200, & dev_attr_cmos);
#line 4339
    __cil_tmp201 = drive * 8UL;
#line 4339
    __cil_tmp202 = (unsigned long )(disks) + __cil_tmp201;
#line 4339
    __cil_tmp203 = *((struct gendisk **)__cil_tmp202);
#line 4339
    __cil_tmp204 = (unsigned long )__cil_tmp203;
#line 4339
    __cil_tmp205 = __cil_tmp204 + 64;
#line 4339
    __cil_tmp206 = (long )drive;
#line 4339
    *((void **)__cil_tmp205) = (void *)__cil_tmp206;
#line 4340
    __cil_tmp207 = drive * 8UL;
#line 4340
    __cil_tmp208 = (unsigned long )(disks) + __cil_tmp207;
#line 4340
    __cil_tmp209 = *((struct gendisk **)__cil_tmp208);
#line 4340
    __cil_tmp210 = (unsigned long )__cil_tmp209;
#line 4340
    __cil_tmp211 = __cil_tmp210 + 56;
#line 4340
    *((struct request_queue **)__cil_tmp211) = floppy_queue;
#line 4341
    __cil_tmp212 = drive * 8UL;
#line 4341
    __cil_tmp213 = (unsigned long )(disks) + __cil_tmp212;
#line 4341
    __cil_tmp214 = *((struct gendisk **)__cil_tmp213);
#line 4341
    __cil_tmp215 = (unsigned long )__cil_tmp214;
#line 4341
    __cil_tmp216 = __cil_tmp215 + 80;
#line 4341
    __cil_tmp217 = drive * 8UL;
#line 4341
    __cil_tmp218 = (unsigned long )(disks) + __cil_tmp217;
#line 4341
    __cil_tmp219 = *((struct gendisk **)__cil_tmp218);
#line 4341
    __cil_tmp220 = (unsigned long )__cil_tmp219;
#line 4341
    __cil_tmp221 = __cil_tmp220 + 80;
#line 4341
    __cil_tmp222 = *((int *)__cil_tmp221);
#line 4341
    *((int *)__cil_tmp216) = __cil_tmp222 | 1;
#line 4342
    __cil_tmp223 = drive * 8UL;
#line 4342
    __cil_tmp224 = (unsigned long )(disks) + __cil_tmp223;
#line 4342
    __cil_tmp225 = *((struct gendisk **)__cil_tmp224);
#line 4342
    __cil_tmp226 = (unsigned long )__cil_tmp225;
#line 4342
    __cil_tmp227 = __cil_tmp226 + 88;
#line 4342
    __cil_tmp228 = drive * 48UL;
#line 4342
    __cil_tmp229 = __cil_tmp228 + 16;
#line 4342
    __cil_tmp230 = (unsigned long )(floppy_device) + __cil_tmp229;
#line 4342
    *((struct device **)__cil_tmp227) = (struct device *)__cil_tmp230;
#line 4343
    __cil_tmp231 = drive * 8UL;
#line 4343
    __cil_tmp232 = (unsigned long )(disks) + __cil_tmp231;
#line 4343
    __cil_tmp233 = *((struct gendisk **)__cil_tmp232);
#line 4343
    add_disk(__cil_tmp233);
    }
    __Cont___0: 
#line 4323
    drive = drive + 1;
  }
  while_break___5: /* CIL Label */ ;
  }
#line 4346
  return (0);
  out_flush_work: 
  {
#line 4349
  flush_scheduled_work();
  }
#line 4350
  if (usage_count) {
    {
#line 4351
    floppy_release_irq_and_dma();
    }
  } else {

  }
  out_unreg_region: 
  {
#line 4353
  __cil_tmp234 = 2 << 20;
#line 4353
  blk_unregister_region(__cil_tmp234, 256);
#line 4354
  blk_cleanup_queue(floppy_queue);
  }
  out_unreg_blkdev: 
  {
#line 4356
  unregister_blkdev(2U, "fd");
  }
  out_put_disk: 
  {
#line 4358
  while (1) {
    while_continue___6: /* CIL Label */ ;
#line 4358
    tmp___1 = dr;
#line 4358
    dr = dr - 1;
#line 4358
    if (! tmp___1) {
#line 4358
      goto while_break___6;
    } else {

    }
    {
#line 4359
    __cil_tmp235 = dr * 32UL;
#line 4359
    __cil_tmp236 = (unsigned long )(motor_off_timer) + __cil_tmp235;
#line 4359
    __cil_tmp237 = (struct timer_list *)__cil_tmp236;
#line 4359
    del_timer(__cil_tmp237);
#line 4360
    __cil_tmp238 = dr * 8UL;
#line 4360
    __cil_tmp239 = (unsigned long )(disks) + __cil_tmp238;
#line 4360
    __cil_tmp240 = *((struct gendisk **)__cil_tmp239);
#line 4360
    put_disk(__cil_tmp240);
    }
  }
  while_break___6: /* CIL Label */ ;
  }
#line 4362
  return (err);
}
}
#line 4365 "drivers/block/floppy.c"
static spinlock_t floppy_usage_lock  =    {1, 0};
#line 4384
extern int fd_request_irq() ;
#line 4395
extern int fd_free_irq() ;
#line 4392
extern int fd_request_dma() ;
#line 4441
extern int fd_free_dma() ;
#line 4367 "drivers/block/floppy.c"
static int floppy_grab_irq_and_dma(void) 
{ unsigned long flags ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  struct resource *tmp___2 ;
  struct resource *tmp___3 ;
  int __cil_tmp7 ;
  int *__cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int *__cil_tmp11 ;
  int __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  int __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  int __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned long __cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  unsigned long __cil_tmp38 ;
  unsigned long __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  unsigned long __cil_tmp41 ;
  unsigned long __cil_tmp42 ;
  unsigned long __cil_tmp43 ;
  unsigned long __cil_tmp44 ;
  unsigned long __cil_tmp45 ;
  unsigned char __cil_tmp46 ;
  int __cil_tmp47 ;
  unsigned long __cil_tmp48 ;
  unsigned long __cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  unsigned long __cil_tmp51 ;
  unsigned long __cil_tmp52 ;
  int __cil_tmp53 ;
  char __cil_tmp54 ;
  unsigned long __cil_tmp55 ;
  unsigned long __cil_tmp56 ;
  unsigned long __cil_tmp57 ;
  unsigned long __cil_tmp58 ;
  unsigned long __cil_tmp59 ;
  unsigned long __cil_tmp60 ;
  unsigned long __cil_tmp61 ;
  unsigned char __cil_tmp62 ;
  int __cil_tmp63 ;
  unsigned long __cil_tmp64 ;
  unsigned long __cil_tmp65 ;
  unsigned long __cil_tmp66 ;
  unsigned long __cil_tmp67 ;
  unsigned long __cil_tmp68 ;
  unsigned long __cil_tmp69 ;
  unsigned long __cil_tmp70 ;
  unsigned long __cil_tmp71 ;
  unsigned long __cil_tmp72 ;
  unsigned long __cil_tmp73 ;
  int __cil_tmp74 ;
  unsigned long __cil_tmp75 ;
  unsigned long __cil_tmp76 ;
  unsigned long __cil_tmp77 ;
  unsigned long __cil_tmp78 ;
  unsigned long __cil_tmp79 ;
  unsigned long __cil_tmp80 ;
  unsigned long __cil_tmp81 ;
  unsigned long __cil_tmp82 ;
  unsigned long __cil_tmp83 ;
  unsigned long __cil_tmp84 ;

  {
  {
#line 4371
  spin_lock_irqsave(& floppy_usage_lock, flags);
#line 4372
  tmp = usage_count;
#line 4372
  usage_count = usage_count + 1;
  }
#line 4372
  if (tmp) {
    {
#line 4373
    spin_unlock_irqrestore(& floppy_usage_lock, flags);
    }
#line 4374
    return (0);
  } else {

  }
  {
#line 4376
  spin_unlock_irqrestore(& floppy_usage_lock, flags);
#line 4382
  flush_scheduled_work();
#line 4384
  tmp___0 = fd_request_irq();
  }
#line 4384
  if (tmp___0) {
    {
#line 4385
    __cil_tmp7 = (int )current_drive;
#line 4385
    __cil_tmp8 = & FLOPPY_IRQ;
#line 4385
    __cil_tmp9 = *__cil_tmp8;
#line 4385
    printk("floppy%d: Unable to grab IRQ%d for the floppy driver\n", __cil_tmp7, __cil_tmp9);
#line 4387
    spin_lock_irqsave(& floppy_usage_lock, flags);
#line 4388
    usage_count = usage_count - 1;
#line 4389
    spin_unlock_irqrestore(& floppy_usage_lock, flags);
    }
#line 4390
    return (-1);
  } else {

  }
  {
#line 4392
  tmp___1 = fd_request_dma();
  }
#line 4392
  if (tmp___1) {
    {
#line 4393
    __cil_tmp10 = (int )current_drive;
#line 4393
    __cil_tmp11 = & FLOPPY_DMA;
#line 4393
    __cil_tmp12 = *__cil_tmp11;
#line 4393
    printk("floppy%d: Unable to grab DMA%d for the floppy driver\n", __cil_tmp10,
           __cil_tmp12);
#line 4395
    fd_free_irq();
#line 4396
    spin_lock_irqsave(& floppy_usage_lock, flags);
#line 4397
    usage_count = usage_count - 1;
#line 4398
    spin_unlock_irqrestore(& floppy_usage_lock, flags);
    }
#line 4399
    return (-1);
  } else {

  }
#line 4402
  fdc = 0;
  {
#line 4402
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4402
    if (fdc < 2) {

    } else {
#line 4402
      goto while_break;
    }
    {
#line 4403
    __cil_tmp13 = fdc * 40UL;
#line 4403
    __cil_tmp14 = __cil_tmp13 + 16;
#line 4403
    __cil_tmp15 = (unsigned long )(fdc_state) + __cil_tmp14;
#line 4403
    __cil_tmp16 = *((unsigned long *)__cil_tmp15);
#line 4403
    if (__cil_tmp16 != 0xffffffffffffffffUL) {
      {
#line 4404
      __cil_tmp17 = fdc * 40UL;
#line 4404
      __cil_tmp18 = __cil_tmp17 + 16;
#line 4404
      __cil_tmp19 = (unsigned long )(fdc_state) + __cil_tmp18;
#line 4404
      __cil_tmp20 = *((unsigned long *)__cil_tmp19);
#line 4404
      __cil_tmp21 = __cil_tmp20 + 2UL;
#line 4404
      tmp___2 = request_region(__cil_tmp21, 4UL, "floppy");
      }
#line 4404
      if (! tmp___2) {
        {
#line 4405
        __cil_tmp22 = (int )current_drive;
#line 4405
        __cil_tmp23 = fdc * 40UL;
#line 4405
        __cil_tmp24 = __cil_tmp23 + 16;
#line 4405
        __cil_tmp25 = (unsigned long )(fdc_state) + __cil_tmp24;
#line 4405
        __cil_tmp26 = *((unsigned long *)__cil_tmp25);
#line 4405
        __cil_tmp27 = __cil_tmp26 + 2UL;
#line 4405
        printk("floppy%d: Floppy io-port 0x%04lx in use\n", __cil_tmp22, __cil_tmp27);
        }
#line 4407
        goto cleanup1;
      } else {

      }
      {
#line 4409
      __cil_tmp28 = fdc * 40UL;
#line 4409
      __cil_tmp29 = __cil_tmp28 + 16;
#line 4409
      __cil_tmp30 = (unsigned long )(fdc_state) + __cil_tmp29;
#line 4409
      __cil_tmp31 = *((unsigned long *)__cil_tmp30);
#line 4409
      __cil_tmp32 = __cil_tmp31 + 7UL;
#line 4409
      tmp___3 = request_region(__cil_tmp32, 1UL, "floppy DIR");
      }
#line 4409
      if (! tmp___3) {
        {
#line 4410
        __cil_tmp33 = (int )current_drive;
#line 4410
        __cil_tmp34 = fdc * 40UL;
#line 4410
        __cil_tmp35 = __cil_tmp34 + 16;
#line 4410
        __cil_tmp36 = (unsigned long )(fdc_state) + __cil_tmp35;
#line 4410
        __cil_tmp37 = *((unsigned long *)__cil_tmp36);
#line 4410
        __cil_tmp38 = __cil_tmp37 + 7UL;
#line 4410
        printk("floppy%d: Floppy io-port 0x%04lx in use\n", __cil_tmp33, __cil_tmp38);
        }
#line 4412
        goto cleanup2;
      } else {

      }
    } else {

    }
    }
#line 4402
    fdc = fdc + 1;
  }
  while_break: /* CIL Label */ ;
  }
#line 4418
  fdc = 0;
  {
#line 4418
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 4418
    if (fdc < 2) {

    } else {
#line 4418
      goto while_break___0;
    }
    {
#line 4419
    __cil_tmp39 = fdc * 40UL;
#line 4419
    __cil_tmp40 = __cil_tmp39 + 16;
#line 4419
    __cil_tmp41 = (unsigned long )(fdc_state) + __cil_tmp40;
#line 4419
    __cil_tmp42 = *((unsigned long *)__cil_tmp41);
#line 4419
    if (__cil_tmp42 != 0xffffffffffffffffUL) {
      {
#line 4420
      reset_fdc_info(1);
#line 4421
      __cil_tmp43 = fdc * 40UL;
#line 4421
      __cil_tmp44 = __cil_tmp43 + 13;
#line 4421
      __cil_tmp45 = (unsigned long )(fdc_state) + __cil_tmp44;
#line 4421
      __cil_tmp46 = *((unsigned char *)__cil_tmp45);
#line 4421
      __cil_tmp47 = (int )__cil_tmp46;
#line 4421
      __cil_tmp48 = fdc * 40UL;
#line 4421
      __cil_tmp49 = __cil_tmp48 + 16;
#line 4421
      __cil_tmp50 = (unsigned long )(fdc_state) + __cil_tmp49;
#line 4421
      __cil_tmp51 = *((unsigned long *)__cil_tmp50);
#line 4421
      __cil_tmp52 = 2UL + __cil_tmp51;
#line 4421
      fd_outb(__cil_tmp47, __cil_tmp52);
      }
    } else {

    }
    }
#line 4418
    fdc = fdc + 1;
  }
  while_break___0: /* CIL Label */ ;
  }
  {
#line 4424
  fdc = 0;
#line 4425
  __cil_tmp53 = ~ 0;
#line 4425
  __cil_tmp54 = (char )__cil_tmp53;
#line 4425
  set_dor(0, __cil_tmp54, (char)8);
#line 4427
  fdc = 0;
  }
  {
#line 4427
  while (1) {
    while_continue___1: /* CIL Label */ ;
#line 4427
    if (fdc < 2) {

    } else {
#line 4427
      goto while_break___1;
    }
    {
#line 4428
    __cil_tmp55 = fdc * 40UL;
#line 4428
    __cil_tmp56 = __cil_tmp55 + 16;
#line 4428
    __cil_tmp57 = (unsigned long )(fdc_state) + __cil_tmp56;
#line 4428
    __cil_tmp58 = *((unsigned long *)__cil_tmp57);
#line 4428
    if (__cil_tmp58 != 0xffffffffffffffffUL) {
      {
#line 4429
      __cil_tmp59 = fdc * 40UL;
#line 4429
      __cil_tmp60 = __cil_tmp59 + 13;
#line 4429
      __cil_tmp61 = (unsigned long )(fdc_state) + __cil_tmp60;
#line 4429
      __cil_tmp62 = *((unsigned char *)__cil_tmp61);
#line 4429
      __cil_tmp63 = (int )__cil_tmp62;
#line 4429
      __cil_tmp64 = fdc * 40UL;
#line 4429
      __cil_tmp65 = __cil_tmp64 + 16;
#line 4429
      __cil_tmp66 = (unsigned long )(fdc_state) + __cil_tmp65;
#line 4429
      __cil_tmp67 = *((unsigned long *)__cil_tmp66);
#line 4429
      __cil_tmp68 = 2UL + __cil_tmp67;
#line 4429
      fd_outb(__cil_tmp63, __cil_tmp68);
      }
    } else {

    }
    }
#line 4427
    fdc = fdc + 1;
  }
  while_break___1: /* CIL Label */ ;
  }
#line 4434
  fdc = 0;
#line 4435
  irqdma_allocated = 1;
#line 4436
  return (0);
  cleanup2: 
  {
#line 4438
  __cil_tmp69 = fdc * 40UL;
#line 4438
  __cil_tmp70 = __cil_tmp69 + 16;
#line 4438
  __cil_tmp71 = (unsigned long )(fdc_state) + __cil_tmp70;
#line 4438
  __cil_tmp72 = *((unsigned long *)__cil_tmp71);
#line 4438
  __cil_tmp73 = __cil_tmp72 + 2UL;
#line 4438
  release_region(__cil_tmp73, 4UL);
  }
  cleanup1: 
  {
#line 4440
  fd_free_irq();
#line 4441
  fd_free_dma();
  }
  {
#line 4442
  while (1) {
    while_continue___2: /* CIL Label */ ;
#line 4442
    fdc = fdc - 1;
    {
#line 4442
    __cil_tmp74 = fdc >= 0;
#line 4442
    if (! __cil_tmp74) {
#line 4442
      goto while_break___2;
    } else {

    }
    }
    {
#line 4443
    __cil_tmp75 = fdc * 40UL;
#line 4443
    __cil_tmp76 = __cil_tmp75 + 16;
#line 4443
    __cil_tmp77 = (unsigned long )(fdc_state) + __cil_tmp76;
#line 4443
    __cil_tmp78 = *((unsigned long *)__cil_tmp77);
#line 4443
    __cil_tmp79 = __cil_tmp78 + 2UL;
#line 4443
    release_region(__cil_tmp79, 4UL);
#line 4444
    __cil_tmp80 = fdc * 40UL;
#line 4444
    __cil_tmp81 = __cil_tmp80 + 16;
#line 4444
    __cil_tmp82 = (unsigned long )(fdc_state) + __cil_tmp81;
#line 4444
    __cil_tmp83 = *((unsigned long *)__cil_tmp82);
#line 4444
    __cil_tmp84 = __cil_tmp83 + 7UL;
#line 4444
    release_region(__cil_tmp84, 1UL);
    }
  }
  while_break___2: /* CIL Label */ ;
  }
  {
#line 4446
  spin_lock_irqsave(& floppy_usage_lock, flags);
#line 4447
  usage_count = usage_count - 1;
#line 4448
  spin_unlock_irqrestore(& floppy_usage_lock, flags);
  }
#line 4449
  return (-1);
}
}
#line 4452 "drivers/block/floppy.c"
static void floppy_release_irq_and_dma(void) 
{ int old_fdc ;
  int drive ;
  long tmpsize ;
  unsigned long tmpaddr ;
  unsigned long flags ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  int __cil_tmp10 ;
  char __cil_tmp11 ;
  int __cil_tmp12 ;
  char __cil_tmp13 ;
  int __cil_tmp14 ;
  void *__cil_tmp15 ;
  unsigned int __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  struct timer_list *__cil_tmp19 ;
  struct timer_list *__cil_tmp20 ;
  struct work_struct *__cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned long __cil_tmp35 ;

  {
  {
#line 4464
  spin_lock_irqsave(& floppy_usage_lock, flags);
#line 4465
  usage_count = usage_count - 1;
  }
#line 4465
  if (usage_count) {
    {
#line 4466
    spin_unlock_irqrestore(& floppy_usage_lock, flags);
    }
#line 4467
    return;
  } else {

  }
  {
#line 4469
  spin_unlock_irqrestore(& floppy_usage_lock, flags);
  }
#line 4470
  if (irqdma_allocated) {
    {
#line 4471
    fd_disable_dma();
#line 4472
    fd_free_dma();
#line 4473
    fd_free_irq();
#line 4474
    irqdma_allocated = 0;
    }
  } else {

  }
  {
#line 4476
  __cil_tmp10 = ~ 0;
#line 4476
  __cil_tmp11 = (char )__cil_tmp10;
#line 4476
  set_dor(0, __cil_tmp11, (char)8);
#line 4478
  __cil_tmp12 = ~ 8;
#line 4478
  __cil_tmp13 = (char )__cil_tmp12;
#line 4478
  set_dor(1, __cil_tmp13, (char)0);
#line 4480
  floppy_enable_hlt();
  }
#line 4482
  if (floppy_track_buffer) {
#line 4482
    if (max_buffer_sectors) {
      {
#line 4483
      __cil_tmp14 = max_buffer_sectors * 1024;
#line 4483
      tmpsize = (long )__cil_tmp14;
#line 4484
      tmpaddr = (unsigned long )floppy_track_buffer;
#line 4485
      __cil_tmp15 = (void *)0;
#line 4485
      floppy_track_buffer = (char *)__cil_tmp15;
#line 4486
      max_buffer_sectors = 0;
#line 4487
      buffer_max = -1;
#line 4487
      buffer_min = buffer_max;
#line 4488
      tmp = get_order(tmpsize);
#line 4488
      __cil_tmp16 = (unsigned int )tmp;
#line 4488
      free_pages(tmpaddr, __cil_tmp16);
      }
    } else {

    }
  } else {

  }
#line 4492
  drive = 0;
  {
#line 4492
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4492
    if (drive < 8) {

    } else {
#line 4492
      goto while_break;
    }
    {
#line 4493
    __cil_tmp17 = 0 * 32UL;
#line 4493
    __cil_tmp18 = (unsigned long )(motor_off_timer) + __cil_tmp17;
#line 4493
    __cil_tmp19 = (struct timer_list *)__cil_tmp18;
#line 4493
    __cil_tmp20 = __cil_tmp19 + drive;
#line 4493
    tmp___0 = timer_pending(__cil_tmp20);
    }
#line 4493
    if (tmp___0) {
      {
#line 4494
      printk("motor off timer %d still active\n", drive);
      }
    } else {

    }
#line 4492
    drive = drive + 1;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 4497
  tmp___1 = timer_pending(& fd_timeout);
  }
#line 4497
  if (tmp___1) {
    {
#line 4498
    printk("floppy timer still active:%s\n", timeout_message);
    }
  } else {

  }
  {
#line 4499
  tmp___2 = timer_pending(& fd_timer);
  }
#line 4499
  if (tmp___2) {
    {
#line 4500
    printk("auxiliary floppy timer still active\n");
    }
  } else {

  }
  {
#line 4501
  __cil_tmp21 = & floppy_work;
#line 4501
  if (*((unsigned long *)__cil_tmp21)) {
    {
#line 4502
    printk("work still pending\n");
    }
  } else {

  }
  }
#line 4504
  old_fdc = fdc;
#line 4505
  fdc = 0;
  {
#line 4505
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 4505
    if (fdc < 2) {

    } else {
#line 4505
      goto while_break___0;
    }
    {
#line 4506
    __cil_tmp22 = fdc * 40UL;
#line 4506
    __cil_tmp23 = __cil_tmp22 + 16;
#line 4506
    __cil_tmp24 = (unsigned long )(fdc_state) + __cil_tmp23;
#line 4506
    __cil_tmp25 = *((unsigned long *)__cil_tmp24);
#line 4506
    if (__cil_tmp25 != 0xffffffffffffffffUL) {
      {
#line 4507
      __cil_tmp26 = fdc * 40UL;
#line 4507
      __cil_tmp27 = __cil_tmp26 + 16;
#line 4507
      __cil_tmp28 = (unsigned long )(fdc_state) + __cil_tmp27;
#line 4507
      __cil_tmp29 = *((unsigned long *)__cil_tmp28);
#line 4507
      __cil_tmp30 = __cil_tmp29 + 2UL;
#line 4507
      release_region(__cil_tmp30, 4UL);
#line 4508
      __cil_tmp31 = fdc * 40UL;
#line 4508
      __cil_tmp32 = __cil_tmp31 + 16;
#line 4508
      __cil_tmp33 = (unsigned long )(fdc_state) + __cil_tmp32;
#line 4508
      __cil_tmp34 = *((unsigned long *)__cil_tmp33);
#line 4508
      __cil_tmp35 = __cil_tmp34 + 7UL;
#line 4508
      release_region(__cil_tmp35, 1UL);
      }
    } else {

    }
    }
#line 4505
    fdc = fdc + 1;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 4510
  fdc = old_fdc;
#line 4511
  return;
}
}
#line 4515 "drivers/block/floppy.c"
static char *floppy  ;
#line 4517 "drivers/block/floppy.c"
static void parse_floppy_cfg_string(char *cfg ) 
{ char *ptr ;
  char __cil_tmp3 ;
  int __cil_tmp4 ;
  char __cil_tmp5 ;
  int __cil_tmp6 ;
  int __cil_tmp7 ;

  {
  {
#line 4521
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4521
    if (*cfg) {

    } else {
#line 4521
      goto while_break;
    }
#line 4522
    ptr = cfg;
    {
#line 4522
    while (1) {
      while_continue___0: /* CIL Label */ ;
#line 4522
      if (*cfg) {
        {
#line 4522
        __cil_tmp3 = *cfg;
#line 4522
        __cil_tmp4 = (int )__cil_tmp3;
#line 4522
        if (__cil_tmp4 != 32) {
          {
#line 4522
          __cil_tmp5 = *cfg;
#line 4522
          __cil_tmp6 = (int )__cil_tmp5;
#line 4522
          __cil_tmp7 = __cil_tmp6 != 9;
#line 4522
          if (! __cil_tmp7) {
#line 4522
            goto while_break___0;
          } else {

          }
          }
        } else {
#line 4522
          goto while_break___0;
        }
        }
      } else {
#line 4522
        goto while_break___0;
      }
#line 4522
      cfg = cfg + 1;
    }
    while_break___0: /* CIL Label */ ;
    }
#line 4523
    if (*cfg) {
#line 4524
      *cfg = (char )'\000';
#line 4525
      cfg = cfg + 1;
    } else {

    }
#line 4527
    if (*ptr) {
      {
#line 4528
      floppy_setup(ptr);
      }
    } else {

    }
  }
  while_break: /* CIL Label */ ;
  }
#line 4530
  return;
}
}
#line 4532 "drivers/block/floppy.c"
int init_module(void) 
{ int tmp ;

  {
#line 4534
  if (floppy) {
    {
#line 4535
    parse_floppy_cfg_string(floppy);
    }
  } else {

  }
  {
#line 4536
  tmp = floppy_init___0();
  }
#line 4536
  return (tmp);
}
}
#line 4553
extern int device_remove_file() ;
#line 4554
extern int platform_device_unregister() ;
#line 4539 "drivers/block/floppy.c"
void cleanup_module(void) 
{ int drive ;
  int __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  struct timer_list *__cil_tmp5 ;
  int __cil_tmp6 ;
  int *__cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned char __cil_tmp14 ;
  int __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  struct gendisk *__cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  struct device *__cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  struct platform_device *__cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  struct gendisk *__cil_tmp28 ;

  {
  {
#line 4543
  init_completion(& device_release);
#line 4544
  __cil_tmp2 = 2 << 20;
#line 4544
  blk_unregister_region(__cil_tmp2, 256);
#line 4545
  unregister_blkdev(2U, "fd");
#line 4547
  drive = 0;
  }
  {
#line 4547
  while (1) {
    while_continue: /* CIL Label */ ;
#line 4547
    if (drive < 8) {

    } else {
#line 4547
      goto while_break;
    }
    {
#line 4548
    __cil_tmp3 = drive * 32UL;
#line 4548
    __cil_tmp4 = (unsigned long )(motor_off_timer) + __cil_tmp3;
#line 4548
    __cil_tmp5 = (struct timer_list *)__cil_tmp4;
#line 4548
    del_timer(__cil_tmp5);
    }
    {
#line 4550
    __cil_tmp6 = 1 << drive;
#line 4550
    __cil_tmp7 = & allowed_drive_mask;
#line 4550
    __cil_tmp8 = *__cil_tmp7;
#line 4550
    if (__cil_tmp8 & __cil_tmp6) {
      {
#line 4550
      __cil_tmp9 = drive & 4;
#line 4550
      __cil_tmp10 = __cil_tmp9 >> 2;
#line 4550
      __cil_tmp11 = __cil_tmp10 * 40UL;
#line 4550
      __cil_tmp12 = __cil_tmp11 + 12;
#line 4550
      __cil_tmp13 = (unsigned long )(fdc_state) + __cil_tmp12;
#line 4550
      __cil_tmp14 = *((unsigned char *)__cil_tmp13);
#line 4550
      __cil_tmp15 = (int )__cil_tmp14;
#line 4550
      if (__cil_tmp15 != 0) {
        {
#line 4552
        __cil_tmp16 = drive * 8UL;
#line 4552
        __cil_tmp17 = (unsigned long )(disks) + __cil_tmp16;
#line 4552
        __cil_tmp18 = *((struct gendisk **)__cil_tmp17);
#line 4552
        del_gendisk(__cil_tmp18);
#line 4553
        __cil_tmp19 = drive * 48UL;
#line 4553
        __cil_tmp20 = __cil_tmp19 + 16;
#line 4553
        __cil_tmp21 = (unsigned long )(floppy_device) + __cil_tmp20;
#line 4553
        __cil_tmp22 = (struct device *)__cil_tmp21;
#line 4553
        device_remove_file(__cil_tmp22, & dev_attr_cmos);
#line 4554
        __cil_tmp23 = drive * 48UL;
#line 4554
        __cil_tmp24 = (unsigned long )(floppy_device) + __cil_tmp23;
#line 4554
        __cil_tmp25 = (struct platform_device *)__cil_tmp24;
#line 4554
        platform_device_unregister(__cil_tmp25);
        }
      } else {

      }
      }
    } else {

    }
    }
    {
#line 4556
    __cil_tmp26 = drive * 8UL;
#line 4556
    __cil_tmp27 = (unsigned long )(disks) + __cil_tmp26;
#line 4556
    __cil_tmp28 = *((struct gendisk **)__cil_tmp27);
#line 4556
    put_disk(__cil_tmp28);
#line 4547
    drive = drive + 1;
    }
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 4559
  del_timer(& fd_timeout);
#line 4560
  del_timer(& fd_timer);
#line 4561
  blk_cleanup_queue(floppy_queue);
  }
#line 4563
  if (usage_count) {
    {
#line 4564
    floppy_release_irq_and_dma();
    }
  } else {

  }
  {
#line 4567
  fd_eject(0);
#line 4569
  wait_for_completion(& device_release);
  }
#line 4570
  return;
}
}
#line 4575 "drivers/block/floppy.c"
char _ddv_module_author[15]  = 
#line 4575
  {      (char )'A',      (char )'l',      (char )'a',      (char )'i', 
        (char )'n',      (char )' ',      (char )'L',      (char )'.', 
        (char )' ',      (char )'K',      (char )'n',      (char )'a', 
        (char )'f',      (char )'f',      (char )'\000'};
#line 4577 "drivers/block/floppy.c"
char _ddv_module_license[4]  = {      (char )'G',      (char )'P',      (char )'L',      (char )'\000'};
#line 4586 "drivers/block/floppy.c"
int _ddv_module_param_major  =    2;
#line 4 "__main_fm4.c"
int main(void) 
{ 

  {
  {
#line 12
  call_ddv();
  }
#line 13
  return (0);
}
}
#line 1 "preproc_ePM6j9.o"
#pragma merger(0,"preproc_ePM6j9.i","-x,c")
#line 145 "cprover/ddverify/include/ddverify/pthread.h"
extern int pthread_create(pthread_t *__threadp , pthread_attr_t const   *__attr ,
                          void *(*__start_routine)(void * ) , void *__arg ) ;
#line 16 "cprover/ddverify/include/ddverify/satabs.h"
extern unsigned short __VERIFIER_nondet_ushort() ;
#line 17
extern int __VERIFIER_nondet_int() ;
#line 54 "./include/linux/spinlock.h"
void spin_lock_init(spinlock_t *lock ) ;
#line 12 "cprover/ddverify/include/ddverify/fixed_cdev.h"
struct cdev fixed_cdev[10]  ;
#line 13 "cprover/ddverify/include/ddverify/fixed_cdev.h"
int fixed_cdev_used  =    0;
#line 15 "cprover/ddverify/include/ddverify/cdev.h"
short number_cdev_registered  =    (short)0;
#line 26 "cprover/ddverify/include/ddverify/cdev.h"
struct ddv_cdev cdev_registered[10]  ;
#line 12 "cprover/ddverify/include/ddverify/genhd.h"
short number_genhd_registered  =    (short)0;
#line 13 "cprover/ddverify/include/ddverify/genhd.h"
short number_fixed_genhd_used  =    (short)0;
#line 24 "cprover/ddverify/include/ddverify/genhd.h"
struct gendisk fixed_gendisk[10]  ;
#line 25 "cprover/ddverify/include/ddverify/genhd.h"
struct ddv_genhd genhd_registered[10]  ;
#line 27
void call_genhd_functions(void) ;
#line 14 "cprover/ddverify/include/ddverify/pci.h"
struct ddv_pci_driver registered_pci_driver  ;
#line 14 "cprover/ddverify/include/ddverify/interrupt.h"
struct registered_irq registered_irq[16]  ;
#line 16
void call_interrupt_handler(void) ;
#line 12 "cprover/ddverify/include/ddverify/tasklet.h"
short number_tasklet_registered  =    (short)0;
#line 19 "cprover/ddverify/include/ddverify/tasklet.h"
struct ddv_tasklet tasklet_registered[10]  ;
#line 21
void call_tasklet_functions(void) ;
#line 12 "cprover/ddverify/include/ddverify/timer.h"
short number_timer_registered  =    (short)0;
#line 18 "cprover/ddverify/include/ddverify/timer.h"
struct ddv_timer timer_registered[5]  ;
#line 20
void call_timer_functions(void) ;
#line 8 "cprover/ddverify/include/ddverify/workqueue.h"
struct work_struct *shared_workqueue[10]  ;
#line 10
void call_shared_workqueue_functions(void) ;
#line 9 "./include/linux/smp_lock.h"
spinlock_t kernel_lock  ;
#line 17 "cprover/ddverify/src/ddverify/ddverify.c"
void init_kernel(void) 
{ int i ;
  unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  void *__cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  void *__cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;

  {
  {
#line 21
  spin_lock_init(& kernel_lock);
#line 23
  i = 0;
  }
  {
#line 23
  while (1) {
    while_continue: /* CIL Label */ ;
#line 23
    if (i < 10) {

    } else {
#line 23
      goto while_break;
    }
#line 24
    __cil_tmp2 = i * 8UL;
#line 24
    __cil_tmp3 = (unsigned long )(shared_workqueue) + __cil_tmp2;
#line 24
    __cil_tmp4 = (void *)0;
#line 24
    *((struct work_struct **)__cil_tmp3) = (struct work_struct *)__cil_tmp4;
#line 23
    i = i + 1;
  }
  while_break: /* CIL Label */ ;
  }
#line 27
  i = 0;
  {
#line 27
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 27
    if (i < 10) {

    } else {
#line 27
      goto while_break___0;
    }
#line 28
    __cil_tmp5 = i * 16UL;
#line 28
    __cil_tmp6 = (unsigned long )(tasklet_registered) + __cil_tmp5;
#line 28
    __cil_tmp7 = (void *)0;
#line 28
    *((struct tasklet_struct **)__cil_tmp6) = (struct tasklet_struct *)__cil_tmp7;
#line 29
    __cil_tmp8 = i * 16UL;
#line 29
    __cil_tmp9 = __cil_tmp8 + 8;
#line 29
    __cil_tmp10 = (unsigned long )(tasklet_registered) + __cil_tmp9;
#line 29
    *((unsigned short *)__cil_tmp10) = (unsigned short)0;
#line 27
    i = i + 1;
  }
  while_break___0: /* CIL Label */ ;
  }
#line 31
  return;
}
}
#line 33 "cprover/ddverify/src/ddverify/ddverify.c"
static void *ddv_2(void *arg ) 
{ unsigned short random ;

  {
  {
#line 37
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 38
    random = __VERIFIER_nondet_ushort();
    }
    {
#line 41
    if ((int )random == 1) {
#line 41
      goto case_1;
    } else {

    }
#line 53
    if ((int )random == 2) {
#line 53
      goto case_2;
    } else {

    }
#line 61
    if ((int )random == 3) {
#line 61
      goto case_3;
    } else {

    }
#line 69
    if ((int )random == 4) {
#line 69
      goto case_4;
    } else {

    }
#line 77
    if ((int )random == 5) {
#line 77
      goto case_5;
    } else {

    }
#line 85
    goto switch_default;
    case_1: /* CIL Label */ 
#line 52
    goto switch_break;
    case_2: /* CIL Label */ 
    {
#line 55
    current_execution_context = 2;
#line 56
    call_timer_functions();
#line 58
    current_execution_context = 1;
    }
#line 60
    goto switch_break;
    case_3: /* CIL Label */ 
    {
#line 63
    current_execution_context = 2;
#line 64
    call_interrupt_handler();
#line 66
    current_execution_context = 1;
    }
#line 68
    goto switch_break;
    case_4: /* CIL Label */ 
    {
#line 71
    current_execution_context = 1;
#line 72
    call_shared_workqueue_functions();
#line 74
    current_execution_context = 1;
    }
#line 76
    goto switch_break;
    case_5: /* CIL Label */ 
    {
#line 79
    current_execution_context = 2;
#line 80
    call_tasklet_functions();
#line 82
    current_execution_context = 1;
    }
#line 84
    goto switch_break;
    switch_default: /* CIL Label */ 
#line 97
    goto switch_break;
    switch_break: /* CIL Label */ ;
    }
#line 37
    if (! random) {
#line 37
      goto while_break;
    } else {

    }
  }
  while_break: /* CIL Label */ ;
  }
#line 100
  return ((void *)0);
}
}
#line 102 "cprover/ddverify/src/ddverify/ddverify.c"
void ddv(void) 
{ pthread_t thread ;
  int tmp ;
  void *__cil_tmp3 ;
  pthread_attr_t const   *__cil_tmp4 ;
  void *__cil_tmp5 ;

  {
  {
#line 111
  __cil_tmp3 = (void *)0;
#line 111
  __cil_tmp4 = (pthread_attr_t const   *)__cil_tmp3;
#line 111
  __cil_tmp5 = (void *)0;
#line 111
  pthread_create(& thread, __cil_tmp4, & ddv_2, __cil_tmp5);
  }
  {
#line 113
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 114
    current_execution_context = 1;
#line 120
    call_genhd_functions();
#line 113
    tmp = __VERIFIER_nondet_int();
    }
#line 113
    if (! tmp) {
#line 113
      goto while_break;
    } else {

    }
  }
  while_break: /* CIL Label */ ;
  }
#line 124
  return;
}
}
#line 128
extern int floppy_init(void) ;
#line 134 "cprover/ddverify/src/ddverify/ddverify.c"
int call_ddv(void) 
{ int err ;

  {
  {
#line 138
  current_execution_context = 1;
#line 140
  init_kernel();
#line 145
  err = floppy_init();
  }
#line 148
  if (err) {
#line 149
    return (-1);
  } else {

  }
  {
#line 152
  ddv();
#line 154
  current_execution_context = 1;
#line 158
  cleanup_module();
  }
#line 161
  return (0);
}
}
#line 1 "preproc_GpNzLO.o"
#pragma merger(0,"preproc_GpNzLO.i","-x,c")
#line 18 "cprover/ddverify/include/ddverify/satabs.h"
extern unsigned int __VERIFIER_nondet_uint() ;
#line 20
extern unsigned long __VERIFIER_nondet_ulong() ;
#line 21
extern char __VERIFIER_nondet_char() ;
#line 24
extern loff_t __VERIFIER_nondet_loff_t() ;
#line 25
extern size_t __VERIFIER_nondet_size_t() ;
#line 28 "cprover/ddverify/include/ddverify/cdev.h"
void call_cdev_functions(void) ;
#line 5 "cprover/ddverify/src/ddverify/cdev.c"
void call_cdev_functions(void) 
{ int cdev_no ;
  int result___0 ;
  loff_t loff_t_value ;
  int int_value ;
  unsigned int uint_value ;
  unsigned long ulong_value ;
  char char_value ;
  size_t size_t_value ;
  unsigned short tmp ;
  int tmp___0 ;
  unsigned short tmp___1 ;
  int __cil_tmp12 ;
  int __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  struct cdev *__cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  struct file_operations  const  *__cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  loff_t *__cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  struct cdev *__cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  struct file_operations  const  *__cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  loff_t (*__cil_tmp31)(struct file * , loff_t  , int  ) ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  struct file *__cil_tmp35 ;
  loff_t *__cil_tmp36 ;
  loff_t __cil_tmp37 ;
  unsigned long __cil_tmp38 ;
  unsigned long __cil_tmp39 ;
  struct cdev *__cil_tmp40 ;
  unsigned long __cil_tmp41 ;
  unsigned long __cil_tmp42 ;
  struct file_operations  const  *__cil_tmp43 ;
  unsigned long __cil_tmp44 ;
  unsigned long __cil_tmp45 ;
  char *__cil_tmp46 ;
  unsigned long __cil_tmp47 ;
  unsigned long __cil_tmp48 ;
  struct cdev *__cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  unsigned long __cil_tmp51 ;
  struct file_operations  const  *__cil_tmp52 ;
  unsigned long __cil_tmp53 ;
  unsigned long __cil_tmp54 ;
  ssize_t (*__cil_tmp55)(struct file * , char * , size_t  , loff_t * ) ;
  unsigned long __cil_tmp56 ;
  unsigned long __cil_tmp57 ;
  unsigned long __cil_tmp58 ;
  struct file *__cil_tmp59 ;
  unsigned long __cil_tmp60 ;
  unsigned long __cil_tmp61 ;
  struct cdev *__cil_tmp62 ;
  unsigned long __cil_tmp63 ;
  unsigned long __cil_tmp64 ;
  struct file_operations  const  *__cil_tmp65 ;
  unsigned long __cil_tmp66 ;
  unsigned long __cil_tmp67 ;
  char *__cil_tmp68 ;
  unsigned long __cil_tmp69 ;
  unsigned long __cil_tmp70 ;
  struct cdev *__cil_tmp71 ;
  unsigned long __cil_tmp72 ;
  unsigned long __cil_tmp73 ;
  struct file_operations  const  *__cil_tmp74 ;
  unsigned long __cil_tmp75 ;
  unsigned long __cil_tmp76 ;
  ssize_t (*__cil_tmp77)(struct file * , char const   * , size_t  , loff_t * ) ;
  unsigned long __cil_tmp78 ;
  unsigned long __cil_tmp79 ;
  unsigned long __cil_tmp80 ;
  struct file *__cil_tmp81 ;
  char const   *__cil_tmp82 ;
  unsigned long __cil_tmp83 ;
  unsigned long __cil_tmp84 ;
  struct cdev *__cil_tmp85 ;
  unsigned long __cil_tmp86 ;
  unsigned long __cil_tmp87 ;
  struct file_operations  const  *__cil_tmp88 ;
  unsigned long __cil_tmp89 ;
  unsigned long __cil_tmp90 ;
  unsigned long __cil_tmp91 ;
  unsigned long __cil_tmp92 ;
  struct cdev *__cil_tmp93 ;
  unsigned long __cil_tmp94 ;
  unsigned long __cil_tmp95 ;
  struct file_operations  const  *__cil_tmp96 ;
  unsigned long __cil_tmp97 ;
  unsigned long __cil_tmp98 ;
  int (*__cil_tmp99)(struct inode * , struct file * , unsigned int  , unsigned long  ) ;
  unsigned long __cil_tmp100 ;
  unsigned long __cil_tmp101 ;
  unsigned long __cil_tmp102 ;
  struct inode *__cil_tmp103 ;
  unsigned long __cil_tmp104 ;
  unsigned long __cil_tmp105 ;
  unsigned long __cil_tmp106 ;
  struct file *__cil_tmp107 ;
  unsigned long __cil_tmp108 ;
  unsigned long __cil_tmp109 ;
  struct cdev *__cil_tmp110 ;
  unsigned long __cil_tmp111 ;
  unsigned long __cil_tmp112 ;
  struct file_operations  const  *__cil_tmp113 ;
  unsigned long __cil_tmp114 ;
  unsigned long __cil_tmp115 ;
  unsigned long __cil_tmp116 ;
  unsigned long __cil_tmp117 ;
  unsigned long __cil_tmp118 ;
  int __cil_tmp119 ;
  unsigned long __cil_tmp120 ;
  unsigned long __cil_tmp121 ;
  struct cdev *__cil_tmp122 ;
  unsigned long __cil_tmp123 ;
  unsigned long __cil_tmp124 ;
  struct file_operations  const  *__cil_tmp125 ;
  unsigned long __cil_tmp126 ;
  unsigned long __cil_tmp127 ;
  int (*__cil_tmp128)(struct inode * , struct file * ) ;
  unsigned long __cil_tmp129 ;
  unsigned long __cil_tmp130 ;
  unsigned long __cil_tmp131 ;
  struct inode *__cil_tmp132 ;
  unsigned long __cil_tmp133 ;
  unsigned long __cil_tmp134 ;
  unsigned long __cil_tmp135 ;
  struct file *__cil_tmp136 ;
  unsigned long __cil_tmp137 ;
  unsigned long __cil_tmp138 ;
  unsigned long __cil_tmp139 ;
  unsigned long __cil_tmp140 ;
  unsigned long __cil_tmp141 ;
  struct cdev *__cil_tmp142 ;
  unsigned long __cil_tmp143 ;
  unsigned long __cil_tmp144 ;
  struct file_operations  const  *__cil_tmp145 ;
  unsigned long __cil_tmp146 ;
  unsigned long __cil_tmp147 ;
  unsigned long __cil_tmp148 ;
  unsigned long __cil_tmp149 ;
  unsigned long __cil_tmp150 ;
  unsigned long __cil_tmp151 ;
  unsigned long __cil_tmp152 ;
  struct cdev *__cil_tmp153 ;
  unsigned long __cil_tmp154 ;
  unsigned long __cil_tmp155 ;
  struct file_operations  const  *__cil_tmp156 ;
  unsigned long __cil_tmp157 ;
  unsigned long __cil_tmp158 ;
  int (*__cil_tmp159)(struct inode * , struct file * ) ;
  unsigned long __cil_tmp160 ;
  unsigned long __cil_tmp161 ;
  unsigned long __cil_tmp162 ;
  struct inode *__cil_tmp163 ;
  unsigned long __cil_tmp164 ;
  unsigned long __cil_tmp165 ;
  unsigned long __cil_tmp166 ;
  struct file *__cil_tmp167 ;
  unsigned long __cil_tmp168 ;
  unsigned long __cil_tmp169 ;
  unsigned long __cil_tmp170 ;

  {
  {
#line 16
  __cil_tmp12 = (int )number_cdev_registered;
#line 16
  if (__cil_tmp12 == 0) {
#line 17
    return;
  } else {

  }
  }
  {
#line 20
  tmp = __VERIFIER_nondet_ushort();
#line 20
  cdev_no = (int )tmp;
  }
#line 21
  if (0 <= cdev_no) {
    {
#line 21
    __cil_tmp13 = (int )number_cdev_registered;
#line 21
    if (cdev_no < __cil_tmp13) {
#line 21
      tmp___0 = 1;
    } else {
#line 21
      tmp___0 = 0;
    }
    }
  } else {
#line 21
    tmp___0 = 0;
  }
  {
#line 21
  __CPROVER_assume(tmp___0);
#line 23
  tmp___1 = __VERIFIER_nondet_ushort();
  }
  {
#line 24
  if ((int )tmp___1 == 0) {
#line 24
    goto case_0;
  } else {

  }
#line 34
  if ((int )tmp___1 == 1) {
#line 34
    goto case_1;
  } else {

  }
#line 45
  if ((int )tmp___1 == 2) {
#line 45
    goto case_2;
  } else {

  }
#line 48
  if ((int )tmp___1 == 3) {
#line 48
    goto case_3;
  } else {

  }
#line 59
  if ((int )tmp___1 == 4) {
#line 59
    goto case_4;
  } else {

  }
#line 62
  if ((int )tmp___1 == 5) {
#line 62
    goto case_5;
  } else {

  }
#line 65
  if ((int )tmp___1 == 6) {
#line 65
    goto case_6;
  } else {

  }
#line 68
  if ((int )tmp___1 == 7) {
#line 68
    goto case_7;
  } else {

  }
#line 80
  if ((int )tmp___1 == 8) {
#line 80
    goto case_8;
  } else {

  }
#line 83
  if ((int )tmp___1 == 9) {
#line 83
    goto case_9;
  } else {

  }
#line 86
  if ((int )tmp___1 == 10) {
#line 86
    goto case_10;
  } else {

  }
#line 89
  if ((int )tmp___1 == 11) {
#line 89
    goto case_11;
  } else {

  }
#line 100
  if ((int )tmp___1 == 12) {
#line 100
    goto case_12;
  } else {

  }
#line 103
  if ((int )tmp___1 == 13) {
#line 103
    goto case_13;
  } else {

  }
#line 114
  if ((int )tmp___1 == 14) {
#line 114
    goto case_14;
  } else {

  }
#line 117
  if ((int )tmp___1 == 15) {
#line 117
    goto case_15;
  } else {

  }
#line 120
  if ((int )tmp___1 == 16) {
#line 120
    goto case_16;
  } else {

  }
#line 123
  if ((int )tmp___1 == 17) {
#line 123
    goto case_17;
  } else {

  }
#line 126
  if ((int )tmp___1 == 18) {
#line 126
    goto case_18;
  } else {

  }
#line 129
  if ((int )tmp___1 == 19) {
#line 129
    goto case_19;
  } else {

  }
#line 132
  if ((int )tmp___1 == 20) {
#line 132
    goto case_20;
  } else {

  }
#line 135
  if ((int )tmp___1 == 21) {
#line 135
    goto case_21;
  } else {

  }
#line 138
  if ((int )tmp___1 == 22) {
#line 138
    goto case_22;
  } else {

  }
#line 141
  if ((int )tmp___1 == 23) {
#line 141
    goto case_23;
  } else {

  }
#line 144
  if ((int )tmp___1 == 24) {
#line 144
    goto case_24;
  } else {

  }
#line 147
  if ((int )tmp___1 == 25) {
#line 147
    goto case_25;
  } else {

  }
#line 150
  if ((int )tmp___1 == 26) {
#line 150
    goto case_26;
  } else {

  }
#line 153
  goto switch_default;
  case_0: /* CIL Label */ 
  {
#line 25
  __cil_tmp14 = cdev_no * 96UL;
#line 25
  __cil_tmp15 = (unsigned long )(cdev_registered) + __cil_tmp14;
#line 25
  __cil_tmp16 = *((struct cdev **)__cil_tmp15);
#line 25
  __cil_tmp17 = (unsigned long )__cil_tmp16;
#line 25
  __cil_tmp18 = __cil_tmp17 + 8;
#line 25
  __cil_tmp19 = *((struct file_operations  const  **)__cil_tmp18);
#line 25
  __cil_tmp20 = (unsigned long )__cil_tmp19;
#line 25
  __cil_tmp21 = __cil_tmp20 + 8;
#line 25
  if (*((loff_t (* const  *)(struct file * , loff_t  , int  ))__cil_tmp21)) {
    {
#line 26
    __cil_tmp22 = & loff_t_value;
#line 26
    *__cil_tmp22 = __VERIFIER_nondet_loff_t();
#line 27
    int_value = __VERIFIER_nondet_int();
#line 29
    __cil_tmp23 = cdev_no * 96UL;
#line 29
    __cil_tmp24 = (unsigned long )(cdev_registered) + __cil_tmp23;
#line 29
    __cil_tmp25 = *((struct cdev **)__cil_tmp24);
#line 29
    __cil_tmp26 = (unsigned long )__cil_tmp25;
#line 29
    __cil_tmp27 = __cil_tmp26 + 8;
#line 29
    __cil_tmp28 = *((struct file_operations  const  **)__cil_tmp27);
#line 29
    __cil_tmp29 = (unsigned long )__cil_tmp28;
#line 29
    __cil_tmp30 = __cil_tmp29 + 8;
#line 29
    __cil_tmp31 = *((loff_t (* const  *)(struct file * , loff_t  , int  ))__cil_tmp30);
#line 29
    __cil_tmp32 = cdev_no * 96UL;
#line 29
    __cil_tmp33 = __cil_tmp32 + 8;
#line 29
    __cil_tmp34 = (unsigned long )(cdev_registered) + __cil_tmp33;
#line 29
    __cil_tmp35 = (struct file *)__cil_tmp34;
#line 29
    __cil_tmp36 = & loff_t_value;
#line 29
    __cil_tmp37 = *__cil_tmp36;
#line 29
    (*__cil_tmp31)(__cil_tmp35, __cil_tmp37, int_value);
    }
  } else {

  }
  }
#line 33
  goto switch_break;
  case_1: /* CIL Label */ 
  {
#line 35
  __cil_tmp38 = cdev_no * 96UL;
#line 35
  __cil_tmp39 = (unsigned long )(cdev_registered) + __cil_tmp38;
#line 35
  __cil_tmp40 = *((struct cdev **)__cil_tmp39);
#line 35
  __cil_tmp41 = (unsigned long )__cil_tmp40;
#line 35
  __cil_tmp42 = __cil_tmp41 + 8;
#line 35
  __cil_tmp43 = *((struct file_operations  const  **)__cil_tmp42);
#line 35
  __cil_tmp44 = (unsigned long )__cil_tmp43;
#line 35
  __cil_tmp45 = __cil_tmp44 + 16;
#line 35
  if (*((ssize_t (* const  *)(struct file * , char * , size_t  , loff_t * ))__cil_tmp45)) {
    {
#line 36
    __cil_tmp46 = & char_value;
#line 36
    *__cil_tmp46 = __VERIFIER_nondet_char();
#line 37
    size_t_value = __VERIFIER_nondet_size_t();
#line 39
    __cil_tmp47 = cdev_no * 96UL;
#line 39
    __cil_tmp48 = (unsigned long )(cdev_registered) + __cil_tmp47;
#line 39
    __cil_tmp49 = *((struct cdev **)__cil_tmp48);
#line 39
    __cil_tmp50 = (unsigned long )__cil_tmp49;
#line 39
    __cil_tmp51 = __cil_tmp50 + 8;
#line 39
    __cil_tmp52 = *((struct file_operations  const  **)__cil_tmp51);
#line 39
    __cil_tmp53 = (unsigned long )__cil_tmp52;
#line 39
    __cil_tmp54 = __cil_tmp53 + 16;
#line 39
    __cil_tmp55 = *((ssize_t (* const  *)(struct file * , char * , size_t  , loff_t * ))__cil_tmp54);
#line 39
    __cil_tmp56 = cdev_no * 96UL;
#line 39
    __cil_tmp57 = __cil_tmp56 + 8;
#line 39
    __cil_tmp58 = (unsigned long )(cdev_registered) + __cil_tmp57;
#line 39
    __cil_tmp59 = (struct file *)__cil_tmp58;
#line 39
    (*__cil_tmp55)(__cil_tmp59, & char_value, size_t_value, & loff_t_value);
    }
  } else {

  }
  }
#line 44
  goto switch_break;
  case_2: /* CIL Label */ 
#line 47
  goto switch_break;
  case_3: /* CIL Label */ 
  {
#line 49
  __cil_tmp60 = cdev_no * 96UL;
#line 49
  __cil_tmp61 = (unsigned long )(cdev_registered) + __cil_tmp60;
#line 49
  __cil_tmp62 = *((struct cdev **)__cil_tmp61);
#line 49
  __cil_tmp63 = (unsigned long )__cil_tmp62;
#line 49
  __cil_tmp64 = __cil_tmp63 + 8;
#line 49
  __cil_tmp65 = *((struct file_operations  const  **)__cil_tmp64);
#line 49
  __cil_tmp66 = (unsigned long )__cil_tmp65;
#line 49
  __cil_tmp67 = __cil_tmp66 + 24;
#line 49
  if (*((ssize_t (* const  *)(struct file * , char const   * , size_t  , loff_t * ))__cil_tmp67)) {
    {
#line 50
    __cil_tmp68 = & char_value;
#line 50
    *__cil_tmp68 = __VERIFIER_nondet_char();
#line 51
    size_t_value = __VERIFIER_nondet_size_t();
#line 53
    __cil_tmp69 = cdev_no * 96UL;
#line 53
    __cil_tmp70 = (unsigned long )(cdev_registered) + __cil_tmp69;
#line 53
    __cil_tmp71 = *((struct cdev **)__cil_tmp70);
#line 53
    __cil_tmp72 = (unsigned long )__cil_tmp71;
#line 53
    __cil_tmp73 = __cil_tmp72 + 8;
#line 53
    __cil_tmp74 = *((struct file_operations  const  **)__cil_tmp73);
#line 53
    __cil_tmp75 = (unsigned long )__cil_tmp74;
#line 53
    __cil_tmp76 = __cil_tmp75 + 24;
#line 53
    __cil_tmp77 = *((ssize_t (* const  *)(struct file * , char const   * , size_t  ,
                                          loff_t * ))__cil_tmp76);
#line 53
    __cil_tmp78 = cdev_no * 96UL;
#line 53
    __cil_tmp79 = __cil_tmp78 + 8;
#line 53
    __cil_tmp80 = (unsigned long )(cdev_registered) + __cil_tmp79;
#line 53
    __cil_tmp81 = (struct file *)__cil_tmp80;
#line 53
    __cil_tmp82 = (char const   *)(& char_value);
#line 53
    (*__cil_tmp77)(__cil_tmp81, __cil_tmp82, size_t_value, & loff_t_value);
    }
  } else {

  }
  }
#line 58
  goto switch_break;
  case_4: /* CIL Label */ 
#line 61
  goto switch_break;
  case_5: /* CIL Label */ 
#line 64
  goto switch_break;
  case_6: /* CIL Label */ 
#line 67
  goto switch_break;
  case_7: /* CIL Label */ 
  {
#line 69
  __cil_tmp83 = cdev_no * 96UL;
#line 69
  __cil_tmp84 = (unsigned long )(cdev_registered) + __cil_tmp83;
#line 69
  __cil_tmp85 = *((struct cdev **)__cil_tmp84);
#line 69
  __cil_tmp86 = (unsigned long )__cil_tmp85;
#line 69
  __cil_tmp87 = __cil_tmp86 + 8;
#line 69
  __cil_tmp88 = *((struct file_operations  const  **)__cil_tmp87);
#line 69
  __cil_tmp89 = (unsigned long )__cil_tmp88;
#line 69
  __cil_tmp90 = __cil_tmp89 + 48;
#line 69
  if (*((int (* const  *)(struct inode * , struct file * , unsigned int  , unsigned long  ))__cil_tmp90)) {
    {
#line 70
    uint_value = __VERIFIER_nondet_uint();
#line 71
    ulong_value = __VERIFIER_nondet_ulong();
#line 73
    __cil_tmp91 = cdev_no * 96UL;
#line 73
    __cil_tmp92 = (unsigned long )(cdev_registered) + __cil_tmp91;
#line 73
    __cil_tmp93 = *((struct cdev **)__cil_tmp92);
#line 73
    __cil_tmp94 = (unsigned long )__cil_tmp93;
#line 73
    __cil_tmp95 = __cil_tmp94 + 8;
#line 73
    __cil_tmp96 = *((struct file_operations  const  **)__cil_tmp95);
#line 73
    __cil_tmp97 = (unsigned long )__cil_tmp96;
#line 73
    __cil_tmp98 = __cil_tmp97 + 48;
#line 73
    __cil_tmp99 = *((int (* const  *)(struct inode * , struct file * , unsigned int  ,
                                      unsigned long  ))__cil_tmp98);
#line 73
    __cil_tmp100 = cdev_no * 96UL;
#line 73
    __cil_tmp101 = __cil_tmp100 + 64;
#line 73
    __cil_tmp102 = (unsigned long )(cdev_registered) + __cil_tmp101;
#line 73
    __cil_tmp103 = (struct inode *)__cil_tmp102;
#line 73
    __cil_tmp104 = cdev_no * 96UL;
#line 73
    __cil_tmp105 = __cil_tmp104 + 8;
#line 73
    __cil_tmp106 = (unsigned long )(cdev_registered) + __cil_tmp105;
#line 73
    __cil_tmp107 = (struct file *)__cil_tmp106;
#line 73
    (*__cil_tmp99)(__cil_tmp103, __cil_tmp107, uint_value, ulong_value);
    }
  } else {

  }
  }
#line 79
  goto switch_break;
  case_8: /* CIL Label */ 
#line 82
  goto switch_break;
  case_9: /* CIL Label */ 
#line 85
  goto switch_break;
  case_10: /* CIL Label */ 
#line 88
  goto switch_break;
  case_11: /* CIL Label */ 
  {
#line 90
  __cil_tmp108 = cdev_no * 96UL;
#line 90
  __cil_tmp109 = (unsigned long )(cdev_registered) + __cil_tmp108;
#line 90
  __cil_tmp110 = *((struct cdev **)__cil_tmp109);
#line 90
  __cil_tmp111 = (unsigned long )__cil_tmp110;
#line 90
  __cil_tmp112 = __cil_tmp111 + 8;
#line 90
  __cil_tmp113 = *((struct file_operations  const  **)__cil_tmp112);
#line 90
  __cil_tmp114 = (unsigned long )__cil_tmp113;
#line 90
  __cil_tmp115 = __cil_tmp114 + 80;
#line 90
  if (*((int (* const  *)(struct inode * , struct file * ))__cil_tmp115)) {
    {
#line 90
    __cil_tmp116 = cdev_no * 96UL;
#line 90
    __cil_tmp117 = __cil_tmp116 + 88;
#line 90
    __cil_tmp118 = (unsigned long )(cdev_registered) + __cil_tmp117;
#line 90
    __cil_tmp119 = *((int *)__cil_tmp118);
#line 90
    if (! __cil_tmp119) {
      {
#line 92
      __cil_tmp120 = cdev_no * 96UL;
#line 92
      __cil_tmp121 = (unsigned long )(cdev_registered) + __cil_tmp120;
#line 92
      __cil_tmp122 = *((struct cdev **)__cil_tmp121);
#line 92
      __cil_tmp123 = (unsigned long )__cil_tmp122;
#line 92
      __cil_tmp124 = __cil_tmp123 + 8;
#line 92
      __cil_tmp125 = *((struct file_operations  const  **)__cil_tmp124);
#line 92
      __cil_tmp126 = (unsigned long )__cil_tmp125;
#line 92
      __cil_tmp127 = __cil_tmp126 + 80;
#line 92
      __cil_tmp128 = *((int (* const  *)(struct inode * , struct file * ))__cil_tmp127);
#line 92
      __cil_tmp129 = cdev_no * 96UL;
#line 92
      __cil_tmp130 = __cil_tmp129 + 64;
#line 92
      __cil_tmp131 = (unsigned long )(cdev_registered) + __cil_tmp130;
#line 92
      __cil_tmp132 = (struct inode *)__cil_tmp131;
#line 92
      __cil_tmp133 = cdev_no * 96UL;
#line 92
      __cil_tmp134 = __cil_tmp133 + 8;
#line 92
      __cil_tmp135 = (unsigned long )(cdev_registered) + __cil_tmp134;
#line 92
      __cil_tmp136 = (struct file *)__cil_tmp135;
#line 92
      result___0 = (*__cil_tmp128)(__cil_tmp132, __cil_tmp136);
      }
#line 95
      if (! result___0) {
#line 96
        __cil_tmp137 = cdev_no * 96UL;
#line 96
        __cil_tmp138 = __cil_tmp137 + 88;
#line 96
        __cil_tmp139 = (unsigned long )(cdev_registered) + __cil_tmp138;
#line 96
        *((int *)__cil_tmp139) = 1;
      } else {

      }
    } else {

    }
    }
  } else {

  }
  }
#line 99
  goto switch_break;
  case_12: /* CIL Label */ 
#line 102
  goto switch_break;
  case_13: /* CIL Label */ 
  {
#line 104
  __cil_tmp140 = cdev_no * 96UL;
#line 104
  __cil_tmp141 = (unsigned long )(cdev_registered) + __cil_tmp140;
#line 104
  __cil_tmp142 = *((struct cdev **)__cil_tmp141);
#line 104
  __cil_tmp143 = (unsigned long )__cil_tmp142;
#line 104
  __cil_tmp144 = __cil_tmp143 + 8;
#line 104
  __cil_tmp145 = *((struct file_operations  const  **)__cil_tmp144);
#line 104
  __cil_tmp146 = (unsigned long )__cil_tmp145;
#line 104
  __cil_tmp147 = __cil_tmp146 + 96;
#line 104
  if (*((int (* const  *)(struct inode * , struct file * ))__cil_tmp147)) {
    {
#line 104
    __cil_tmp148 = cdev_no * 96UL;
#line 104
    __cil_tmp149 = __cil_tmp148 + 88;
#line 104
    __cil_tmp150 = (unsigned long )(cdev_registered) + __cil_tmp149;
#line 104
    if (*((int *)__cil_tmp150)) {
      {
#line 106
      __cil_tmp151 = cdev_no * 96UL;
#line 106
      __cil_tmp152 = (unsigned long )(cdev_registered) + __cil_tmp151;
#line 106
      __cil_tmp153 = *((struct cdev **)__cil_tmp152);
#line 106
      __cil_tmp154 = (unsigned long )__cil_tmp153;
#line 106
      __cil_tmp155 = __cil_tmp154 + 8;
#line 106
      __cil_tmp156 = *((struct file_operations  const  **)__cil_tmp155);
#line 106
      __cil_tmp157 = (unsigned long )__cil_tmp156;
#line 106
      __cil_tmp158 = __cil_tmp157 + 96;
#line 106
      __cil_tmp159 = *((int (* const  *)(struct inode * , struct file * ))__cil_tmp158);
#line 106
      __cil_tmp160 = cdev_no * 96UL;
#line 106
      __cil_tmp161 = __cil_tmp160 + 64;
#line 106
      __cil_tmp162 = (unsigned long )(cdev_registered) + __cil_tmp161;
#line 106
      __cil_tmp163 = (struct inode *)__cil_tmp162;
#line 106
      __cil_tmp164 = cdev_no * 96UL;
#line 106
      __cil_tmp165 = __cil_tmp164 + 8;
#line 106
      __cil_tmp166 = (unsigned long )(cdev_registered) + __cil_tmp165;
#line 106
      __cil_tmp167 = (struct file *)__cil_tmp166;
#line 106
      result___0 = (*__cil_tmp159)(__cil_tmp163, __cil_tmp167);
      }
#line 109
      if (! result___0) {
#line 110
        __cil_tmp168 = cdev_no * 96UL;
#line 110
        __cil_tmp169 = __cil_tmp168 + 88;
#line 110
        __cil_tmp170 = (unsigned long )(cdev_registered) + __cil_tmp169;
#line 110
        *((int *)__cil_tmp170) = 0;
      } else {

      }
    } else {

    }
    }
  } else {

  }
  }
#line 113
  goto switch_break;
  case_14: /* CIL Label */ 
#line 116
  goto switch_break;
  case_15: /* CIL Label */ 
#line 119
  goto switch_break;
  case_16: /* CIL Label */ 
#line 122
  goto switch_break;
  case_17: /* CIL Label */ 
#line 125
  goto switch_break;
  case_18: /* CIL Label */ 
#line 128
  goto switch_break;
  case_19: /* CIL Label */ 
#line 131
  goto switch_break;
  case_20: /* CIL Label */ 
#line 134
  goto switch_break;
  case_21: /* CIL Label */ 
#line 137
  goto switch_break;
  case_22: /* CIL Label */ 
#line 140
  goto switch_break;
  case_23: /* CIL Label */ 
#line 143
  goto switch_break;
  case_24: /* CIL Label */ 
#line 146
  goto switch_break;
  case_25: /* CIL Label */ 
#line 149
  goto switch_break;
  case_26: /* CIL Label */ 
#line 152
  goto switch_break;
  switch_default: /* CIL Label */ 
#line 154
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 156
  return;
}
}
#line 1 "preproc_8CGbq5.o"
#pragma merger(0,"preproc_8CGbq5.i","-x,c")
#line 10 "cprover/ddverify/src/ddverify/interrupt.c"
void call_interrupt_handler(void) 
{ unsigned short i ;
  struct pt_regs regs ;
  int tmp ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  irqreturn_t (*__cil_tmp10)(int  , void * , struct pt_regs * ) ;
  int __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  void *__cil_tmp15 ;

  {
  {
#line 15
  tmp = __VERIFIER_nondet_int();
#line 15
  i = (unsigned short )tmp;
#line 16
  __cil_tmp4 = (int )i;
#line 16
  __cil_tmp5 = __cil_tmp4 < 16;
#line 16
  __CPROVER_assume(__cil_tmp5);
  }
  {
#line 18
  __cil_tmp6 = i * 16UL;
#line 18
  __cil_tmp7 = (unsigned long )(registered_irq) + __cil_tmp6;
#line 18
  if (*((irqreturn_t (**)(int  , void * , struct pt_regs * ))__cil_tmp7)) {
    {
#line 19
    __cil_tmp8 = i * 16UL;
#line 19
    __cil_tmp9 = (unsigned long )(registered_irq) + __cil_tmp8;
#line 19
    __cil_tmp10 = *((irqreturn_t (**)(int  , void * , struct pt_regs * ))__cil_tmp9);
#line 19
    __cil_tmp11 = (int )i;
#line 19
    __cil_tmp12 = i * 16UL;
#line 19
    __cil_tmp13 = __cil_tmp12 + 8;
#line 19
    __cil_tmp14 = (unsigned long )(registered_irq) + __cil_tmp13;
#line 19
    __cil_tmp15 = *((void **)__cil_tmp14);
#line 19
    (*__cil_tmp10)(__cil_tmp11, __cil_tmp15, & regs);
    }
  } else {

  }
  }
#line 22
  return;
}
}
#line 1 "preproc_DQ2ACC.o"
#pragma merger(0,"preproc_DQ2ACC.i","-x,c")
#line 1 "preproc_BIKWGa.o"
#pragma merger(0,"preproc_BIKWGa.i","-x,c")
#line 16 "cprover/ddverify/include/ddverify/pci.h"
int pci_probe_device(void) ;
#line 17
void pci_remove_device(void) ;
#line 19
void call_pci_functions(void) ;
#line 7 "cprover/ddverify/src/ddverify/pci.c"
void create_pci_dev(void) 
{ 

  {
#line 9
  return;
}
}
#line 11 "cprover/ddverify/src/ddverify/pci.c"
int pci_probe_device(void) 
{ int err ;
  unsigned int dev_id ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  unsigned int __cil_tmp5 ;
  int __cil_tmp6 ;
  struct ddv_pci_driver *__cil_tmp7 ;
  struct pci_driver *__cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  int (*__cil_tmp11)(struct pci_dev *dev , struct pci_device_id  const  *id ) ;
  unsigned long __cil_tmp12 ;
  struct pci_dev *__cil_tmp13 ;
  struct ddv_pci_driver *__cil_tmp14 ;
  struct pci_driver *__cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  struct pci_device_id  const  *__cil_tmp18 ;
  struct pci_device_id  const  *__cil_tmp19 ;
  unsigned long __cil_tmp20 ;

  {
  {
#line 16
  __cil_tmp3 = (unsigned long )(& registered_pci_driver) + 448;
#line 16
  *((unsigned int *)__cil_tmp3) = 1U;
#line 18
  dev_id = __VERIFIER_nondet_uint();
#line 19
  __cil_tmp4 = (unsigned long )(& registered_pci_driver) + 448;
#line 19
  __cil_tmp5 = *((unsigned int *)__cil_tmp4);
#line 19
  __cil_tmp6 = dev_id < __cil_tmp5;
#line 19
  __CPROVER_assume(__cil_tmp6);
#line 21
  __cil_tmp7 = & registered_pci_driver;
#line 21
  __cil_tmp8 = *((struct pci_driver **)__cil_tmp7);
#line 21
  __cil_tmp9 = (unsigned long )__cil_tmp8;
#line 21
  __cil_tmp10 = __cil_tmp9 + 16;
#line 21
  __cil_tmp11 = *((int (**)(struct pci_dev *dev , struct pci_device_id  const  *id ))__cil_tmp10);
#line 21
  __cil_tmp12 = (unsigned long )(& registered_pci_driver) + 8;
#line 21
  __cil_tmp13 = (struct pci_dev *)__cil_tmp12;
#line 21
  __cil_tmp14 = & registered_pci_driver;
#line 21
  __cil_tmp15 = *((struct pci_driver **)__cil_tmp14);
#line 21
  __cil_tmp16 = (unsigned long )__cil_tmp15;
#line 21
  __cil_tmp17 = __cil_tmp16 + 8;
#line 21
  __cil_tmp18 = *((struct pci_device_id  const  **)__cil_tmp17);
#line 21
  __cil_tmp19 = __cil_tmp18 + dev_id;
#line 21
  err = (*__cil_tmp11)(__cil_tmp13, __cil_tmp19);
  }
#line 24
  if (! err) {
#line 25
    __cil_tmp20 = (unsigned long )(& registered_pci_driver) + 452;
#line 25
    *((int *)__cil_tmp20) = 1;
  } else {

  }
#line 28
  return (err);
}
}
#line 31 "cprover/ddverify/src/ddverify/pci.c"
void pci_remove_device(void) 
{ struct ddv_pci_driver *__cil_tmp1 ;
  struct pci_driver *__cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  void (*__cil_tmp5)(struct pci_dev *dev ) ;
  unsigned long __cil_tmp6 ;
  struct pci_dev *__cil_tmp7 ;
  unsigned long __cil_tmp8 ;

  {
  {
#line 33
  __cil_tmp1 = & registered_pci_driver;
#line 33
  __cil_tmp2 = *((struct pci_driver **)__cil_tmp1);
#line 33
  __cil_tmp3 = (unsigned long )__cil_tmp2;
#line 33
  __cil_tmp4 = __cil_tmp3 + 24;
#line 33
  __cil_tmp5 = *((void (**)(struct pci_dev *dev ))__cil_tmp4);
#line 33
  __cil_tmp6 = (unsigned long )(& registered_pci_driver) + 8;
#line 33
  __cil_tmp7 = (struct pci_dev *)__cil_tmp6;
#line 33
  (*__cil_tmp5)(__cil_tmp7);
#line 35
  __cil_tmp8 = (unsigned long )(& registered_pci_driver) + 452;
#line 35
  *((int *)__cil_tmp8) = 0;
  }
#line 36
  return;
}
}
#line 38 "cprover/ddverify/src/ddverify/pci.c"
void call_pci_functions(void) 
{ unsigned int tmp ;
  unsigned long __cil_tmp2 ;
  int __cil_tmp3 ;
  unsigned long __cil_tmp4 ;

  {
  {
#line 40
  tmp = __VERIFIER_nondet_uint();
  }
  {
#line 41
  if ((int )tmp == 0) {
#line 41
    goto case_0;
  } else {

  }
#line 46
  if ((int )tmp == 1) {
#line 46
    goto case_1;
  } else {

  }
#line 52
  goto switch_default;
  case_0: /* CIL Label */ 
  {
#line 42
  __cil_tmp2 = (unsigned long )(& registered_pci_driver) + 452;
#line 42
  __cil_tmp3 = *((int *)__cil_tmp2);
#line 42
  if (! __cil_tmp3) {
    {
#line 43
    pci_probe_device();
    }
  } else {

  }
  }
#line 45
  goto switch_break;
  case_1: /* CIL Label */ 
  {
#line 48
  __cil_tmp4 = (unsigned long )(& registered_pci_driver) + 452;
#line 48
  if (*((int *)__cil_tmp4)) {
    {
#line 49
    pci_remove_device();
    }
  } else {

  }
  }
#line 51
  goto switch_break;
  switch_default: /* CIL Label */ 
#line 54
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 56
  return;
}
}
#line 1 "preproc_1Ded23.o"
#pragma merger(0,"preproc_1Ded23.i","-x,c")
#line 3 "cprover/ddverify/src/ddverify/tasklet.c"
void call_tasklet_functions(void) 
{ unsigned int i ;
  int __cil_tmp2 ;
  void *__cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  struct tasklet_struct *__cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  struct tasklet_struct *__cil_tmp11 ;
  atomic_t __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  struct tasklet_struct *__cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  void (*__cil_tmp21)(unsigned long  ) ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  struct tasklet_struct *__cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  void *__cil_tmp33 ;

  {
  {
#line 6
  __cil_tmp2 = i < 10U;
#line 6
  __CPROVER_assume(__cil_tmp2);
  }
  {
#line 8
  __cil_tmp3 = (void *)0;
#line 8
  __cil_tmp4 = (unsigned long )__cil_tmp3;
#line 8
  __cil_tmp5 = i * 16UL;
#line 8
  __cil_tmp6 = (unsigned long )(tasklet_registered) + __cil_tmp5;
#line 8
  __cil_tmp7 = *((struct tasklet_struct **)__cil_tmp6);
#line 8
  __cil_tmp8 = (unsigned long )__cil_tmp7;
#line 8
  if (__cil_tmp8 != __cil_tmp4) {
    {
#line 8
    __cil_tmp9 = i * 16UL;
#line 8
    __cil_tmp10 = (unsigned long )(tasklet_registered) + __cil_tmp9;
#line 8
    __cil_tmp11 = *((struct tasklet_struct **)__cil_tmp10);
#line 8
    __cil_tmp12 = *((atomic_t *)__cil_tmp11);
#line 8
    if (__cil_tmp12 == 0) {
      {
#line 10
      __cil_tmp13 = i * 16UL;
#line 10
      __cil_tmp14 = __cil_tmp13 + 8;
#line 10
      __cil_tmp15 = (unsigned long )(tasklet_registered) + __cil_tmp14;
#line 10
      *((unsigned short *)__cil_tmp15) = (unsigned short)1;
#line 11
      __cil_tmp16 = i * 16UL;
#line 11
      __cil_tmp17 = (unsigned long )(tasklet_registered) + __cil_tmp16;
#line 11
      __cil_tmp18 = *((struct tasklet_struct **)__cil_tmp17);
#line 11
      __cil_tmp19 = (unsigned long )__cil_tmp18;
#line 11
      __cil_tmp20 = __cil_tmp19 + 8;
#line 11
      __cil_tmp21 = *((void (**)(unsigned long  ))__cil_tmp20);
#line 11
      __cil_tmp22 = i * 16UL;
#line 11
      __cil_tmp23 = (unsigned long )(tasklet_registered) + __cil_tmp22;
#line 11
      __cil_tmp24 = *((struct tasklet_struct **)__cil_tmp23);
#line 11
      __cil_tmp25 = (unsigned long )__cil_tmp24;
#line 11
      __cil_tmp26 = __cil_tmp25 + 16;
#line 11
      __cil_tmp27 = *((unsigned long *)__cil_tmp26);
#line 11
      (*__cil_tmp21)(__cil_tmp27);
#line 12
      __cil_tmp28 = i * 16UL;
#line 12
      __cil_tmp29 = __cil_tmp28 + 8;
#line 12
      __cil_tmp30 = (unsigned long )(tasklet_registered) + __cil_tmp29;
#line 12
      *((unsigned short *)__cil_tmp30) = (unsigned short)0;
#line 13
      __cil_tmp31 = i * 16UL;
#line 13
      __cil_tmp32 = (unsigned long )(tasklet_registered) + __cil_tmp31;
#line 13
      __cil_tmp33 = (void *)0;
#line 13
      *((struct tasklet_struct **)__cil_tmp32) = (struct tasklet_struct *)__cil_tmp33;
      }
    } else {

    }
    }
  } else {

  }
  }
#line 15
  return;
}
}
#line 1 "preproc_Yy8UL9.o"
#pragma merger(0,"preproc_Yy8UL9.i","-x,c")
#line 4 "cprover/ddverify/src/ddverify/timer.c"
void call_timer_functions(void) 
{ unsigned short i ;
  unsigned short tmp ;
  int __cil_tmp3 ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  struct timer_list *__cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  struct timer_list *__cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  void (*__cil_tmp16)(unsigned long  ) ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  struct timer_list *__cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;

  {
  {
#line 6
  tmp = __VERIFIER_nondet_ushort();
#line 6
  i = tmp;
#line 8
  __cil_tmp3 = (int )number_timer_registered;
#line 8
  __cil_tmp4 = (int )i;
#line 8
  __cil_tmp5 = __cil_tmp4 < __cil_tmp3;
#line 8
  __CPROVER_assume(__cil_tmp5);
  }
  {
#line 10
  __cil_tmp6 = i * 8UL;
#line 10
  __cil_tmp7 = (unsigned long )(timer_registered) + __cil_tmp6;
#line 10
  __cil_tmp8 = *((struct timer_list **)__cil_tmp7);
#line 10
  __cil_tmp9 = (unsigned long )__cil_tmp8;
#line 10
  __cil_tmp10 = __cil_tmp9 + 24;
#line 10
  if (*((short *)__cil_tmp10)) {
    {
#line 11
    __cil_tmp11 = i * 8UL;
#line 11
    __cil_tmp12 = (unsigned long )(timer_registered) + __cil_tmp11;
#line 11
    __cil_tmp13 = *((struct timer_list **)__cil_tmp12);
#line 11
    __cil_tmp14 = (unsigned long )__cil_tmp13;
#line 11
    __cil_tmp15 = __cil_tmp14 + 8;
#line 11
    __cil_tmp16 = *((void (**)(unsigned long  ))__cil_tmp15);
#line 11
    __cil_tmp17 = i * 8UL;
#line 11
    __cil_tmp18 = (unsigned long )(timer_registered) + __cil_tmp17;
#line 11
    __cil_tmp19 = *((struct timer_list **)__cil_tmp18);
#line 11
    __cil_tmp20 = (unsigned long )__cil_tmp19;
#line 11
    __cil_tmp21 = __cil_tmp20 + 16;
#line 11
    __cil_tmp22 = *((unsigned long *)__cil_tmp21);
#line 11
    (*__cil_tmp16)(__cil_tmp22);
    }
  } else {

  }
  }
#line 13
  return;
}
}
#line 1 "preproc_pvUDb9.o"
#pragma merger(0,"preproc_pvUDb9.i","-x,c")
#line 96 "./include/linux/ioport.h"
extern struct resource *request_mem_region(unsigned long start , unsigned long len ,
                                           char const   *name ) ;
#line 98
extern void release_mem_region(unsigned long start , unsigned long len ) ;
#line 10 "cprover/ddverify/include/ddverify/satabs.h"
extern void *malloc(size_t size ) ;
#line 8 "./drivers/pci/pci.c"
__inline int pci_enable_device(struct pci_dev *dev ) 
{ int i ;
  unsigned int tmp ;
  unsigned short tmp___0 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;

  {
#line 12
  i = 0;
  {
#line 12
  while (1) {
    while_continue: /* CIL Label */ ;
#line 12
    if (i < 12) {

    } else {
#line 12
      goto while_break;
    }
    {
#line 13
    __cil_tmp5 = i * 32UL;
#line 13
    __cil_tmp6 = __cil_tmp5 + 24;
#line 13
    __cil_tmp7 = 56 + __cil_tmp6;
#line 13
    __cil_tmp8 = (unsigned long )dev;
#line 13
    __cil_tmp9 = __cil_tmp8 + __cil_tmp7;
#line 13
    *((unsigned long *)__cil_tmp9) = 256UL;
#line 14
    tmp = __VERIFIER_nondet_uint();
#line 14
    __cil_tmp10 = i * 32UL;
#line 14
    __cil_tmp11 = __cil_tmp10 + 8;
#line 14
    __cil_tmp12 = 56 + __cil_tmp11;
#line 14
    __cil_tmp13 = (unsigned long )dev;
#line 14
    __cil_tmp14 = __cil_tmp13 + __cil_tmp12;
#line 14
    *((unsigned long *)__cil_tmp14) = (unsigned long )tmp;
#line 15
    tmp___0 = __VERIFIER_nondet_ushort();
#line 15
    __cil_tmp15 = i * 32UL;
#line 15
    __cil_tmp16 = __cil_tmp15 + 16;
#line 15
    __cil_tmp17 = 56 + __cil_tmp16;
#line 15
    __cil_tmp18 = (unsigned long )dev;
#line 15
    __cil_tmp19 = __cil_tmp18 + __cil_tmp17;
#line 15
    __cil_tmp20 = (unsigned long )tmp___0;
#line 15
    __cil_tmp21 = i * 32UL;
#line 15
    __cil_tmp22 = __cil_tmp21 + 8;
#line 15
    __cil_tmp23 = 56 + __cil_tmp22;
#line 15
    __cil_tmp24 = (unsigned long )dev;
#line 15
    __cil_tmp25 = __cil_tmp24 + __cil_tmp23;
#line 15
    __cil_tmp26 = *((unsigned long *)__cil_tmp25);
#line 15
    *((unsigned long *)__cil_tmp19) = __cil_tmp26 + __cil_tmp20;
#line 12
    i = i + 1;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 17
  return (0);
}
}
#line 19 "./drivers/pci/pci.c"
__inline struct pci_dev *pci_get_class(unsigned int class , struct pci_dev *from ) 
{ void *tmp ;
  int tmp___0 ;
  void *__cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  size_t __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned int __cil_tmp17 ;
  int __cil_tmp18 ;
  void *__cil_tmp19 ;

  {
  {
#line 21
  __cil_tmp5 = (void *)0;
#line 21
  __cil_tmp6 = (unsigned long )__cil_tmp5;
#line 21
  __cil_tmp7 = (unsigned long )from;
#line 21
  if (__cil_tmp7 == __cil_tmp6) {
    {
#line 22
    __cil_tmp8 = (size_t )440UL;
#line 22
    tmp = malloc(__cil_tmp8);
#line 22
    from = (struct pci_dev *)tmp;
    }
  } else {

  }
  }
  {
#line 25
  tmp___0 = __VERIFIER_nondet_int();
  }
#line 25
  if (tmp___0) {
    {
#line 26
    __cil_tmp9 = (unsigned long )from;
#line 26
    __cil_tmp10 = __cil_tmp9 + 12;
#line 26
    *((unsigned short *)__cil_tmp10) = __VERIFIER_nondet_ushort();
#line 27
    __cil_tmp11 = (unsigned long )from;
#line 27
    __cil_tmp12 = __cil_tmp11 + 14;
#line 27
    *((unsigned short *)__cil_tmp12) = __VERIFIER_nondet_ushort();
#line 28
    __cil_tmp13 = (unsigned long )from;
#line 28
    __cil_tmp14 = __cil_tmp13 + 48;
#line 28
    *((unsigned int *)__cil_tmp14) = __VERIFIER_nondet_uint();
#line 29
    __cil_tmp15 = (unsigned long )from;
#line 29
    __cil_tmp16 = __cil_tmp15 + 48;
#line 29
    __cil_tmp17 = *((unsigned int *)__cil_tmp16);
#line 29
    __cil_tmp18 = __cil_tmp17 < 16U;
#line 29
    __CPROVER_assume(__cil_tmp18);
    }
#line 31
    return (from);
  } else {
    {
#line 33
    __cil_tmp19 = (void *)0;
#line 33
    return ((struct pci_dev *)__cil_tmp19);
    }
  }
}
}
#line 37 "./drivers/pci/pci.c"
__inline int pci_register_driver(struct pci_driver *driver ) 
{ int tmp ;
  struct ddv_pci_driver *__cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;

  {
  {
#line 39
  tmp = __VERIFIER_nondet_int();
  }
#line 39
  if (tmp) {
#line 40
    __cil_tmp3 = & registered_pci_driver;
#line 40
    *((struct pci_driver **)__cil_tmp3) = driver;
#line 41
    __cil_tmp4 = (unsigned long )(& registered_pci_driver) + 448;
#line 41
    __cil_tmp5 = 8UL / 32UL;
#line 41
    *((unsigned int *)__cil_tmp4) = (unsigned int )__cil_tmp5;
#line 42
    __cil_tmp6 = (unsigned long )(& registered_pci_driver) + 452;
#line 42
    *((int *)__cil_tmp6) = 0;
#line 44
    return (0);
  } else {
#line 46
    return (-1);
  }
}
}
#line 50 "./drivers/pci/pci.c"
__inline void pci_unregister_driver(struct pci_driver *driver ) 
{ struct ddv_pci_driver *__cil_tmp2 ;
  void *__cil_tmp3 ;
  unsigned long __cil_tmp4 ;

  {
#line 52
  __cil_tmp2 = & registered_pci_driver;
#line 52
  __cil_tmp3 = (void *)0;
#line 52
  *((struct pci_driver **)__cil_tmp2) = (struct pci_driver *)__cil_tmp3;
#line 53
  __cil_tmp4 = (unsigned long )(& registered_pci_driver) + 448;
#line 53
  *((unsigned int *)__cil_tmp4) = 0U;
#line 54
  return;
}
}
#line 56 "./drivers/pci/pci.c"
__inline void pci_release_region(struct pci_dev *pdev , int bar ) 
{ unsigned long tmp ;
  unsigned long tmp___0 ;
  unsigned long tmp___1 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned long __cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  unsigned long __cil_tmp38 ;
  unsigned long __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  unsigned long __cil_tmp41 ;
  unsigned long __cil_tmp42 ;
  unsigned long __cil_tmp43 ;
  unsigned long __cil_tmp44 ;
  unsigned long __cil_tmp45 ;
  unsigned long __cil_tmp46 ;
  unsigned long __cil_tmp47 ;
  unsigned long __cil_tmp48 ;
  unsigned long __cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  unsigned long __cil_tmp51 ;
  unsigned long __cil_tmp52 ;
  unsigned long __cil_tmp53 ;
  unsigned long __cil_tmp54 ;
  unsigned long __cil_tmp55 ;
  unsigned long __cil_tmp56 ;
  unsigned long __cil_tmp57 ;
  unsigned long __cil_tmp58 ;
  unsigned long __cil_tmp59 ;
  unsigned long __cil_tmp60 ;
  unsigned long __cil_tmp61 ;
  unsigned long __cil_tmp62 ;
  unsigned long __cil_tmp63 ;
  unsigned long __cil_tmp64 ;
  unsigned long __cil_tmp65 ;
  unsigned long __cil_tmp66 ;
  unsigned long __cil_tmp67 ;
  unsigned long __cil_tmp68 ;
  unsigned long __cil_tmp69 ;
  unsigned long __cil_tmp70 ;
  unsigned long __cil_tmp71 ;
  unsigned long __cil_tmp72 ;
  unsigned long __cil_tmp73 ;
  unsigned long __cil_tmp74 ;
  unsigned long __cil_tmp75 ;
  unsigned long __cil_tmp76 ;
  unsigned long __cil_tmp77 ;
  unsigned long __cil_tmp78 ;
  unsigned long __cil_tmp79 ;
  unsigned long __cil_tmp80 ;
  unsigned long __cil_tmp81 ;
  unsigned long __cil_tmp82 ;
  unsigned long __cil_tmp83 ;
  unsigned long __cil_tmp84 ;
  unsigned long __cil_tmp85 ;
  unsigned long __cil_tmp86 ;
  unsigned long __cil_tmp87 ;
  unsigned long __cil_tmp88 ;
  unsigned long __cil_tmp89 ;
  unsigned long __cil_tmp90 ;
  unsigned long __cil_tmp91 ;
  unsigned long __cil_tmp92 ;
  unsigned long __cil_tmp93 ;
  unsigned long __cil_tmp94 ;
  unsigned long __cil_tmp95 ;
  unsigned long __cil_tmp96 ;
  unsigned long __cil_tmp97 ;
  unsigned long __cil_tmp98 ;
  unsigned long __cil_tmp99 ;
  unsigned long __cil_tmp100 ;
  unsigned long __cil_tmp101 ;
  unsigned long __cil_tmp102 ;
  unsigned long __cil_tmp103 ;
  unsigned long __cil_tmp104 ;
  unsigned long __cil_tmp105 ;
  unsigned long __cil_tmp106 ;
  unsigned long __cil_tmp107 ;
  unsigned long __cil_tmp108 ;
  unsigned long __cil_tmp109 ;
  unsigned long __cil_tmp110 ;
  unsigned long __cil_tmp111 ;
  unsigned long __cil_tmp112 ;
  unsigned long __cil_tmp113 ;
  unsigned long __cil_tmp114 ;
  unsigned long __cil_tmp115 ;
  unsigned long __cil_tmp116 ;
  unsigned long __cil_tmp117 ;
  unsigned long __cil_tmp118 ;
  unsigned long __cil_tmp119 ;
  unsigned long __cil_tmp120 ;
  unsigned long __cil_tmp121 ;
  unsigned long __cil_tmp122 ;
  unsigned long __cil_tmp123 ;
  unsigned long __cil_tmp124 ;
  unsigned long __cil_tmp125 ;
  unsigned long __cil_tmp126 ;
  unsigned long __cil_tmp127 ;
  unsigned long __cil_tmp128 ;
  unsigned long __cil_tmp129 ;
  unsigned long __cil_tmp130 ;
  unsigned long __cil_tmp131 ;
  unsigned long __cil_tmp132 ;
  unsigned long __cil_tmp133 ;
  unsigned long __cil_tmp134 ;
  unsigned long __cil_tmp135 ;
  unsigned long __cil_tmp136 ;
  unsigned long __cil_tmp137 ;
  unsigned long __cil_tmp138 ;
  unsigned long __cil_tmp139 ;
  unsigned long __cil_tmp140 ;
  unsigned long __cil_tmp141 ;
  unsigned long __cil_tmp142 ;
  unsigned long __cil_tmp143 ;
  unsigned long __cil_tmp144 ;
  unsigned long __cil_tmp145 ;
  unsigned long __cil_tmp146 ;
  unsigned long __cil_tmp147 ;
  unsigned long __cil_tmp148 ;
  unsigned long __cil_tmp149 ;
  unsigned long __cil_tmp150 ;
  unsigned long __cil_tmp151 ;
  unsigned long __cil_tmp152 ;
  unsigned long __cil_tmp153 ;
  unsigned long __cil_tmp154 ;
  unsigned long __cil_tmp155 ;
  unsigned long __cil_tmp156 ;
  unsigned long __cil_tmp157 ;
  unsigned long __cil_tmp158 ;
  unsigned long __cil_tmp159 ;
  unsigned long __cil_tmp160 ;
  unsigned long __cil_tmp161 ;

  {
  {
#line 58
  __cil_tmp6 = bar * 32UL;
#line 58
  __cil_tmp7 = __cil_tmp6 + 8;
#line 58
  __cil_tmp8 = 56 + __cil_tmp7;
#line 58
  __cil_tmp9 = (unsigned long )pdev;
#line 58
  __cil_tmp10 = __cil_tmp9 + __cil_tmp8;
#line 58
  __cil_tmp11 = *((unsigned long *)__cil_tmp10);
#line 58
  if (__cil_tmp11 == 0UL) {
    {
#line 58
    __cil_tmp12 = bar * 32UL;
#line 58
    __cil_tmp13 = __cil_tmp12 + 8;
#line 58
    __cil_tmp14 = 56 + __cil_tmp13;
#line 58
    __cil_tmp15 = (unsigned long )pdev;
#line 58
    __cil_tmp16 = __cil_tmp15 + __cil_tmp14;
#line 58
    __cil_tmp17 = *((unsigned long *)__cil_tmp16);
#line 58
    __cil_tmp18 = bar * 32UL;
#line 58
    __cil_tmp19 = __cil_tmp18 + 16;
#line 58
    __cil_tmp20 = 56 + __cil_tmp19;
#line 58
    __cil_tmp21 = (unsigned long )pdev;
#line 58
    __cil_tmp22 = __cil_tmp21 + __cil_tmp20;
#line 58
    __cil_tmp23 = *((unsigned long *)__cil_tmp22);
#line 58
    if (__cil_tmp23 == __cil_tmp17) {
#line 58
      tmp = 0UL;
    } else {
#line 58
      __cil_tmp24 = bar * 32UL;
#line 58
      __cil_tmp25 = __cil_tmp24 + 8;
#line 58
      __cil_tmp26 = 56 + __cil_tmp25;
#line 58
      __cil_tmp27 = (unsigned long )pdev;
#line 58
      __cil_tmp28 = __cil_tmp27 + __cil_tmp26;
#line 58
      __cil_tmp29 = *((unsigned long *)__cil_tmp28);
#line 58
      __cil_tmp30 = bar * 32UL;
#line 58
      __cil_tmp31 = __cil_tmp30 + 16;
#line 58
      __cil_tmp32 = 56 + __cil_tmp31;
#line 58
      __cil_tmp33 = (unsigned long )pdev;
#line 58
      __cil_tmp34 = __cil_tmp33 + __cil_tmp32;
#line 58
      __cil_tmp35 = *((unsigned long *)__cil_tmp34);
#line 58
      __cil_tmp36 = __cil_tmp35 - __cil_tmp29;
#line 58
      tmp = __cil_tmp36 + 1UL;
    }
    }
  } else {
#line 58
    __cil_tmp37 = bar * 32UL;
#line 58
    __cil_tmp38 = __cil_tmp37 + 8;
#line 58
    __cil_tmp39 = 56 + __cil_tmp38;
#line 58
    __cil_tmp40 = (unsigned long )pdev;
#line 58
    __cil_tmp41 = __cil_tmp40 + __cil_tmp39;
#line 58
    __cil_tmp42 = *((unsigned long *)__cil_tmp41);
#line 58
    __cil_tmp43 = bar * 32UL;
#line 58
    __cil_tmp44 = __cil_tmp43 + 16;
#line 58
    __cil_tmp45 = 56 + __cil_tmp44;
#line 58
    __cil_tmp46 = (unsigned long )pdev;
#line 58
    __cil_tmp47 = __cil_tmp46 + __cil_tmp45;
#line 58
    __cil_tmp48 = *((unsigned long *)__cil_tmp47);
#line 58
    __cil_tmp49 = __cil_tmp48 - __cil_tmp42;
#line 58
    tmp = __cil_tmp49 + 1UL;
  }
  }
#line 58
  if (tmp == 0UL) {
#line 59
    return;
  } else {

  }
  {
#line 60
  __cil_tmp50 = bar * 32UL;
#line 60
  __cil_tmp51 = __cil_tmp50 + 24;
#line 60
  __cil_tmp52 = 56 + __cil_tmp51;
#line 60
  __cil_tmp53 = (unsigned long )pdev;
#line 60
  __cil_tmp54 = __cil_tmp53 + __cil_tmp52;
#line 60
  __cil_tmp55 = *((unsigned long *)__cil_tmp54);
#line 60
  if (__cil_tmp55 & 256UL) {
    {
#line 61
    __cil_tmp56 = bar * 32UL;
#line 61
    __cil_tmp57 = __cil_tmp56 + 8;
#line 61
    __cil_tmp58 = 56 + __cil_tmp57;
#line 61
    __cil_tmp59 = (unsigned long )pdev;
#line 61
    __cil_tmp60 = __cil_tmp59 + __cil_tmp58;
#line 61
    __cil_tmp61 = *((unsigned long *)__cil_tmp60);
#line 61
    if (__cil_tmp61 == 0UL) {
      {
#line 61
      __cil_tmp62 = bar * 32UL;
#line 61
      __cil_tmp63 = __cil_tmp62 + 8;
#line 61
      __cil_tmp64 = 56 + __cil_tmp63;
#line 61
      __cil_tmp65 = (unsigned long )pdev;
#line 61
      __cil_tmp66 = __cil_tmp65 + __cil_tmp64;
#line 61
      __cil_tmp67 = *((unsigned long *)__cil_tmp66);
#line 61
      __cil_tmp68 = bar * 32UL;
#line 61
      __cil_tmp69 = __cil_tmp68 + 16;
#line 61
      __cil_tmp70 = 56 + __cil_tmp69;
#line 61
      __cil_tmp71 = (unsigned long )pdev;
#line 61
      __cil_tmp72 = __cil_tmp71 + __cil_tmp70;
#line 61
      __cil_tmp73 = *((unsigned long *)__cil_tmp72);
#line 61
      if (__cil_tmp73 == __cil_tmp67) {
#line 61
        tmp___0 = 0UL;
      } else {
#line 61
        __cil_tmp74 = bar * 32UL;
#line 61
        __cil_tmp75 = __cil_tmp74 + 8;
#line 61
        __cil_tmp76 = 56 + __cil_tmp75;
#line 61
        __cil_tmp77 = (unsigned long )pdev;
#line 61
        __cil_tmp78 = __cil_tmp77 + __cil_tmp76;
#line 61
        __cil_tmp79 = *((unsigned long *)__cil_tmp78);
#line 61
        __cil_tmp80 = bar * 32UL;
#line 61
        __cil_tmp81 = __cil_tmp80 + 16;
#line 61
        __cil_tmp82 = 56 + __cil_tmp81;
#line 61
        __cil_tmp83 = (unsigned long )pdev;
#line 61
        __cil_tmp84 = __cil_tmp83 + __cil_tmp82;
#line 61
        __cil_tmp85 = *((unsigned long *)__cil_tmp84);
#line 61
        __cil_tmp86 = __cil_tmp85 - __cil_tmp79;
#line 61
        tmp___0 = __cil_tmp86 + 1UL;
      }
      }
    } else {
#line 61
      __cil_tmp87 = bar * 32UL;
#line 61
      __cil_tmp88 = __cil_tmp87 + 8;
#line 61
      __cil_tmp89 = 56 + __cil_tmp88;
#line 61
      __cil_tmp90 = (unsigned long )pdev;
#line 61
      __cil_tmp91 = __cil_tmp90 + __cil_tmp89;
#line 61
      __cil_tmp92 = *((unsigned long *)__cil_tmp91);
#line 61
      __cil_tmp93 = bar * 32UL;
#line 61
      __cil_tmp94 = __cil_tmp93 + 16;
#line 61
      __cil_tmp95 = 56 + __cil_tmp94;
#line 61
      __cil_tmp96 = (unsigned long )pdev;
#line 61
      __cil_tmp97 = __cil_tmp96 + __cil_tmp95;
#line 61
      __cil_tmp98 = *((unsigned long *)__cil_tmp97);
#line 61
      __cil_tmp99 = __cil_tmp98 - __cil_tmp92;
#line 61
      tmp___0 = __cil_tmp99 + 1UL;
    }
    }
    {
#line 61
    __cil_tmp100 = bar * 32UL;
#line 61
    __cil_tmp101 = __cil_tmp100 + 8;
#line 61
    __cil_tmp102 = 56 + __cil_tmp101;
#line 61
    __cil_tmp103 = (unsigned long )pdev;
#line 61
    __cil_tmp104 = __cil_tmp103 + __cil_tmp102;
#line 61
    __cil_tmp105 = *((unsigned long *)__cil_tmp104);
#line 61
    release_region(__cil_tmp105, tmp___0);
    }
  } else {
    {
#line 63
    __cil_tmp106 = bar * 32UL;
#line 63
    __cil_tmp107 = __cil_tmp106 + 24;
#line 63
    __cil_tmp108 = 56 + __cil_tmp107;
#line 63
    __cil_tmp109 = (unsigned long )pdev;
#line 63
    __cil_tmp110 = __cil_tmp109 + __cil_tmp108;
#line 63
    __cil_tmp111 = *((unsigned long *)__cil_tmp110);
#line 63
    if (__cil_tmp111 & 512UL) {
      {
#line 64
      __cil_tmp112 = bar * 32UL;
#line 64
      __cil_tmp113 = __cil_tmp112 + 8;
#line 64
      __cil_tmp114 = 56 + __cil_tmp113;
#line 64
      __cil_tmp115 = (unsigned long )pdev;
#line 64
      __cil_tmp116 = __cil_tmp115 + __cil_tmp114;
#line 64
      __cil_tmp117 = *((unsigned long *)__cil_tmp116);
#line 64
      if (__cil_tmp117 == 0UL) {
        {
#line 64
        __cil_tmp118 = bar * 32UL;
#line 64
        __cil_tmp119 = __cil_tmp118 + 8;
#line 64
        __cil_tmp120 = 56 + __cil_tmp119;
#line 64
        __cil_tmp121 = (unsigned long )pdev;
#line 64
        __cil_tmp122 = __cil_tmp121 + __cil_tmp120;
#line 64
        __cil_tmp123 = *((unsigned long *)__cil_tmp122);
#line 64
        __cil_tmp124 = bar * 32UL;
#line 64
        __cil_tmp125 = __cil_tmp124 + 16;
#line 64
        __cil_tmp126 = 56 + __cil_tmp125;
#line 64
        __cil_tmp127 = (unsigned long )pdev;
#line 64
        __cil_tmp128 = __cil_tmp127 + __cil_tmp126;
#line 64
        __cil_tmp129 = *((unsigned long *)__cil_tmp128);
#line 64
        if (__cil_tmp129 == __cil_tmp123) {
#line 64
          tmp___1 = 0UL;
        } else {
#line 64
          __cil_tmp130 = bar * 32UL;
#line 64
          __cil_tmp131 = __cil_tmp130 + 8;
#line 64
          __cil_tmp132 = 56 + __cil_tmp131;
#line 64
          __cil_tmp133 = (unsigned long )pdev;
#line 64
          __cil_tmp134 = __cil_tmp133 + __cil_tmp132;
#line 64
          __cil_tmp135 = *((unsigned long *)__cil_tmp134);
#line 64
          __cil_tmp136 = bar * 32UL;
#line 64
          __cil_tmp137 = __cil_tmp136 + 16;
#line 64
          __cil_tmp138 = 56 + __cil_tmp137;
#line 64
          __cil_tmp139 = (unsigned long )pdev;
#line 64
          __cil_tmp140 = __cil_tmp139 + __cil_tmp138;
#line 64
          __cil_tmp141 = *((unsigned long *)__cil_tmp140);
#line 64
          __cil_tmp142 = __cil_tmp141 - __cil_tmp135;
#line 64
          tmp___1 = __cil_tmp142 + 1UL;
        }
        }
      } else {
#line 64
        __cil_tmp143 = bar * 32UL;
#line 64
        __cil_tmp144 = __cil_tmp143 + 8;
#line 64
        __cil_tmp145 = 56 + __cil_tmp144;
#line 64
        __cil_tmp146 = (unsigned long )pdev;
#line 64
        __cil_tmp147 = __cil_tmp146 + __cil_tmp145;
#line 64
        __cil_tmp148 = *((unsigned long *)__cil_tmp147);
#line 64
        __cil_tmp149 = bar * 32UL;
#line 64
        __cil_tmp150 = __cil_tmp149 + 16;
#line 64
        __cil_tmp151 = 56 + __cil_tmp150;
#line 64
        __cil_tmp152 = (unsigned long )pdev;
#line 64
        __cil_tmp153 = __cil_tmp152 + __cil_tmp151;
#line 64
        __cil_tmp154 = *((unsigned long *)__cil_tmp153);
#line 64
        __cil_tmp155 = __cil_tmp154 - __cil_tmp148;
#line 64
        tmp___1 = __cil_tmp155 + 1UL;
      }
      }
      {
#line 64
      __cil_tmp156 = bar * 32UL;
#line 64
      __cil_tmp157 = __cil_tmp156 + 8;
#line 64
      __cil_tmp158 = 56 + __cil_tmp157;
#line 64
      __cil_tmp159 = (unsigned long )pdev;
#line 64
      __cil_tmp160 = __cil_tmp159 + __cil_tmp158;
#line 64
      __cil_tmp161 = *((unsigned long *)__cil_tmp160);
#line 64
      release_mem_region(__cil_tmp161, tmp___1);
      }
    } else {

    }
    }
  }
  }
#line 66
  return;
}
}
#line 68 "./drivers/pci/pci.c"
__inline int pci_request_region(struct pci_dev *pdev , int bar , char const   *res_name ) 
{ unsigned long tmp ;
  unsigned long tmp___0 ;
  struct resource *tmp___1 ;
  unsigned long tmp___2 ;
  struct resource *tmp___3 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned long __cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  unsigned long __cil_tmp38 ;
  unsigned long __cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  unsigned long __cil_tmp41 ;
  unsigned long __cil_tmp42 ;
  unsigned long __cil_tmp43 ;
  unsigned long __cil_tmp44 ;
  unsigned long __cil_tmp45 ;
  unsigned long __cil_tmp46 ;
  unsigned long __cil_tmp47 ;
  unsigned long __cil_tmp48 ;
  unsigned long __cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  unsigned long __cil_tmp51 ;
  unsigned long __cil_tmp52 ;
  unsigned long __cil_tmp53 ;
  unsigned long __cil_tmp54 ;
  unsigned long __cil_tmp55 ;
  unsigned long __cil_tmp56 ;
  unsigned long __cil_tmp57 ;
  unsigned long __cil_tmp58 ;
  unsigned long __cil_tmp59 ;
  unsigned long __cil_tmp60 ;
  unsigned long __cil_tmp61 ;
  unsigned long __cil_tmp62 ;
  unsigned long __cil_tmp63 ;
  unsigned long __cil_tmp64 ;
  unsigned long __cil_tmp65 ;
  unsigned long __cil_tmp66 ;
  unsigned long __cil_tmp67 ;
  unsigned long __cil_tmp68 ;
  unsigned long __cil_tmp69 ;
  unsigned long __cil_tmp70 ;
  unsigned long __cil_tmp71 ;
  unsigned long __cil_tmp72 ;
  unsigned long __cil_tmp73 ;
  unsigned long __cil_tmp74 ;
  unsigned long __cil_tmp75 ;
  unsigned long __cil_tmp76 ;
  unsigned long __cil_tmp77 ;
  unsigned long __cil_tmp78 ;
  unsigned long __cil_tmp79 ;
  unsigned long __cil_tmp80 ;
  unsigned long __cil_tmp81 ;
  unsigned long __cil_tmp82 ;
  unsigned long __cil_tmp83 ;
  unsigned long __cil_tmp84 ;
  unsigned long __cil_tmp85 ;
  unsigned long __cil_tmp86 ;
  unsigned long __cil_tmp87 ;
  unsigned long __cil_tmp88 ;
  unsigned long __cil_tmp89 ;
  unsigned long __cil_tmp90 ;
  unsigned long __cil_tmp91 ;
  unsigned long __cil_tmp92 ;
  unsigned long __cil_tmp93 ;
  unsigned long __cil_tmp94 ;
  unsigned long __cil_tmp95 ;
  unsigned long __cil_tmp96 ;
  unsigned long __cil_tmp97 ;
  unsigned long __cil_tmp98 ;
  unsigned long __cil_tmp99 ;
  unsigned long __cil_tmp100 ;
  unsigned long __cil_tmp101 ;
  unsigned long __cil_tmp102 ;
  unsigned long __cil_tmp103 ;
  unsigned long __cil_tmp104 ;
  unsigned long __cil_tmp105 ;
  unsigned long __cil_tmp106 ;
  unsigned long __cil_tmp107 ;
  unsigned long __cil_tmp108 ;
  unsigned long __cil_tmp109 ;
  unsigned long __cil_tmp110 ;
  unsigned long __cil_tmp111 ;
  unsigned long __cil_tmp112 ;
  unsigned long __cil_tmp113 ;
  unsigned long __cil_tmp114 ;
  unsigned long __cil_tmp115 ;
  unsigned long __cil_tmp116 ;
  unsigned long __cil_tmp117 ;
  unsigned long __cil_tmp118 ;
  unsigned long __cil_tmp119 ;
  unsigned long __cil_tmp120 ;
  unsigned long __cil_tmp121 ;
  unsigned long __cil_tmp122 ;
  unsigned long __cil_tmp123 ;
  unsigned long __cil_tmp124 ;
  unsigned long __cil_tmp125 ;
  unsigned long __cil_tmp126 ;
  unsigned long __cil_tmp127 ;
  unsigned long __cil_tmp128 ;
  unsigned long __cil_tmp129 ;
  unsigned long __cil_tmp130 ;
  unsigned long __cil_tmp131 ;
  unsigned long __cil_tmp132 ;
  unsigned long __cil_tmp133 ;
  unsigned long __cil_tmp134 ;
  unsigned long __cil_tmp135 ;
  unsigned long __cil_tmp136 ;
  unsigned long __cil_tmp137 ;
  unsigned long __cil_tmp138 ;
  unsigned long __cil_tmp139 ;
  unsigned long __cil_tmp140 ;
  unsigned long __cil_tmp141 ;
  unsigned long __cil_tmp142 ;
  unsigned long __cil_tmp143 ;
  unsigned long __cil_tmp144 ;
  unsigned long __cil_tmp145 ;
  unsigned long __cil_tmp146 ;
  unsigned long __cil_tmp147 ;
  unsigned long __cil_tmp148 ;
  unsigned long __cil_tmp149 ;
  unsigned long __cil_tmp150 ;
  unsigned long __cil_tmp151 ;
  unsigned long __cil_tmp152 ;
  unsigned long __cil_tmp153 ;
  unsigned long __cil_tmp154 ;
  unsigned long __cil_tmp155 ;
  unsigned long __cil_tmp156 ;
  unsigned long __cil_tmp157 ;
  unsigned long __cil_tmp158 ;
  unsigned long __cil_tmp159 ;
  unsigned long __cil_tmp160 ;
  unsigned long __cil_tmp161 ;
  unsigned long __cil_tmp162 ;
  unsigned long __cil_tmp163 ;
  unsigned long __cil_tmp164 ;

  {
  {
#line 70
  __cil_tmp9 = bar * 32UL;
#line 70
  __cil_tmp10 = __cil_tmp9 + 8;
#line 70
  __cil_tmp11 = 56 + __cil_tmp10;
#line 70
  __cil_tmp12 = (unsigned long )pdev;
#line 70
  __cil_tmp13 = __cil_tmp12 + __cil_tmp11;
#line 70
  __cil_tmp14 = *((unsigned long *)__cil_tmp13);
#line 70
  if (__cil_tmp14 == 0UL) {
    {
#line 70
    __cil_tmp15 = bar * 32UL;
#line 70
    __cil_tmp16 = __cil_tmp15 + 8;
#line 70
    __cil_tmp17 = 56 + __cil_tmp16;
#line 70
    __cil_tmp18 = (unsigned long )pdev;
#line 70
    __cil_tmp19 = __cil_tmp18 + __cil_tmp17;
#line 70
    __cil_tmp20 = *((unsigned long *)__cil_tmp19);
#line 70
    __cil_tmp21 = bar * 32UL;
#line 70
    __cil_tmp22 = __cil_tmp21 + 16;
#line 70
    __cil_tmp23 = 56 + __cil_tmp22;
#line 70
    __cil_tmp24 = (unsigned long )pdev;
#line 70
    __cil_tmp25 = __cil_tmp24 + __cil_tmp23;
#line 70
    __cil_tmp26 = *((unsigned long *)__cil_tmp25);
#line 70
    if (__cil_tmp26 == __cil_tmp20) {
#line 70
      tmp = 0UL;
    } else {
#line 70
      __cil_tmp27 = bar * 32UL;
#line 70
      __cil_tmp28 = __cil_tmp27 + 8;
#line 70
      __cil_tmp29 = 56 + __cil_tmp28;
#line 70
      __cil_tmp30 = (unsigned long )pdev;
#line 70
      __cil_tmp31 = __cil_tmp30 + __cil_tmp29;
#line 70
      __cil_tmp32 = *((unsigned long *)__cil_tmp31);
#line 70
      __cil_tmp33 = bar * 32UL;
#line 70
      __cil_tmp34 = __cil_tmp33 + 16;
#line 70
      __cil_tmp35 = 56 + __cil_tmp34;
#line 70
      __cil_tmp36 = (unsigned long )pdev;
#line 70
      __cil_tmp37 = __cil_tmp36 + __cil_tmp35;
#line 70
      __cil_tmp38 = *((unsigned long *)__cil_tmp37);
#line 70
      __cil_tmp39 = __cil_tmp38 - __cil_tmp32;
#line 70
      tmp = __cil_tmp39 + 1UL;
    }
    }
  } else {
#line 70
    __cil_tmp40 = bar * 32UL;
#line 70
    __cil_tmp41 = __cil_tmp40 + 8;
#line 70
    __cil_tmp42 = 56 + __cil_tmp41;
#line 70
    __cil_tmp43 = (unsigned long )pdev;
#line 70
    __cil_tmp44 = __cil_tmp43 + __cil_tmp42;
#line 70
    __cil_tmp45 = *((unsigned long *)__cil_tmp44);
#line 70
    __cil_tmp46 = bar * 32UL;
#line 70
    __cil_tmp47 = __cil_tmp46 + 16;
#line 70
    __cil_tmp48 = 56 + __cil_tmp47;
#line 70
    __cil_tmp49 = (unsigned long )pdev;
#line 70
    __cil_tmp50 = __cil_tmp49 + __cil_tmp48;
#line 70
    __cil_tmp51 = *((unsigned long *)__cil_tmp50);
#line 70
    __cil_tmp52 = __cil_tmp51 - __cil_tmp45;
#line 70
    tmp = __cil_tmp52 + 1UL;
  }
  }
#line 70
  if (tmp == 0UL) {
#line 71
    return (0);
  } else {

  }
  {
#line 73
  __cil_tmp53 = bar * 32UL;
#line 73
  __cil_tmp54 = __cil_tmp53 + 24;
#line 73
  __cil_tmp55 = 56 + __cil_tmp54;
#line 73
  __cil_tmp56 = (unsigned long )pdev;
#line 73
  __cil_tmp57 = __cil_tmp56 + __cil_tmp55;
#line 73
  __cil_tmp58 = *((unsigned long *)__cil_tmp57);
#line 73
  if (__cil_tmp58 & 256UL) {
    {
#line 74
    __cil_tmp59 = bar * 32UL;
#line 74
    __cil_tmp60 = __cil_tmp59 + 8;
#line 74
    __cil_tmp61 = 56 + __cil_tmp60;
#line 74
    __cil_tmp62 = (unsigned long )pdev;
#line 74
    __cil_tmp63 = __cil_tmp62 + __cil_tmp61;
#line 74
    __cil_tmp64 = *((unsigned long *)__cil_tmp63);
#line 74
    if (__cil_tmp64 == 0UL) {
      {
#line 74
      __cil_tmp65 = bar * 32UL;
#line 74
      __cil_tmp66 = __cil_tmp65 + 8;
#line 74
      __cil_tmp67 = 56 + __cil_tmp66;
#line 74
      __cil_tmp68 = (unsigned long )pdev;
#line 74
      __cil_tmp69 = __cil_tmp68 + __cil_tmp67;
#line 74
      __cil_tmp70 = *((unsigned long *)__cil_tmp69);
#line 74
      __cil_tmp71 = bar * 32UL;
#line 74
      __cil_tmp72 = __cil_tmp71 + 16;
#line 74
      __cil_tmp73 = 56 + __cil_tmp72;
#line 74
      __cil_tmp74 = (unsigned long )pdev;
#line 74
      __cil_tmp75 = __cil_tmp74 + __cil_tmp73;
#line 74
      __cil_tmp76 = *((unsigned long *)__cil_tmp75);
#line 74
      if (__cil_tmp76 == __cil_tmp70) {
#line 74
        tmp___0 = 0UL;
      } else {
#line 74
        __cil_tmp77 = bar * 32UL;
#line 74
        __cil_tmp78 = __cil_tmp77 + 8;
#line 74
        __cil_tmp79 = 56 + __cil_tmp78;
#line 74
        __cil_tmp80 = (unsigned long )pdev;
#line 74
        __cil_tmp81 = __cil_tmp80 + __cil_tmp79;
#line 74
        __cil_tmp82 = *((unsigned long *)__cil_tmp81);
#line 74
        __cil_tmp83 = bar * 32UL;
#line 74
        __cil_tmp84 = __cil_tmp83 + 16;
#line 74
        __cil_tmp85 = 56 + __cil_tmp84;
#line 74
        __cil_tmp86 = (unsigned long )pdev;
#line 74
        __cil_tmp87 = __cil_tmp86 + __cil_tmp85;
#line 74
        __cil_tmp88 = *((unsigned long *)__cil_tmp87);
#line 74
        __cil_tmp89 = __cil_tmp88 - __cil_tmp82;
#line 74
        tmp___0 = __cil_tmp89 + 1UL;
      }
      }
    } else {
#line 74
      __cil_tmp90 = bar * 32UL;
#line 74
      __cil_tmp91 = __cil_tmp90 + 8;
#line 74
      __cil_tmp92 = 56 + __cil_tmp91;
#line 74
      __cil_tmp93 = (unsigned long )pdev;
#line 74
      __cil_tmp94 = __cil_tmp93 + __cil_tmp92;
#line 74
      __cil_tmp95 = *((unsigned long *)__cil_tmp94);
#line 74
      __cil_tmp96 = bar * 32UL;
#line 74
      __cil_tmp97 = __cil_tmp96 + 16;
#line 74
      __cil_tmp98 = 56 + __cil_tmp97;
#line 74
      __cil_tmp99 = (unsigned long )pdev;
#line 74
      __cil_tmp100 = __cil_tmp99 + __cil_tmp98;
#line 74
      __cil_tmp101 = *((unsigned long *)__cil_tmp100);
#line 74
      __cil_tmp102 = __cil_tmp101 - __cil_tmp95;
#line 74
      tmp___0 = __cil_tmp102 + 1UL;
    }
    }
    {
#line 74
    __cil_tmp103 = bar * 32UL;
#line 74
    __cil_tmp104 = __cil_tmp103 + 8;
#line 74
    __cil_tmp105 = 56 + __cil_tmp104;
#line 74
    __cil_tmp106 = (unsigned long )pdev;
#line 74
    __cil_tmp107 = __cil_tmp106 + __cil_tmp105;
#line 74
    __cil_tmp108 = *((unsigned long *)__cil_tmp107);
#line 74
    tmp___1 = request_region(__cil_tmp108, tmp___0, res_name);
    }
#line 74
    if (! tmp___1) {
#line 76
      return (-16);
    } else {

    }
  } else {
    {
#line 78
    __cil_tmp109 = bar * 32UL;
#line 78
    __cil_tmp110 = __cil_tmp109 + 24;
#line 78
    __cil_tmp111 = 56 + __cil_tmp110;
#line 78
    __cil_tmp112 = (unsigned long )pdev;
#line 78
    __cil_tmp113 = __cil_tmp112 + __cil_tmp111;
#line 78
    __cil_tmp114 = *((unsigned long *)__cil_tmp113);
#line 78
    if (__cil_tmp114 & 512UL) {
      {
#line 79
      __cil_tmp115 = bar * 32UL;
#line 79
      __cil_tmp116 = __cil_tmp115 + 8;
#line 79
      __cil_tmp117 = 56 + __cil_tmp116;
#line 79
      __cil_tmp118 = (unsigned long )pdev;
#line 79
      __cil_tmp119 = __cil_tmp118 + __cil_tmp117;
#line 79
      __cil_tmp120 = *((unsigned long *)__cil_tmp119);
#line 79
      if (__cil_tmp120 == 0UL) {
        {
#line 79
        __cil_tmp121 = bar * 32UL;
#line 79
        __cil_tmp122 = __cil_tmp121 + 8;
#line 79
        __cil_tmp123 = 56 + __cil_tmp122;
#line 79
        __cil_tmp124 = (unsigned long )pdev;
#line 79
        __cil_tmp125 = __cil_tmp124 + __cil_tmp123;
#line 79
        __cil_tmp126 = *((unsigned long *)__cil_tmp125);
#line 79
        __cil_tmp127 = bar * 32UL;
#line 79
        __cil_tmp128 = __cil_tmp127 + 16;
#line 79
        __cil_tmp129 = 56 + __cil_tmp128;
#line 79
        __cil_tmp130 = (unsigned long )pdev;
#line 79
        __cil_tmp131 = __cil_tmp130 + __cil_tmp129;
#line 79
        __cil_tmp132 = *((unsigned long *)__cil_tmp131);
#line 79
        if (__cil_tmp132 == __cil_tmp126) {
#line 79
          tmp___2 = 0UL;
        } else {
#line 79
          __cil_tmp133 = bar * 32UL;
#line 79
          __cil_tmp134 = __cil_tmp133 + 8;
#line 79
          __cil_tmp135 = 56 + __cil_tmp134;
#line 79
          __cil_tmp136 = (unsigned long )pdev;
#line 79
          __cil_tmp137 = __cil_tmp136 + __cil_tmp135;
#line 79
          __cil_tmp138 = *((unsigned long *)__cil_tmp137);
#line 79
          __cil_tmp139 = bar * 32UL;
#line 79
          __cil_tmp140 = __cil_tmp139 + 16;
#line 79
          __cil_tmp141 = 56 + __cil_tmp140;
#line 79
          __cil_tmp142 = (unsigned long )pdev;
#line 79
          __cil_tmp143 = __cil_tmp142 + __cil_tmp141;
#line 79
          __cil_tmp144 = *((unsigned long *)__cil_tmp143);
#line 79
          __cil_tmp145 = __cil_tmp144 - __cil_tmp138;
#line 79
          tmp___2 = __cil_tmp145 + 1UL;
        }
        }
      } else {
#line 79
        __cil_tmp146 = bar * 32UL;
#line 79
        __cil_tmp147 = __cil_tmp146 + 8;
#line 79
        __cil_tmp148 = 56 + __cil_tmp147;
#line 79
        __cil_tmp149 = (unsigned long )pdev;
#line 79
        __cil_tmp150 = __cil_tmp149 + __cil_tmp148;
#line 79
        __cil_tmp151 = *((unsigned long *)__cil_tmp150);
#line 79
        __cil_tmp152 = bar * 32UL;
#line 79
        __cil_tmp153 = __cil_tmp152 + 16;
#line 79
        __cil_tmp154 = 56 + __cil_tmp153;
#line 79
        __cil_tmp155 = (unsigned long )pdev;
#line 79
        __cil_tmp156 = __cil_tmp155 + __cil_tmp154;
#line 79
        __cil_tmp157 = *((unsigned long *)__cil_tmp156);
#line 79
        __cil_tmp158 = __cil_tmp157 - __cil_tmp151;
#line 79
        tmp___2 = __cil_tmp158 + 1UL;
      }
      }
      {
#line 79
      __cil_tmp159 = bar * 32UL;
#line 79
      __cil_tmp160 = __cil_tmp159 + 8;
#line 79
      __cil_tmp161 = 56 + __cil_tmp160;
#line 79
      __cil_tmp162 = (unsigned long )pdev;
#line 79
      __cil_tmp163 = __cil_tmp162 + __cil_tmp161;
#line 79
      __cil_tmp164 = *((unsigned long *)__cil_tmp163);
#line 79
      tmp___3 = request_mem_region(__cil_tmp164, tmp___2, res_name);
      }
#line 79
      if (! tmp___3) {
#line 81
        return (-16);
      } else {

      }
    } else {

    }
    }
  }
  }
#line 84
  return (0);
}
}
#line 87 "./drivers/pci/pci.c"
__inline void pci_release_regions(struct pci_dev *pdev ) 
{ int i ;

  {
#line 91
  i = 0;
  {
#line 91
  while (1) {
    while_continue: /* CIL Label */ ;
#line 91
    if (i < 6) {

    } else {
#line 91
      goto while_break;
    }
    {
#line 92
    pci_release_region(pdev, i);
#line 91
    i = i + 1;
    }
  }
  while_break: /* CIL Label */ ;
  }
#line 93
  return;
}
}
#line 95 "./drivers/pci/pci.c"
__inline int pci_request_regions(struct pci_dev *pdev , char const   *res_name ) 
{ int i ;
  int tmp ;
  int __cil_tmp5 ;

  {
#line 99
  i = 0;
  {
#line 99
  while (1) {
    while_continue: /* CIL Label */ ;
#line 99
    if (i < 6) {

    } else {
#line 99
      goto while_break;
    }
    {
#line 100
    tmp = pci_request_region(pdev, i, res_name);
    }
#line 100
    if (tmp) {
#line 101
      goto err_out;
    } else {

    }
#line 99
    i = i + 1;
  }
  while_break: /* CIL Label */ ;
  }
#line 102
  return (0);
  err_out: 
  {
#line 105
  while (1) {
    while_continue___0: /* CIL Label */ ;
#line 105
    i = i - 1;
    {
#line 105
    __cil_tmp5 = i >= 0;
#line 105
    if (! __cil_tmp5) {
#line 105
      goto while_break___0;
    } else {

    }
    }
    {
#line 106
    pci_release_region(pdev, i);
    }
  }
  while_break___0: /* CIL Label */ ;
  }
#line 108
  return (-16);
}
}
#line 1 "preproc_m7wOJh.o"
#pragma merger(0,"preproc_m7wOJh.i","-x,c")
#line 61 "./include/asm/uaccess.h"
__inline int __get_user(int size , void *ptr ) ;
#line 20 "cprover/ddverify/include/ddverify/ddverify.h"
__inline static int assert_context_process(void) 
{ int __cil_tmp1 ;

  {
  {
#line 22
  __cil_tmp1 = current_execution_context == 1;
#line 22
  __CPROVER_assert(__cil_tmp1, "Process context");
  }
#line 23
  return (0);
}
}
#line 5 "./arch/i386/lib/usercopy.c"
__inline int __get_user(int size , void *ptr ) 
{ int tmp ;

  {
  {
#line 8
  assert_context_process();
#line 10
  tmp = __VERIFIER_nondet_int();
  }
#line 10
  return (tmp);
}
}
#line 37 "./arch/i386/lib/usercopy.c"
unsigned long copy_to_user(void *to , void const   *from , unsigned long n ) 
{ unsigned long tmp ;

  {
  {
#line 40
  assert_context_process();
#line 42
  tmp = __VERIFIER_nondet_ulong();
  }
#line 42
  return (tmp);
}
}
#line 45 "./arch/i386/lib/usercopy.c"
unsigned long copy_from_user(void *to , void *from , unsigned long n ) 
{ unsigned long tmp ;

  {
  {
#line 48
  assert_context_process();
#line 50
  tmp = __VERIFIER_nondet_ulong();
  }
#line 50
  return (tmp);
}
}
#line 1 "preproc_FIKMVO.o"
#pragma merger(0,"preproc_FIKMVO.i","-x,c")
#line 509 "./include/linux/fs.h"
int alloc_chrdev_region(dev_t *dev , unsigned int baseminor , unsigned int count ,
                        char const   *name ) ;
#line 510
int register_chrdev_region(dev_t from , unsigned int count , char const   *name ) ;
#line 511
int register_chrdev(unsigned int major , char const   *name , struct file_operations  const  *fops ) ;
#line 513
int unregister_chrdev(unsigned int major , char const   *name ) ;
#line 12 "./include/linux/cdev.h"
void cdev_init(struct cdev *cdev , struct file_operations  const  *fops ) ;
#line 14
__inline struct cdev *cdev_alloc(void) ;
#line 18
int cdev_add(struct cdev *p , dev_t dev , unsigned int count ) ;
#line 20
void cdev_del(struct cdev *p ) ;
#line 24 "./fs/char_dev.c"
int register_chrdev_region(dev_t from , unsigned int count , char const   *name ) 
{ int return_value ;
  int tmp ;
  int tmp___0 ;

  {
  {
#line 26
  tmp = __VERIFIER_nondet_int();
#line 26
  return_value = tmp;
  }
#line 27
  if (return_value == 0) {
#line 27
    tmp___0 = 1;
  } else
#line 27
  if (return_value == -1) {
#line 27
    tmp___0 = 1;
  } else {
#line 27
    tmp___0 = 0;
  }
  {
#line 27
  __CPROVER_assume(tmp___0);
  }
#line 29
  return (return_value);
}
}
#line 43 "./fs/char_dev.c"
int alloc_chrdev_region(dev_t *dev , unsigned int baseminor , unsigned int count ,
                        char const   *name ) 
{ int major ;
  int return_value ;
  int tmp ;
  int tmp___0 ;
  unsigned int tmp___1 ;
  int __cil_tmp10 ;
  unsigned int __cil_tmp11 ;

  {
  {
#line 47
  tmp = __VERIFIER_nondet_int();
#line 47
  return_value = tmp;
  }
#line 48
  if (return_value == 0) {
#line 48
    tmp___0 = 1;
  } else
#line 48
  if (return_value == -1) {
#line 48
    tmp___0 = 1;
  } else {
#line 48
    tmp___0 = 0;
  }
  {
#line 48
  __CPROVER_assume(tmp___0);
  }
#line 50
  if (return_value == 0) {
    {
#line 51
    tmp___1 = __VERIFIER_nondet_uint();
#line 51
    major = (int )tmp___1;
#line 52
    __cil_tmp10 = major << 20;
#line 52
    __cil_tmp11 = (unsigned int )__cil_tmp10;
#line 52
    *dev = __cil_tmp11 | baseminor;
    }
  } else {

  }
#line 55
  return (return_value);
}
}
#line 80 "./fs/char_dev.c"
int register_chrdev(unsigned int major , char const   *name , struct file_operations  const  *fops ) 
{ struct cdev *cdev ;
  int err ;
  int tmp ;
  dev_t __cil_tmp7 ;
  struct module *__cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned int __cil_tmp11 ;
  void const   *__cil_tmp12 ;

  {
  {
#line 86
  __cil_tmp7 = (dev_t )0;
#line 86
  tmp = register_chrdev_region(__cil_tmp7, 256U, name);
#line 86
  major = (unsigned int )tmp;
#line 88
  cdev = cdev_alloc();
#line 89
  __cil_tmp8 = *((struct module * const  *)fops);
#line 89
  *((struct module **)cdev) = (struct module *)__cil_tmp8;
#line 90
  __cil_tmp9 = (unsigned long )cdev;
#line 90
  __cil_tmp10 = __cil_tmp9 + 8;
#line 90
  *((struct file_operations  const  **)__cil_tmp10) = fops;
#line 92
  __cil_tmp11 = major << 20;
#line 92
  err = cdev_add(cdev, __cil_tmp11, 256U);
  }
#line 94
  if (err) {
    {
#line 95
    __cil_tmp12 = (void const   *)cdev;
#line 95
    kfree(__cil_tmp12);
    }
#line 96
    return (err);
  } else {

  }
#line 99
  return ((int )major);
}
}
#line 103 "./fs/char_dev.c"
int unregister_chrdev(unsigned int major , char const   *name ) 
{ 

  {
#line 105
  return (0);
}
}
#line 108 "./fs/char_dev.c"
__inline struct cdev *cdev_alloc(void) 
{ int tmp ;
  unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;

  {
#line 110
  if (fixed_cdev_used < 10) {
#line 111
    tmp = fixed_cdev_used;
#line 111
    fixed_cdev_used = fixed_cdev_used + 1;
    {
#line 111
    __cil_tmp2 = tmp * 24UL;
#line 111
    __cil_tmp3 = (unsigned long )(fixed_cdev) + __cil_tmp2;
#line 111
    return ((struct cdev *)__cil_tmp3);
    }
  } else {

  }
#line 113
  return ((struct cdev *)0);
}
}
#line 125 "./fs/char_dev.c"
int cdev_add(struct cdev *p , dev_t dev , unsigned int count ) 
{ int return_value ;
  int tmp ;
  int tmp___0 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  int __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  int __cil_tmp25 ;
  int __cil_tmp26 ;

  {
  {
#line 127
  __cil_tmp7 = (unsigned long )p;
#line 127
  __cil_tmp8 = __cil_tmp7 + 16;
#line 127
  *((dev_t *)__cil_tmp8) = dev;
#line 128
  __cil_tmp9 = (unsigned long )p;
#line 128
  __cil_tmp10 = __cil_tmp9 + 20;
#line 128
  *((unsigned int *)__cil_tmp10) = count;
#line 130
  tmp = __VERIFIER_nondet_int();
#line 130
  return_value = tmp;
  }
#line 131
  if (return_value == 0) {
#line 131
    tmp___0 = 1;
  } else
#line 131
  if (return_value == -1) {
#line 131
    tmp___0 = 1;
  } else {
#line 131
    tmp___0 = 0;
  }
  {
#line 131
  __CPROVER_assume(tmp___0);
  }
#line 133
  if (return_value == 0) {
    {
#line 134
    __cil_tmp11 = (int )number_cdev_registered;
#line 134
    if (__cil_tmp11 < 10) {
#line 136
      __cil_tmp12 = number_cdev_registered * 96UL;
#line 136
      __cil_tmp13 = (unsigned long )(cdev_registered) + __cil_tmp12;
#line 136
      *((struct cdev **)__cil_tmp13) = p;
#line 137
      __cil_tmp14 = 64 + 4;
#line 137
      __cil_tmp15 = number_cdev_registered * 96UL;
#line 137
      __cil_tmp16 = __cil_tmp15 + __cil_tmp14;
#line 137
      __cil_tmp17 = (unsigned long )(cdev_registered) + __cil_tmp16;
#line 137
      *((dev_t *)__cil_tmp17) = dev;
#line 138
      __cil_tmp18 = 64 + 16;
#line 138
      __cil_tmp19 = number_cdev_registered * 96UL;
#line 138
      __cil_tmp20 = __cil_tmp19 + __cil_tmp18;
#line 138
      __cil_tmp21 = (unsigned long )(cdev_registered) + __cil_tmp20;
#line 138
      *((struct cdev **)__cil_tmp21) = p;
#line 139
      __cil_tmp22 = number_cdev_registered * 96UL;
#line 139
      __cil_tmp23 = __cil_tmp22 + 88;
#line 139
      __cil_tmp24 = (unsigned long )(cdev_registered) + __cil_tmp23;
#line 139
      *((int *)__cil_tmp24) = 0;
#line 141
      __cil_tmp25 = (int )number_cdev_registered;
#line 141
      __cil_tmp26 = __cil_tmp25 + 1;
#line 141
      number_cdev_registered = (short )__cil_tmp26;
    } else {
#line 143
      return (-1);
    }
    }
  } else {

  }
#line 147
  return (return_value);
}
}
#line 157 "./fs/char_dev.c"
void cdev_del(struct cdev *p ) 
{ int i ;
  int __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  struct cdev *__cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;

  {
#line 161
  i = 0;
  {
#line 161
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 161
    __cil_tmp3 = (int )number_cdev_registered;
#line 161
    if (i < __cil_tmp3) {

    } else {
#line 161
      goto while_break;
    }
    }
    {
#line 162
    __cil_tmp4 = (unsigned long )p;
#line 162
    __cil_tmp5 = i * 96UL;
#line 162
    __cil_tmp6 = (unsigned long )(cdev_registered) + __cil_tmp5;
#line 162
    __cil_tmp7 = *((struct cdev **)__cil_tmp6);
#line 162
    __cil_tmp8 = (unsigned long )__cil_tmp7;
#line 162
    if (__cil_tmp8 == __cil_tmp4) {
#line 163
      __cil_tmp9 = i * 96UL;
#line 163
      __cil_tmp10 = (unsigned long )(cdev_registered) + __cil_tmp9;
#line 163
      *((struct cdev **)__cil_tmp10) = (struct cdev *)0;
#line 165
      return;
    } else {

    }
    }
#line 161
    i = i + 1;
  }
  while_break: /* CIL Label */ ;
  }
#line 168
  return;
}
}
#line 178 "./fs/char_dev.c"
void cdev_init(struct cdev *cdev , struct file_operations  const  *fops ) 
{ unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;

  {
#line 180
  __cil_tmp3 = (unsigned long )cdev;
#line 180
  __cil_tmp4 = __cil_tmp3 + 8;
#line 180
  *((struct file_operations  const  **)__cil_tmp4) = fops;
#line 181
  return;
}
}
#line 1 "preproc_I2n2X3.o"
#pragma merger(0,"preproc_I2n2X3.i","-x,c")
#line 61 "./include/linux/mutex.h"
void mutex_init(struct mutex *lock ) ;
#line 26 "./kernel/mutex.c"
void mutex_init(struct mutex *lock ) 
{ int __cil_tmp2 ;
  int __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;

  {
  {
#line 30
  __CPROVER_atomic_begin();
#line 32
  __cil_tmp2 = *((int *)lock);
#line 32
  __cil_tmp3 = ! __cil_tmp2;
#line 32
  __CPROVER_assert(__cil_tmp3, "Locked mutex must not be reinitialized");
#line 34
  *((int *)lock) = 0;
#line 35
  __cil_tmp4 = (unsigned long )lock;
#line 35
  __cil_tmp5 = __cil_tmp4 + 4;
#line 35
  *((int *)__cil_tmp5) = 1;
#line 36
  __CPROVER_atomic_end();
  }
#line 37
  return;
}
}
#line 60 "./kernel/mutex.c"
void mutex_lock(struct mutex *lock ) 
{ unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;

  {
  {
#line 65
  __CPROVER_atomic_begin();
#line 66
  assert_context_process();
#line 67
  __cil_tmp2 = (unsigned long )lock;
#line 67
  __cil_tmp3 = __cil_tmp2 + 4;
#line 67
  __cil_tmp4 = *((int *)__cil_tmp3);
#line 67
  __CPROVER_assert(__cil_tmp4, "Mutex is not initialized");
#line 68
  __CPROVER_atomic_end();
  }
  {
#line 71
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 73
    __CPROVER_atomic_begin();
    }
    {
#line 74
    __cil_tmp5 = *((int *)lock);
#line 74
    if (__cil_tmp5 == 0) {
      {
#line 76
      *((int *)lock) = 1;
#line 77
      __CPROVER_atomic_end();
      }
#line 78
      return;
    } else {

    }
    }
    {
#line 80
    __CPROVER_atomic_end();
    }
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 96 "./kernel/mutex.c"
void mutex_unlock(struct mutex *lock ) 
{ int __cil_tmp2 ;

  {
  {
#line 99
  __CPROVER_atomic_begin();
#line 100
  assert_context_process();
#line 102
  __cil_tmp2 = *((int *)lock);
#line 102
  __CPROVER_assert(__cil_tmp2, "Unlock a not locked mutex");
#line 104
  *((int *)lock) = 0;
#line 105
  __CPROVER_atomic_end();
  }
#line 106
  return;
}
}
#line 1 "preproc_22FvsK.o"
#pragma merger(0,"preproc_22FvsK.i","-x,c")
#line 22 "cprover/ddverify/include/ddverify/satabs.h"
extern unsigned char __VERIFIER_nondet_uchar() ;
#line 23
extern unsigned int __VERIFIER_nondet_unsigned() ;
#line 10 "cprover/ddverify/include/ddverify/ioport.h"
int ddv_ioport_request_start  ;
#line 11 "cprover/ddverify/include/ddverify/ioport.h"
int ddv_ioport_request_len  ;
#line 15 "./kernel/resource.c"
struct resource *request_region(unsigned long start , unsigned long len , char const   *name ) 
{ struct resource *resource ;
  void *tmp ;
  size_t __cil_tmp6 ;

  {
  {
#line 18
  __cil_tmp6 = (size_t )32UL;
#line 18
  tmp = malloc(__cil_tmp6);
#line 18
  resource = (struct resource *)tmp;
#line 23
  ddv_ioport_request_start = (int )start;
#line 24
  ddv_ioport_request_len = (int )len;
  }
#line 26
  return (resource);
}
}
#line 29 "./kernel/resource.c"
void release_region(unsigned long start , unsigned long len ) 
{ unsigned int i ;

  {
#line 31
  i = 0U;
#line 37
  ddv_ioport_request_start = 0;
#line 38
  ddv_ioport_request_len = 0;
#line 39
  return;
}
}
#line 41 "./kernel/resource.c"
__inline unsigned char inb(unsigned int port ) 
{ int tmp ;
  unsigned char tmp___0 ;
  unsigned int __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned int __cil_tmp6 ;

  {
  {
#line 44
  __cil_tmp4 = (unsigned int )ddv_ioport_request_start;
#line 44
  if (port >= __cil_tmp4) {
    {
#line 44
    __cil_tmp5 = ddv_ioport_request_start + ddv_ioport_request_len;
#line 44
    __cil_tmp6 = (unsigned int )__cil_tmp5;
#line 44
    if (port < __cil_tmp6) {
#line 44
      tmp = 1;
    } else {
#line 44
      tmp = 0;
    }
    }
  } else {
#line 44
    tmp = 0;
  }
  }
  {
#line 44
  __CPROVER_assert(tmp, "I/O port is requested");
#line 46
  tmp___0 = __VERIFIER_nondet_uchar();
  }
#line 46
  return (tmp___0);
}
}
#line 49 "./kernel/resource.c"
__inline void outb(unsigned char byte , unsigned int port ) 
{ int tmp ;
  unsigned int __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned int __cil_tmp6 ;

  {
  {
#line 52
  __cil_tmp4 = (unsigned int )ddv_ioport_request_start;
#line 52
  if (port >= __cil_tmp4) {
    {
#line 52
    __cil_tmp5 = ddv_ioport_request_start + ddv_ioport_request_len;
#line 52
    __cil_tmp6 = (unsigned int )__cil_tmp5;
#line 52
    if (port < __cil_tmp6) {
#line 52
      tmp = 1;
    } else {
#line 52
      tmp = 0;
    }
    }
  } else {
#line 52
    tmp = 0;
  }
  }
  {
#line 52
  __CPROVER_assert(tmp, "I/O port is requested");
  }
#line 53
  return;
}
}
#line 55 "./kernel/resource.c"
__inline unsigned short inw(unsigned int port ) 
{ int tmp ;
  unsigned short tmp___0 ;
  unsigned int __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned int __cil_tmp6 ;

  {
  {
#line 58
  __cil_tmp4 = (unsigned int )ddv_ioport_request_start;
#line 58
  if (port >= __cil_tmp4) {
    {
#line 58
    __cil_tmp5 = ddv_ioport_request_start + ddv_ioport_request_len;
#line 58
    __cil_tmp6 = (unsigned int )__cil_tmp5;
#line 58
    if (port < __cil_tmp6) {
#line 58
      tmp = 1;
    } else {
#line 58
      tmp = 0;
    }
    }
  } else {
#line 58
    tmp = 0;
  }
  }
  {
#line 58
  __CPROVER_assert(tmp, "I/O port is requested");
#line 60
  tmp___0 = __VERIFIER_nondet_ushort();
  }
#line 60
  return (tmp___0);
}
}
#line 63 "./kernel/resource.c"
__inline void outw(unsigned short word , unsigned int port ) 
{ int tmp ;
  unsigned int __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned int __cil_tmp6 ;

  {
  {
#line 66
  __cil_tmp4 = (unsigned int )ddv_ioport_request_start;
#line 66
  if (port >= __cil_tmp4) {
    {
#line 66
    __cil_tmp5 = ddv_ioport_request_start + ddv_ioport_request_len;
#line 66
    __cil_tmp6 = (unsigned int )__cil_tmp5;
#line 66
    if (port < __cil_tmp6) {
#line 66
      tmp = 1;
    } else {
#line 66
      tmp = 0;
    }
    }
  } else {
#line 66
    tmp = 0;
  }
  }
  {
#line 66
  __CPROVER_assert(tmp, "I/O port is requested");
  }
#line 67
  return;
}
}
#line 69 "./kernel/resource.c"
__inline unsigned int inl(unsigned int port ) 
{ int tmp ;
  unsigned int tmp___0 ;
  unsigned int __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned int __cil_tmp6 ;

  {
  {
#line 72
  __cil_tmp4 = (unsigned int )ddv_ioport_request_start;
#line 72
  if (port >= __cil_tmp4) {
    {
#line 72
    __cil_tmp5 = ddv_ioport_request_start + ddv_ioport_request_len;
#line 72
    __cil_tmp6 = (unsigned int )__cil_tmp5;
#line 72
    if (port < __cil_tmp6) {
#line 72
      tmp = 1;
    } else {
#line 72
      tmp = 0;
    }
    }
  } else {
#line 72
    tmp = 0;
  }
  }
  {
#line 72
  __CPROVER_assert(tmp, "I/O port is requested");
#line 74
  tmp___0 = __VERIFIER_nondet_unsigned();
  }
#line 74
  return (tmp___0);
}
}
#line 77 "./kernel/resource.c"
__inline void outl(unsigned int doubleword , unsigned int port ) 
{ int tmp ;
  unsigned int __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned int __cil_tmp6 ;

  {
  {
#line 80
  __cil_tmp4 = (unsigned int )ddv_ioport_request_start;
#line 80
  if (port >= __cil_tmp4) {
    {
#line 80
    __cil_tmp5 = ddv_ioport_request_start + ddv_ioport_request_len;
#line 80
    __cil_tmp6 = (unsigned int )__cil_tmp5;
#line 80
    if (port < __cil_tmp6) {
#line 80
      tmp = 1;
    } else {
#line 80
      tmp = 0;
    }
    }
  } else {
#line 80
    tmp = 0;
  }
  }
  {
#line 80
  __CPROVER_assert(tmp, "I/O port is requested");
  }
#line 81
  return;
}
}
#line 1 "preproc_LUtlJm.o"
#pragma merger(0,"preproc_LUtlJm.i","-x,c")
#line 19 "cprover/ddverify/include/ddverify/satabs.h"
extern long __VERIFIER_nondet_long() ;
#line 46 "./include/linux/sched.h"
long schedule_timeout(long timeout ) ;
#line 31 "./kernel/sched.c"
void schedule(void) 
{ 

  {
  {
#line 33
  assert_context_process();
  }
#line 34
  return;
}
}
#line 36 "./kernel/sched.c"
long schedule_timeout(long timeout ) 
{ long tmp ;

  {
  {
#line 38
  assert_context_process();
#line 40
  tmp = __VERIFIER_nondet_long();
  }
#line 40
  return (tmp);
}
}
#line 1 "preproc_GcHG2w.o"
#pragma merger(0,"preproc_GcHG2w.i","-x,c")
#line 23 "./include/asm/semaphore.h"
__inline void sema_init(struct semaphore *sem , int val ) ;
#line 25
__inline void init_MUTEX(struct semaphore *sem ) ;
#line 27
__inline void init_MUTEX_LOCKED(struct semaphore *sem ) ;
#line 29
__inline void down(struct semaphore *sem ) ;
#line 31
__inline int down_interruptible(struct semaphore *sem ) ;
#line 33
__inline int down_trylock(struct semaphore *sem ) ;
#line 35
__inline void up(struct semaphore *sem ) ;
#line 6 "./arch/i386/kernel/semaphore.c"
__inline void sema_init(struct semaphore *sem , int val ) 
{ unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;

  {
  {
#line 9
  __CPROVER_atomic_begin();
#line 10
  *((int *)sem) = 1;
#line 11
  __cil_tmp3 = (unsigned long )sem;
#line 11
  __cil_tmp4 = __cil_tmp3 + 4;
#line 11
  *((int *)__cil_tmp4) = 0;
#line 12
  __CPROVER_atomic_end();
  }
#line 13
  return;
}
}
#line 15 "./arch/i386/kernel/semaphore.c"
__inline void init_MUTEX(struct semaphore *sem ) 
{ unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;

  {
  {
#line 18
  __CPROVER_atomic_begin();
#line 19
  *((int *)sem) = 1;
#line 20
  __cil_tmp2 = (unsigned long )sem;
#line 20
  __cil_tmp3 = __cil_tmp2 + 4;
#line 20
  *((int *)__cil_tmp3) = 0;
#line 21
  __CPROVER_atomic_end();
  }
#line 22
  return;
}
}
#line 24 "./arch/i386/kernel/semaphore.c"
__inline void init_MUTEX_LOCKED(struct semaphore *sem ) 
{ unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;

  {
  {
#line 27
  __CPROVER_atomic_begin();
#line 28
  *((int *)sem) = 1;
#line 29
  __cil_tmp2 = (unsigned long )sem;
#line 29
  __cil_tmp3 = __cil_tmp2 + 4;
#line 29
  *((int *)__cil_tmp3) = 1;
#line 30
  __CPROVER_atomic_end();
  }
#line 31
  return;
}
}
#line 33 "./arch/i386/kernel/semaphore.c"
__inline void down(struct semaphore *sem ) 
{ int __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;

  {
  {
#line 38
  __CPROVER_atomic_begin();
#line 39
  assert_context_process();
#line 40
  __cil_tmp2 = *((int *)sem);
#line 40
  __CPROVER_assert(__cil_tmp2, "Semaphore is not initialized");
#line 41
  __CPROVER_atomic_end();
  }
  {
#line 44
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 46
    __CPROVER_atomic_begin();
    }
    {
#line 47
    __cil_tmp3 = (unsigned long )sem;
#line 47
    __cil_tmp4 = __cil_tmp3 + 4;
#line 47
    __cil_tmp5 = *((int *)__cil_tmp4);
#line 47
    if (__cil_tmp5 == 0) {
      {
#line 49
      __cil_tmp6 = (unsigned long )sem;
#line 49
      __cil_tmp7 = __cil_tmp6 + 4;
#line 49
      *((int *)__cil_tmp7) = 1;
#line 50
      __CPROVER_atomic_end();
      }
#line 51
      return;
    } else {

    }
    }
    {
#line 53
    __CPROVER_atomic_end();
    }
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 58 "./arch/i386/kernel/semaphore.c"
__inline int down_interruptible(struct semaphore *sem ) 
{ int tmp ;
  int __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  int __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;

  {
  {
#line 63
  __CPROVER_atomic_begin();
#line 64
  assert_context_process();
#line 65
  __cil_tmp3 = *((int *)sem);
#line 65
  __CPROVER_assert(__cil_tmp3, "Semaphore is not initialized");
#line 66
  __CPROVER_atomic_end();
  }
  {
#line 69
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 71
    __CPROVER_atomic_begin();
    }
    {
#line 72
    __cil_tmp4 = (unsigned long )sem;
#line 72
    __cil_tmp5 = __cil_tmp4 + 4;
#line 72
    __cil_tmp6 = *((int *)__cil_tmp5);
#line 72
    if (__cil_tmp6 == 0) {
      {
#line 74
      __cil_tmp7 = (unsigned long )sem;
#line 74
      __cil_tmp8 = __cil_tmp7 + 4;
#line 74
      *((int *)__cil_tmp8) = 1;
#line 75
      __CPROVER_atomic_end();
      }
#line 76
      return (0);
    } else {

    }
    }
    {
#line 78
    tmp = __VERIFIER_nondet_int();
    }
#line 78
    if (tmp) {
      {
#line 79
      __CPROVER_atomic_end();
      }
#line 80
      return (-1);
    } else {

    }
    {
#line 83
    __CPROVER_atomic_end();
    }
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 88 "./arch/i386/kernel/semaphore.c"
__inline int down_trylock(struct semaphore *sem ) 
{ int __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;

  {
  {
#line 91
  __CPROVER_atomic_begin();
#line 94
  __cil_tmp2 = *((int *)sem);
#line 94
  __CPROVER_assert(__cil_tmp2, "Semaphore is not initialized");
  }
  {
#line 97
  __cil_tmp3 = (unsigned long )sem;
#line 97
  __cil_tmp4 = __cil_tmp3 + 4;
#line 97
  __cil_tmp5 = *((int *)__cil_tmp4);
#line 97
  if (__cil_tmp5 == 0) {
    {
#line 98
    __cil_tmp6 = (unsigned long )sem;
#line 98
    __cil_tmp7 = __cil_tmp6 + 4;
#line 98
    *((int *)__cil_tmp7) = 1;
#line 99
    __CPROVER_atomic_end();
    }
#line 100
    return (-1);
  } else {

  }
  }
  {
#line 102
  __CPROVER_atomic_end();
  }
#line 103
  return (0);
}
}
#line 106 "./arch/i386/kernel/semaphore.c"
__inline void up(struct semaphore *sem ) 
{ unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  int __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;

  {
  {
#line 109
  __CPROVER_atomic_begin();
#line 110
  assert_context_process();
#line 112
  __cil_tmp2 = (unsigned long )sem;
#line 112
  __cil_tmp3 = __cil_tmp2 + 4;
#line 112
  __cil_tmp4 = *((int *)__cil_tmp3);
#line 112
  __CPROVER_assert(__cil_tmp4, "Unlock a not locked semaphore");
#line 114
  __cil_tmp5 = (unsigned long )sem;
#line 114
  __cil_tmp6 = __cil_tmp5 + 4;
#line 114
  *((int *)__cil_tmp6) = 0;
#line 115
  __CPROVER_atomic_end();
  }
#line 116
  return;
}
}
#line 1 "preproc_bk0ydj.o"
#pragma merger(0,"preproc_bk0ydj.i","-x,c")
#line 50 "./include/linux/interrupt.h"
__inline void tasklet_schedule(struct tasklet_struct *t ) ;
#line 65
void tasklet_init(struct tasklet_struct *t , void (*func)(unsigned long  ) , unsigned long data ) ;
#line 12 "./kernel/softirq.c"
__inline void tasklet_schedule(struct tasklet_struct *t ) 
{ int i ;
  int next_free ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  int __cil_tmp6 ;
  void *__cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  struct tasklet_struct *__cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  struct tasklet_struct *__cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned short __cil_tmp21 ;
  int __cil_tmp22 ;
  int __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  unsigned long __cil_tmp28 ;

  {
  {
#line 15
  next_free = -1;
#line 18
  __cil_tmp4 = (unsigned long )t;
#line 18
  __cil_tmp5 = __cil_tmp4 + 24;
#line 18
  __cil_tmp6 = *((int *)__cil_tmp5);
#line 18
  __CPROVER_assert(__cil_tmp6, "Tasklet is uninitialized!");
#line 21
  i = 0;
  }
  {
#line 21
  while (1) {
    while_continue: /* CIL Label */ ;
#line 21
    if (i < 10) {

    } else {
#line 21
      goto while_break;
    }
    {
#line 22
    __cil_tmp7 = (void *)0;
#line 22
    __cil_tmp8 = (unsigned long )__cil_tmp7;
#line 22
    __cil_tmp9 = i * 16UL;
#line 22
    __cil_tmp10 = (unsigned long )(tasklet_registered) + __cil_tmp9;
#line 22
    __cil_tmp11 = *((struct tasklet_struct **)__cil_tmp10);
#line 22
    __cil_tmp12 = (unsigned long )__cil_tmp11;
#line 22
    if (__cil_tmp12 == __cil_tmp8) {
#line 23
      next_free = i;
    } else {

    }
    }
    {
#line 25
    __cil_tmp13 = (unsigned long )t;
#line 25
    __cil_tmp14 = i * 16UL;
#line 25
    __cil_tmp15 = (unsigned long )(tasklet_registered) + __cil_tmp14;
#line 25
    __cil_tmp16 = *((struct tasklet_struct **)__cil_tmp15);
#line 25
    __cil_tmp17 = (unsigned long )__cil_tmp16;
#line 25
    if (__cil_tmp17 == __cil_tmp13) {
      {
#line 25
      __cil_tmp18 = i * 16UL;
#line 25
      __cil_tmp19 = __cil_tmp18 + 8;
#line 25
      __cil_tmp20 = (unsigned long )(tasklet_registered) + __cil_tmp19;
#line 25
      __cil_tmp21 = *((unsigned short *)__cil_tmp20);
#line 25
      __cil_tmp22 = (int )__cil_tmp21;
#line 25
      if (__cil_tmp22 == 0) {
#line 27
        return;
      } else {

      }
      }
    } else {

    }
    }
#line 21
    i = i + 1;
  }
  while_break: /* CIL Label */ ;
  }
  {
#line 33
  __cil_tmp23 = next_free != -1;
#line 33
  __CPROVER_assert(__cil_tmp23, "Number of supported tasklets is insufficient");
#line 36
  __cil_tmp24 = next_free * 16UL;
#line 36
  __cil_tmp25 = (unsigned long )(tasklet_registered) + __cil_tmp24;
#line 36
  *((struct tasklet_struct **)__cil_tmp25) = t;
#line 37
  __cil_tmp26 = next_free * 16UL;
#line 37
  __cil_tmp27 = __cil_tmp26 + 8;
#line 37
  __cil_tmp28 = (unsigned long )(tasklet_registered) + __cil_tmp27;
#line 37
  *((unsigned short *)__cil_tmp28) = (unsigned short)0;
  }
#line 38
  return;
}
}
#line 42 "./kernel/softirq.c"
void tasklet_init(struct tasklet_struct *t , void (*func)(unsigned long  ) , unsigned long data ) 
{ unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;

  {
#line 45
  *((atomic_t *)t) = 0;
#line 46
  __cil_tmp4 = (unsigned long )t;
#line 46
  __cil_tmp5 = __cil_tmp4 + 24;
#line 46
  *((int *)__cil_tmp5) = 0;
#line 47
  __cil_tmp6 = (unsigned long )t;
#line 47
  __cil_tmp7 = __cil_tmp6 + 8;
#line 47
  *((void (**)(unsigned long  ))__cil_tmp7) = func;
#line 48
  __cil_tmp8 = (unsigned long )t;
#line 48
  __cil_tmp9 = __cil_tmp8 + 16;
#line 48
  *((unsigned long *)__cil_tmp9) = data;
#line 49
  return;
}
}
#line 1 "preproc_Ikmdmx.o"
#pragma merger(0,"preproc_Ikmdmx.i","-x,c")
#line 55 "./include/linux/spinlock.h"
__inline void spin_lock(spinlock_t *lock ) ;
#line 60
__inline void spin_unlock(spinlock_t *lock ) ;
#line 20 "./kernel/spinlock.c"
void spin_lock_init(spinlock_t *lock ) 
{ unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;

  {
#line 22
  *((int *)lock) = 1;
#line 23
  __cil_tmp2 = (unsigned long )lock;
#line 23
  __cil_tmp3 = __cil_tmp2 + 4;
#line 23
  *((int *)__cil_tmp3) = 0;
#line 24
  return;
}
}
#line 26 "./kernel/spinlock.c"
__inline void spin_lock(spinlock_t *lock ) 
{ int __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;

  {
  {
#line 31
  __CPROVER_atomic_begin();
#line 32
  __cil_tmp2 = *((int *)lock);
#line 32
  __CPROVER_assert(__cil_tmp2, "Spinlock is not initialized");
#line 33
  __CPROVER_atomic_end();
  }
  {
#line 36
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 38
    __CPROVER_atomic_begin();
    }
    {
#line 39
    __cil_tmp3 = (unsigned long )lock;
#line 39
    __cil_tmp4 = __cil_tmp3 + 4;
#line 39
    __cil_tmp5 = *((int *)__cil_tmp4);
#line 39
    if (__cil_tmp5 == 0) {
      {
#line 41
      __cil_tmp6 = (unsigned long )lock;
#line 41
      __cil_tmp7 = __cil_tmp6 + 4;
#line 41
      *((int *)__cil_tmp7) = 1;
#line 42
      __CPROVER_atomic_end();
      }
#line 43
      return;
    } else {

    }
    }
    {
#line 45
    __CPROVER_atomic_end();
    }
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 50 "./kernel/spinlock.c"
void spin_lock_irqsave(spinlock_t *lock , unsigned long flags ) 
{ int __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  int __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;

  {
  {
#line 55
  __CPROVER_atomic_begin();
#line 56
  __cil_tmp3 = *((int *)lock);
#line 56
  __CPROVER_assert(__cil_tmp3, "Spinlock is not initialized");
#line 57
  __CPROVER_atomic_end();
  }
  {
#line 60
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 62
    __CPROVER_atomic_begin();
    }
    {
#line 63
    __cil_tmp4 = (unsigned long )lock;
#line 63
    __cil_tmp5 = __cil_tmp4 + 4;
#line 63
    __cil_tmp6 = *((int *)__cil_tmp5);
#line 63
    if (__cil_tmp6 == 0) {
      {
#line 65
      __cil_tmp7 = (unsigned long )lock;
#line 65
      __cil_tmp8 = __cil_tmp7 + 4;
#line 65
      *((int *)__cil_tmp8) = 1;
#line 66
      __CPROVER_atomic_end();
      }
#line 67
      return;
    } else {

    }
    }
    {
#line 69
    __CPROVER_atomic_end();
    }
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 74 "./kernel/spinlock.c"
void spin_lock_irq(spinlock_t *lock ) 
{ int __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;

  {
  {
#line 79
  __CPROVER_atomic_begin();
#line 80
  __cil_tmp2 = *((int *)lock);
#line 80
  __CPROVER_assert(__cil_tmp2, "Spinlock is not initialized");
#line 81
  __CPROVER_atomic_end();
  }
  {
#line 84
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 86
    __CPROVER_atomic_begin();
    }
    {
#line 87
    __cil_tmp3 = (unsigned long )lock;
#line 87
    __cil_tmp4 = __cil_tmp3 + 4;
#line 87
    __cil_tmp5 = *((int *)__cil_tmp4);
#line 87
    if (__cil_tmp5 == 0) {
      {
#line 89
      __cil_tmp6 = (unsigned long )lock;
#line 89
      __cil_tmp7 = __cil_tmp6 + 4;
#line 89
      *((int *)__cil_tmp7) = 1;
#line 90
      __CPROVER_atomic_end();
      }
#line 91
      return;
    } else {

    }
    }
    {
#line 93
    __CPROVER_atomic_end();
    }
  }
  while_break: /* CIL Label */ ;
  }
}
}
#line 122 "./kernel/spinlock.c"
__inline void spin_unlock(spinlock_t *lock ) 
{ unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;

  {
  {
#line 125
  __CPROVER_atomic_begin();
#line 127
  __cil_tmp2 = (unsigned long )lock;
#line 127
  __cil_tmp3 = __cil_tmp2 + 4;
#line 127
  __cil_tmp4 = *((int *)__cil_tmp3);
#line 127
  __cil_tmp5 = __cil_tmp4 == 1;
#line 127
  __CPROVER_assert(__cil_tmp5, "Unlock a not locked spinlock");
#line 129
  __cil_tmp6 = (unsigned long )lock;
#line 129
  __cil_tmp7 = __cil_tmp6 + 4;
#line 129
  *((int *)__cil_tmp7) = 0;
#line 130
  __CPROVER_atomic_end();
  }
#line 131
  return;
}
}
#line 133 "./kernel/spinlock.c"
void spin_unlock_irqrestore(spinlock_t *lock , unsigned long flags ) 
{ unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  int __cil_tmp5 ;
  int __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;

  {
  {
#line 136
  __CPROVER_atomic_begin();
#line 138
  __cil_tmp3 = (unsigned long )lock;
#line 138
  __cil_tmp4 = __cil_tmp3 + 4;
#line 138
  __cil_tmp5 = *((int *)__cil_tmp4);
#line 138
  __cil_tmp6 = __cil_tmp5 == 1;
#line 138
  __CPROVER_assert(__cil_tmp6, "Unlock a not locked spinlock");
#line 140
  __cil_tmp7 = (unsigned long )lock;
#line 140
  __cil_tmp8 = __cil_tmp7 + 4;
#line 140
  *((int *)__cil_tmp8) = 0;
#line 141
  __CPROVER_atomic_end();
  }
#line 142
  return;
}
}
#line 144 "./kernel/spinlock.c"
void spin_unlock_irq(spinlock_t *lock ) 
{ unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  int __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;

  {
  {
#line 147
  __CPROVER_atomic_begin();
#line 149
  __cil_tmp2 = (unsigned long )lock;
#line 149
  __cil_tmp3 = __cil_tmp2 + 4;
#line 149
  __cil_tmp4 = *((int *)__cil_tmp3);
#line 149
  __cil_tmp5 = __cil_tmp4 == 1;
#line 149
  __CPROVER_assert(__cil_tmp5, "Unlock a not locked spinlock");
#line 151
  __cil_tmp6 = (unsigned long )lock;
#line 151
  __cil_tmp7 = __cil_tmp6 + 4;
#line 151
  *((int *)__cil_tmp7) = 0;
#line 152
  __CPROVER_atomic_end();
  }
#line 153
  return;
}
}
#line 1 "preproc_k6YB8m.o"
#pragma merger(0,"preproc_k6YB8m.i","-x,c")
#line 28 "./include/linux/timer.h"
void add_timer_on(struct timer_list *timer , int cpu ) ;
#line 30
int mod_timer(struct timer_list *timer , unsigned long expires ) ;
#line 32 "./kernel/timer.c"
void init_timer(struct timer_list *timer ) 
{ int __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;

  {
  {
#line 34
  __cil_tmp2 = (int )number_timer_registered;
#line 34
  if (__cil_tmp2 < 5) {
#line 35
    __cil_tmp3 = (unsigned long )timer;
#line 35
    __cil_tmp4 = __cil_tmp3 + 24;
#line 35
    *((short *)__cil_tmp4) = (short)0;
#line 36
    __cil_tmp5 = (unsigned long )timer;
#line 36
    __cil_tmp6 = __cil_tmp5 + 26;
#line 36
    *((short *)__cil_tmp6) = (short)1;
#line 37
    __cil_tmp7 = number_timer_registered * 8UL;
#line 37
    __cil_tmp8 = (unsigned long )(timer_registered) + __cil_tmp7;
#line 37
    *((struct timer_list **)__cil_tmp8) = timer;
#line 39
    __cil_tmp9 = (int )number_timer_registered;
#line 39
    __cil_tmp10 = __cil_tmp9 + 1;
#line 39
    number_timer_registered = (short )__cil_tmp10;
  } else {

  }
  }
#line 41
  return;
}
}
#line 43 "./kernel/timer.c"
void add_timer(struct timer_list *timer ) 
{ unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  short __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;

  {
  {
#line 47
  __cil_tmp2 = (unsigned long )timer;
#line 47
  __cil_tmp3 = __cil_tmp2 + 26;
#line 47
  __cil_tmp4 = *((short *)__cil_tmp3);
#line 47
  __cil_tmp5 = (int )__cil_tmp4;
#line 47
  __CPROVER_assert(__cil_tmp5, "Timer is initialized");
#line 49
  __cil_tmp6 = (unsigned long )timer;
#line 49
  __cil_tmp7 = __cil_tmp6 + 24;
#line 49
  *((short *)__cil_tmp7) = (short)1;
  }
#line 50
  return;
}
}
#line 59 "./kernel/timer.c"
void add_timer_on(struct timer_list *timer , int cpu ) 
{ 

  {
  {
#line 62
  add_timer(timer);
  }
#line 63
  return;
}
}
#line 86 "./kernel/timer.c"
int mod_timer(struct timer_list *timer , unsigned long expires ) 
{ unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  short __cil_tmp5 ;
  int __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;

  {
  {
#line 90
  __cil_tmp3 = (unsigned long )timer;
#line 90
  __cil_tmp4 = __cil_tmp3 + 26;
#line 90
  __cil_tmp5 = *((short *)__cil_tmp4);
#line 90
  __cil_tmp6 = (int )__cil_tmp5;
#line 90
  __CPROVER_assert(__cil_tmp6, "Timer is initialized");
#line 92
  *((unsigned long *)timer) = expires;
#line 93
  __cil_tmp7 = (unsigned long )timer;
#line 93
  __cil_tmp8 = __cil_tmp7 + 24;
#line 93
  *((short *)__cil_tmp8) = (short)1;
  }
#line 94
  return (0);
}
}
#line 107 "./kernel/timer.c"
int del_timer(struct timer_list *timer ) 
{ unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;

  {
#line 109
  __cil_tmp2 = (unsigned long )timer;
#line 109
  __cil_tmp3 = __cil_tmp2 + 24;
#line 109
  *((short *)__cil_tmp3) = (short)0;
#line 110
  return (0);
}
}
#line 1 "preproc_AwaMWo.o"
#pragma merger(0,"preproc_AwaMWo.i","-x,c")
#line 47 "./include/linux/wait.h"
void init_waitqueue_head(wait_queue_head_t *q ) ;
#line 57
__inline void wake_up_all(wait_queue_head_t *q ) ;
#line 8 "./kernel/wait.c"
void init_waitqueue_head(wait_queue_head_t *q ) 
{ unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;

  {
#line 10
  __cil_tmp2 = (unsigned long )q;
#line 10
  __cil_tmp3 = __cil_tmp2 + 8;
#line 10
  *((int *)__cil_tmp3) = 1;
#line 11
  return;
}
}
#line 13 "./kernel/wait.c"
void wake_up(wait_queue_head_t *q ) 
{ unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  int __cil_tmp4 ;

  {
  {
#line 17
  __cil_tmp2 = (unsigned long )q;
#line 17
  __cil_tmp3 = __cil_tmp2 + 8;
#line 17
  __cil_tmp4 = *((int *)__cil_tmp3);
#line 17
  __CPROVER_assert(__cil_tmp4, "Wait queue is initialized!");
  }
#line 19
  return;
}
}
#line 21 "./kernel/wait.c"
__inline void wake_up_all(wait_queue_head_t *q ) 
{ unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  int __cil_tmp4 ;

  {
  {
#line 25
  __cil_tmp2 = (unsigned long )q;
#line 25
  __cil_tmp3 = __cil_tmp2 + 8;
#line 25
  __cil_tmp4 = *((int *)__cil_tmp3);
#line 25
  __CPROVER_assert(__cil_tmp4, "Wait queue is initialized!");
  }
#line 27
  return;
}
}
#line 1 "preproc_3UK80h.o"
#pragma merger(0,"preproc_3UK80h.i","-x,c")
#line 23 "./kernel/workqueue.c"
int schedule_work(struct work_struct *work ) 
{ int i ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  int __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  struct work_struct *__cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  void *__cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  struct work_struct *__cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;

  {
  {
#line 29
  __cil_tmp3 = (unsigned long )work;
#line 29
  __cil_tmp4 = __cil_tmp3 + 24;
#line 29
  __cil_tmp5 = *((int *)__cil_tmp4);
#line 29
  __CPROVER_assert(__cil_tmp5, "Work queue is initalized");
#line 32
  i = 0;
  }
  {
#line 32
  while (1) {
    while_continue: /* CIL Label */ ;
#line 32
    if (i < 10) {

    } else {
#line 32
      goto while_break;
    }
    {
#line 33
    __cil_tmp6 = (unsigned long )work;
#line 33
    __cil_tmp7 = i * 8UL;
#line 33
    __cil_tmp8 = (unsigned long )(shared_workqueue) + __cil_tmp7;
#line 33
    __cil_tmp9 = *((struct work_struct **)__cil_tmp8);
#line 33
    __cil_tmp10 = (unsigned long )__cil_tmp9;
#line 33
    if (__cil_tmp10 == __cil_tmp6) {
#line 34
      return (0);
    } else {

    }
    }
    {
#line 37
    __cil_tmp11 = (void *)0;
#line 37
    __cil_tmp12 = (unsigned long )__cil_tmp11;
#line 37
    __cil_tmp13 = i * 8UL;
#line 37
    __cil_tmp14 = (unsigned long )(shared_workqueue) + __cil_tmp13;
#line 37
    __cil_tmp15 = *((struct work_struct **)__cil_tmp14);
#line 37
    __cil_tmp16 = (unsigned long )__cil_tmp15;
#line 37
    if (__cil_tmp16 == __cil_tmp12) {
#line 38
      __cil_tmp17 = i * 8UL;
#line 38
      __cil_tmp18 = (unsigned long )(shared_workqueue) + __cil_tmp17;
#line 38
      *((struct work_struct **)__cil_tmp18) = work;
#line 40
      return (1);
    } else {

    }
    }
#line 32
    i = i + 1;
  }
  while_break: /* CIL Label */ ;
  }
#line 45
  return (-1);
}
}
#line 48 "./kernel/workqueue.c"
void call_shared_workqueue_functions(void) 
{ unsigned short i ;
  unsigned short tmp ;
  int __cil_tmp3 ;
  int __cil_tmp4 ;
  void *__cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  struct work_struct *__cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  struct work_struct *__cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  void (*__cil_tmp16)(void * ) ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  struct work_struct *__cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  void *__cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  void *__cil_tmp25 ;

  {
  {
#line 50
  tmp = __VERIFIER_nondet_ushort();
#line 50
  i = tmp;
#line 51
  __cil_tmp3 = (int )i;
#line 51
  __cil_tmp4 = __cil_tmp3 < 10;
#line 51
  __CPROVER_assume(__cil_tmp4);
  }
  {
#line 53
  __cil_tmp5 = (void *)0;
#line 53
  __cil_tmp6 = (unsigned long )__cil_tmp5;
#line 53
  __cil_tmp7 = i * 8UL;
#line 53
  __cil_tmp8 = (unsigned long )(shared_workqueue) + __cil_tmp7;
#line 53
  __cil_tmp9 = *((struct work_struct **)__cil_tmp8);
#line 53
  __cil_tmp10 = (unsigned long )__cil_tmp9;
#line 53
  if (__cil_tmp10 != __cil_tmp6) {
    {
#line 54
    __cil_tmp11 = i * 8UL;
#line 54
    __cil_tmp12 = (unsigned long )(shared_workqueue) + __cil_tmp11;
#line 54
    __cil_tmp13 = *((struct work_struct **)__cil_tmp12);
#line 54
    __cil_tmp14 = (unsigned long )__cil_tmp13;
#line 54
    __cil_tmp15 = __cil_tmp14 + 8;
#line 54
    __cil_tmp16 = *((void (**)(void * ))__cil_tmp15);
#line 54
    __cil_tmp17 = i * 8UL;
#line 54
    __cil_tmp18 = (unsigned long )(shared_workqueue) + __cil_tmp17;
#line 54
    __cil_tmp19 = *((struct work_struct **)__cil_tmp18);
#line 54
    __cil_tmp20 = (unsigned long )__cil_tmp19;
#line 54
    __cil_tmp21 = __cil_tmp20 + 16;
#line 54
    __cil_tmp22 = *((void **)__cil_tmp21);
#line 54
    (*__cil_tmp16)(__cil_tmp22);
#line 55
    __cil_tmp23 = i * 8UL;
#line 55
    __cil_tmp24 = (unsigned long )(shared_workqueue) + __cil_tmp23;
#line 55
    __cil_tmp25 = (void *)0;
#line 55
    *((struct work_struct **)__cil_tmp24) = (struct work_struct *)__cil_tmp25;
    }
  } else {

  }
  }
#line 57
  return;
}
}
#line 1 "preproc_fhxMdT.o"
#pragma merger(0,"preproc_fhxMdT.i","-x,c")
#line 75 "./include/linux/interrupt.h"
int request_irq(unsigned int irq , irqreturn_t (*handler)(int  , void * , struct pt_regs * ) ,
                unsigned long irqflags , char const   *devname , void *dev_id ) ;
#line 78
void free_irq(unsigned int irq , void *dev_id ) ;
#line 27 "./kernel/irq/manage.c"
void free_irq(unsigned int irq , void *dev_id ) 
{ unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  void *__cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;

  {
#line 29
  __cil_tmp3 = irq * 16UL;
#line 29
  __cil_tmp4 = (unsigned long )(registered_irq) + __cil_tmp3;
#line 29
  __cil_tmp5 = (void *)0;
#line 29
  *((irqreturn_t (**)(int  , void * , struct pt_regs * ))__cil_tmp4) = (irqreturn_t (*)(int  ,
                                                                                        void * ,
                                                                                        struct pt_regs * ))__cil_tmp5;
#line 30
  __cil_tmp6 = irq * 16UL;
#line 30
  __cil_tmp7 = __cil_tmp6 + 8;
#line 30
  __cil_tmp8 = (unsigned long )(registered_irq) + __cil_tmp7;
#line 30
  *((void **)__cil_tmp8) = (void *)0;
#line 31
  return;
}
}
#line 62 "./kernel/irq/manage.c"
int request_irq(unsigned int irq , irqreturn_t (*handler)(int  , void * , struct pt_regs * ) ,
                unsigned long irqflags , char const   *devname , void *dev_id ) 
{ int tmp ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;

  {
  {
#line 65
  tmp = __VERIFIER_nondet_int();
  }
#line 65
  if (tmp) {
#line 66
    __cil_tmp7 = irq * 16UL;
#line 66
    __cil_tmp8 = (unsigned long )(registered_irq) + __cil_tmp7;
#line 66
    *((irqreturn_t (**)(int  , void * , struct pt_regs * ))__cil_tmp8) = handler;
#line 67
    __cil_tmp9 = irq * 16UL;
#line 67
    __cil_tmp10 = __cil_tmp9 + 8;
#line 67
    __cil_tmp11 = (unsigned long )(registered_irq) + __cil_tmp10;
#line 67
    *((void **)__cil_tmp11) = dev_id;
#line 69
    return (0);
  } else {
#line 71
    return (-1);
  }
}
}
#line 1 "preproc_8iFnsa.o"
#pragma merger(0,"preproc_8iFnsa.i","-x,c")
#line 55 "./include/linux/gfp.h"
unsigned long __get_free_pages(gfp_t gfp_mask , unsigned int order ) ;
#line 57
__inline unsigned long __get_free_page(gfp_t gfp_mask ) ;
#line 59
unsigned long get_zeroed_page(gfp_t gfp_mask ) ;
#line 70
struct page *alloc_pages(gfp_t gfp_mask , unsigned int order ) ;
#line 22 "./mm/page_alloc.c"
unsigned long get_zeroed_page(gfp_t gfp_mask ) 
{ 

  {
#line 25
  if (gfp_mask & 16U) {
    {
#line 26
    assert_context_process();
    }
  } else {

  }
#line 28
  return (0UL);
}
}
#line 42 "./mm/page_alloc.c"
struct page *alloc_pages(gfp_t gfp_mask , unsigned int order ) 
{ 

  {
#line 46
  if (gfp_mask & 16U) {
    {
#line 47
    assert_context_process();
    }
  } else {

  }
#line 49
  return ((struct page *)0);
}
}
#line 51 "./mm/page_alloc.c"
struct page *alloc_page(gfp_t gfp_mask ) 
{ 

  {
#line 54
  if (gfp_mask & 16U) {
    {
#line 55
    assert_context_process();
    }
  } else {

  }
#line 57
  return ((struct page *)0);
}
}
#line 62 "./mm/page_alloc.c"
unsigned long __get_free_pages(gfp_t gfp_mask , unsigned int order ) 
{ 

  {
#line 65
  if (gfp_mask & 16U) {
    {
#line 66
    assert_context_process();
    }
  } else {

  }
#line 68
  return (0UL);
}
}
#line 70 "./mm/page_alloc.c"
__inline unsigned long __get_free_page(gfp_t gfp_mask ) 
{ 

  {
#line 73
  if (gfp_mask & 16U) {
    {
#line 74
    assert_context_process();
    }
  } else {

  }
#line 76
  return (0UL);
}
}
#line 1 "preproc_ANGxno.o"
#pragma merger(0,"preproc_ANGxno.i","-x,c")
#line 29 "./include/linux/slab.h"
void *kzalloc(size_t size , gfp_t flags ) ;
#line 95 "./mm/slab.c"
void *kmalloc(size_t size , gfp_t flags ) 
{ void *tmp ;

  {
#line 97
  if (flags & 16U) {
    {
#line 98
    assert_context_process();
    }
  } else {

  }
  {
#line 101
  tmp = malloc(size);
  }
#line 101
  return (tmp);
}
}
#line 104 "./mm/slab.c"
void *kzalloc(size_t size , gfp_t flags ) 
{ void *tmp ;

  {
#line 106
  if (flags & 16U) {
    {
#line 107
    assert_context_process();
    }
  } else {

  }
  {
#line 110
  tmp = malloc(size);
  }
#line 110
  return (tmp);
}
}
#line 1 "preproc_JgPTfc.o"
#pragma merger(0,"preproc_JgPTfc.i","-x,c")
#line 9 "./include/linux/vmalloc.h"
void *vmalloc(unsigned long size ) ;
#line 24 "./mm/vmalloc.c"
void *vmalloc(unsigned long size ) 
{ void *tmp ;
  size_t __cil_tmp3 ;

  {
  {
#line 26
  __cil_tmp3 = (size_t )size;
#line 26
  tmp = malloc(__cil_tmp3);
  }
#line 26
  return (tmp);
}
}
#line 1 "preproc_xMfKkD.o"
#pragma merger(0,"preproc_xMfKkD.i","-x,c")
#line 26 "cprover/ddverify/include/ddverify/satabs.h"
extern sector_t __VERIFIER_nondet_sector_t() ;
#line 28
extern char *nondet_pchar() ;
#line 7 "cprover/ddverify/src/ddverify/genhd.c"
int create_request(int genhd_no ) 
{ unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;

  {
  {
#line 21
  __cil_tmp2 = 88 + 44;
#line 21
  __cil_tmp3 = genhd_no * 240UL;
#line 21
  __cil_tmp4 = __cil_tmp3 + __cil_tmp2;
#line 21
  __cil_tmp5 = (unsigned long )(genhd_registered) + __cil_tmp4;
#line 21
  *((enum rq_cmd_type_bits *)__cil_tmp5) = (enum rq_cmd_type_bits )1;
#line 22
  __cil_tmp6 = 88 + 88;
#line 22
  __cil_tmp7 = genhd_no * 240UL;
#line 22
  __cil_tmp8 = __cil_tmp7 + __cil_tmp6;
#line 22
  __cil_tmp9 = (unsigned long )(genhd_registered) + __cil_tmp8;
#line 22
  __cil_tmp10 = genhd_no * 240UL;
#line 22
  __cil_tmp11 = (unsigned long )(genhd_registered) + __cil_tmp10;
#line 22
  *((struct gendisk **)__cil_tmp9) = *((struct gendisk **)__cil_tmp11);
#line 23
  __cil_tmp12 = 88 + 48;
#line 23
  __cil_tmp13 = genhd_no * 240UL;
#line 23
  __cil_tmp14 = __cil_tmp13 + __cil_tmp12;
#line 23
  __cil_tmp15 = (unsigned long )(genhd_registered) + __cil_tmp14;
#line 23
  *((sector_t *)__cil_tmp15) = __VERIFIER_nondet_sector_t();
#line 24
  __cil_tmp16 = 88 + 64;
#line 24
  __cil_tmp17 = genhd_no * 240UL;
#line 24
  __cil_tmp18 = __cil_tmp17 + __cil_tmp16;
#line 24
  __cil_tmp19 = (unsigned long )(genhd_registered) + __cil_tmp18;
#line 24
  *((unsigned int *)__cil_tmp19) = __VERIFIER_nondet_uint();
#line 25
  __cil_tmp20 = 88 + 104;
#line 25
  __cil_tmp21 = genhd_no * 240UL;
#line 25
  __cil_tmp22 = __cil_tmp21 + __cil_tmp20;
#line 25
  __cil_tmp23 = (unsigned long )(genhd_registered) + __cil_tmp22;
#line 25
  *((char **)__cil_tmp23) = __VERIFIER_nondet_pchar();
#line 27
  __cil_tmp24 = genhd_no * 240UL;
#line 27
  __cil_tmp25 = __cil_tmp24 + 232;
#line 27
  __cil_tmp26 = (unsigned long )(genhd_registered) + __cil_tmp25;
#line 27
  *((int *)__cil_tmp26) = 1;
  }
#line 28
  return (0);
}
}
#line 30 "cprover/ddverify/src/ddverify/genhd.c"
void call_rq_function(int genhd_no ) 
{ void *__cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  struct gendisk *__cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  struct request_queue *__cil_tmp9 ;
  request_fn_proc *__cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  struct gendisk *__cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  struct request_queue *__cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  struct gendisk *__cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  struct request_queue *__cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  spinlock_t *__cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  struct gendisk *__cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  struct request_queue *__cil_tmp34 ;
  unsigned long __cil_tmp35 ;
  unsigned long __cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  unsigned long __cil_tmp38 ;
  struct gendisk *__cil_tmp39 ;
  unsigned long __cil_tmp40 ;
  unsigned long __cil_tmp41 ;
  struct request_queue *__cil_tmp42 ;
  request_fn_proc *__cil_tmp43 ;
  unsigned long __cil_tmp44 ;
  unsigned long __cil_tmp45 ;
  struct gendisk *__cil_tmp46 ;
  unsigned long __cil_tmp47 ;
  unsigned long __cil_tmp48 ;
  struct request_queue *__cil_tmp49 ;
  unsigned long __cil_tmp50 ;
  unsigned long __cil_tmp51 ;
  struct gendisk *__cil_tmp52 ;
  unsigned long __cil_tmp53 ;
  unsigned long __cil_tmp54 ;
  struct request_queue *__cil_tmp55 ;
  unsigned long __cil_tmp56 ;
  unsigned long __cil_tmp57 ;
  spinlock_t *__cil_tmp58 ;
  unsigned long __cil_tmp59 ;
  unsigned long __cil_tmp60 ;
  struct gendisk *__cil_tmp61 ;
  unsigned long __cil_tmp62 ;
  unsigned long __cil_tmp63 ;
  struct request_queue *__cil_tmp64 ;
  unsigned long __cil_tmp65 ;
  unsigned long __cil_tmp66 ;

  {
  {
#line 32
  __cil_tmp2 = (void *)0;
#line 32
  __cil_tmp3 = (unsigned long )__cil_tmp2;
#line 32
  __cil_tmp4 = genhd_no * 240UL;
#line 32
  __cil_tmp5 = (unsigned long )(genhd_registered) + __cil_tmp4;
#line 32
  __cil_tmp6 = *((struct gendisk **)__cil_tmp5);
#line 32
  __cil_tmp7 = (unsigned long )__cil_tmp6;
#line 32
  __cil_tmp8 = __cil_tmp7 + 56;
#line 32
  __cil_tmp9 = *((struct request_queue **)__cil_tmp8);
#line 32
  __cil_tmp10 = *((request_fn_proc **)__cil_tmp9);
#line 32
  __cil_tmp11 = (unsigned long )__cil_tmp10;
#line 32
  if (__cil_tmp11 != __cil_tmp3) {
    {
#line 32
    __cil_tmp12 = genhd_no * 240UL;
#line 32
    __cil_tmp13 = (unsigned long )(genhd_registered) + __cil_tmp12;
#line 32
    __cil_tmp14 = *((struct gendisk **)__cil_tmp13);
#line 32
    __cil_tmp15 = (unsigned long )__cil_tmp14;
#line 32
    __cil_tmp16 = __cil_tmp15 + 56;
#line 32
    __cil_tmp17 = *((struct request_queue **)__cil_tmp16);
#line 32
    __cil_tmp18 = (unsigned long )__cil_tmp17;
#line 32
    __cil_tmp19 = __cil_tmp18 + 80;
#line 32
    if (*((int *)__cil_tmp19)) {
      {
#line 35
      __cil_tmp20 = genhd_no * 240UL;
#line 35
      __cil_tmp21 = (unsigned long )(genhd_registered) + __cil_tmp20;
#line 35
      __cil_tmp22 = *((struct gendisk **)__cil_tmp21);
#line 35
      __cil_tmp23 = (unsigned long )__cil_tmp22;
#line 35
      __cil_tmp24 = __cil_tmp23 + 56;
#line 35
      __cil_tmp25 = *((struct request_queue **)__cil_tmp24);
#line 35
      __cil_tmp26 = (unsigned long )__cil_tmp25;
#line 35
      __cil_tmp27 = __cil_tmp26 + 64;
#line 35
      __cil_tmp28 = *((spinlock_t **)__cil_tmp27);
#line 35
      spin_lock(__cil_tmp28);
#line 37
      create_request(genhd_no);
#line 38
      __cil_tmp29 = genhd_no * 240UL;
#line 38
      __cil_tmp30 = (unsigned long )(genhd_registered) + __cil_tmp29;
#line 38
      __cil_tmp31 = *((struct gendisk **)__cil_tmp30);
#line 38
      __cil_tmp32 = (unsigned long )__cil_tmp31;
#line 38
      __cil_tmp33 = __cil_tmp32 + 56;
#line 38
      __cil_tmp34 = *((struct request_queue **)__cil_tmp33);
#line 38
      __cil_tmp35 = (unsigned long )__cil_tmp34;
#line 38
      __cil_tmp36 = __cil_tmp35 + 76;
#line 38
      *((int *)__cil_tmp36) = genhd_no;
#line 40
      __cil_tmp37 = genhd_no * 240UL;
#line 40
      __cil_tmp38 = (unsigned long )(genhd_registered) + __cil_tmp37;
#line 40
      __cil_tmp39 = *((struct gendisk **)__cil_tmp38);
#line 40
      __cil_tmp40 = (unsigned long )__cil_tmp39;
#line 40
      __cil_tmp41 = __cil_tmp40 + 56;
#line 40
      __cil_tmp42 = *((struct request_queue **)__cil_tmp41);
#line 40
      __cil_tmp43 = *((request_fn_proc **)__cil_tmp42);
#line 40
      __cil_tmp44 = genhd_no * 240UL;
#line 40
      __cil_tmp45 = (unsigned long )(genhd_registered) + __cil_tmp44;
#line 40
      __cil_tmp46 = *((struct gendisk **)__cil_tmp45);
#line 40
      __cil_tmp47 = (unsigned long )__cil_tmp46;
#line 40
      __cil_tmp48 = __cil_tmp47 + 56;
#line 40
      __cil_tmp49 = *((struct request_queue **)__cil_tmp48);
#line 40
      (*__cil_tmp43)(__cil_tmp49);
#line 43
      __cil_tmp50 = genhd_no * 240UL;
#line 43
      __cil_tmp51 = (unsigned long )(genhd_registered) + __cil_tmp50;
#line 43
      __cil_tmp52 = *((struct gendisk **)__cil_tmp51);
#line 43
      __cil_tmp53 = (unsigned long )__cil_tmp52;
#line 43
      __cil_tmp54 = __cil_tmp53 + 56;
#line 43
      __cil_tmp55 = *((struct request_queue **)__cil_tmp54);
#line 43
      __cil_tmp56 = (unsigned long )__cil_tmp55;
#line 43
      __cil_tmp57 = __cil_tmp56 + 64;
#line 43
      __cil_tmp58 = *((spinlock_t **)__cil_tmp57);
#line 43
      spin_unlock(__cil_tmp58);
      }
#line 45
      return;
    } else {

    }
    }
  } else {

  }
  }
  {
#line 48
  __cil_tmp59 = genhd_no * 240UL;
#line 48
  __cil_tmp60 = (unsigned long )(genhd_registered) + __cil_tmp59;
#line 48
  __cil_tmp61 = *((struct gendisk **)__cil_tmp60);
#line 48
  __cil_tmp62 = (unsigned long )__cil_tmp61;
#line 48
  __cil_tmp63 = __cil_tmp62 + 56;
#line 48
  __cil_tmp64 = *((struct request_queue **)__cil_tmp63);
#line 48
  __cil_tmp65 = (unsigned long )__cil_tmp64;
#line 48
  __cil_tmp66 = __cil_tmp65 + 8;
#line 48
  if (*((make_request_fn **)__cil_tmp66)) {
#line 49
    return;
  } else {

  }
  }
#line 51
  return;
}
}
#line 53 "cprover/ddverify/src/ddverify/genhd.c"
void call_genhd_functions(void) 
{ unsigned short genhd_no ;
  unsigned short function_no ;
  unsigned int uint_value ;
  unsigned long ulong_value ;
  void *tmp ;
  struct hd_geometry hdg ;
  struct block_device blk_dev ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  int __cil_tmp10 ;
  int __cil_tmp11 ;
  int __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  struct gendisk *__cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  struct block_device_operations *__cil_tmp18 ;
  size_t __cil_tmp19 ;
  unsigned long __cil_tmp20 ;
  unsigned long __cil_tmp21 ;
  unsigned long __cil_tmp22 ;
  unsigned long __cil_tmp23 ;
  unsigned long __cil_tmp24 ;
  unsigned long __cil_tmp25 ;
  unsigned long __cil_tmp26 ;
  unsigned long __cil_tmp27 ;
  struct block_device *__cil_tmp28 ;
  unsigned long __cil_tmp29 ;
  unsigned long __cil_tmp30 ;
  unsigned long __cil_tmp31 ;
  unsigned long __cil_tmp32 ;
  unsigned long __cil_tmp33 ;
  unsigned long __cil_tmp34 ;
  struct gendisk *__cil_tmp35 ;
  unsigned long __cil_tmp36 ;
  unsigned long __cil_tmp37 ;
  struct block_device_operations *__cil_tmp38 ;
  int (*__cil_tmp39)(struct inode * , struct file * ) ;
  unsigned long __cil_tmp40 ;
  unsigned long __cil_tmp41 ;
  unsigned long __cil_tmp42 ;
  struct inode *__cil_tmp43 ;
  unsigned long __cil_tmp44 ;
  unsigned long __cil_tmp45 ;
  unsigned long __cil_tmp46 ;
  struct file *__cil_tmp47 ;
  unsigned long __cil_tmp48 ;
  unsigned long __cil_tmp49 ;
  struct gendisk *__cil_tmp50 ;
  unsigned long __cil_tmp51 ;
  unsigned long __cil_tmp52 ;
  struct block_device_operations *__cil_tmp53 ;
  unsigned long __cil_tmp54 ;
  unsigned long __cil_tmp55 ;
  unsigned long __cil_tmp56 ;
  unsigned long __cil_tmp57 ;
  struct gendisk *__cil_tmp58 ;
  unsigned long __cil_tmp59 ;
  unsigned long __cil_tmp60 ;
  struct block_device_operations *__cil_tmp61 ;
  unsigned long __cil_tmp62 ;
  unsigned long __cil_tmp63 ;
  int (*__cil_tmp64)(struct inode * , struct file * ) ;
  unsigned long __cil_tmp65 ;
  unsigned long __cil_tmp66 ;
  unsigned long __cil_tmp67 ;
  struct inode *__cil_tmp68 ;
  unsigned long __cil_tmp69 ;
  unsigned long __cil_tmp70 ;
  unsigned long __cil_tmp71 ;
  struct file *__cil_tmp72 ;
  unsigned long __cil_tmp73 ;
  unsigned long __cil_tmp74 ;
  struct gendisk *__cil_tmp75 ;
  unsigned long __cil_tmp76 ;
  unsigned long __cil_tmp77 ;
  struct block_device_operations *__cil_tmp78 ;
  unsigned long __cil_tmp79 ;
  unsigned long __cil_tmp80 ;
  unsigned long __cil_tmp81 ;
  unsigned long __cil_tmp82 ;
  struct gendisk *__cil_tmp83 ;
  unsigned long __cil_tmp84 ;
  unsigned long __cil_tmp85 ;
  struct block_device_operations *__cil_tmp86 ;
  unsigned long __cil_tmp87 ;
  unsigned long __cil_tmp88 ;
  int (*__cil_tmp89)(struct inode * , struct file * , unsigned int  , unsigned long  ) ;
  unsigned long __cil_tmp90 ;
  unsigned long __cil_tmp91 ;
  unsigned long __cil_tmp92 ;
  struct inode *__cil_tmp93 ;
  unsigned long __cil_tmp94 ;
  unsigned long __cil_tmp95 ;
  unsigned long __cil_tmp96 ;
  struct file *__cil_tmp97 ;
  unsigned long __cil_tmp98 ;
  unsigned long __cil_tmp99 ;
  struct gendisk *__cil_tmp100 ;
  unsigned long __cil_tmp101 ;
  unsigned long __cil_tmp102 ;
  struct block_device_operations *__cil_tmp103 ;
  unsigned long __cil_tmp104 ;
  unsigned long __cil_tmp105 ;
  unsigned long __cil_tmp106 ;
  unsigned long __cil_tmp107 ;
  struct gendisk *__cil_tmp108 ;
  unsigned long __cil_tmp109 ;
  unsigned long __cil_tmp110 ;
  struct block_device_operations *__cil_tmp111 ;
  unsigned long __cil_tmp112 ;
  unsigned long __cil_tmp113 ;
  int (*__cil_tmp114)(struct gendisk * ) ;
  unsigned long __cil_tmp115 ;
  unsigned long __cil_tmp116 ;
  struct gendisk *__cil_tmp117 ;
  unsigned long __cil_tmp118 ;
  unsigned long __cil_tmp119 ;
  struct gendisk *__cil_tmp120 ;
  unsigned long __cil_tmp121 ;
  unsigned long __cil_tmp122 ;
  struct block_device_operations *__cil_tmp123 ;
  unsigned long __cil_tmp124 ;
  unsigned long __cil_tmp125 ;
  unsigned long __cil_tmp126 ;
  unsigned long __cil_tmp127 ;
  struct gendisk *__cil_tmp128 ;
  unsigned long __cil_tmp129 ;
  unsigned long __cil_tmp130 ;
  struct block_device_operations *__cil_tmp131 ;
  unsigned long __cil_tmp132 ;
  unsigned long __cil_tmp133 ;
  int (*__cil_tmp134)(struct gendisk * ) ;
  unsigned long __cil_tmp135 ;
  unsigned long __cil_tmp136 ;
  struct gendisk *__cil_tmp137 ;
  unsigned long __cil_tmp138 ;
  unsigned long __cil_tmp139 ;
  struct gendisk *__cil_tmp140 ;
  unsigned long __cil_tmp141 ;
  unsigned long __cil_tmp142 ;
  struct block_device_operations *__cil_tmp143 ;
  unsigned long __cil_tmp144 ;
  unsigned long __cil_tmp145 ;
  unsigned long __cil_tmp146 ;
  unsigned long __cil_tmp147 ;
  unsigned long __cil_tmp148 ;
  unsigned long __cil_tmp149 ;
  unsigned long __cil_tmp150 ;
  struct gendisk *__cil_tmp151 ;
  unsigned long __cil_tmp152 ;
  unsigned long __cil_tmp153 ;
  struct block_device_operations *__cil_tmp154 ;
  unsigned long __cil_tmp155 ;
  unsigned long __cil_tmp156 ;
  int (*__cil_tmp157)(struct block_device * , struct hd_geometry * ) ;

  {
  {
#line 60
  __cil_tmp8 = (int )number_genhd_registered;
#line 60
  if (__cil_tmp8 == 0) {
#line 61
    return;
  } else {

  }
  }
  {
#line 64
  genhd_no = __VERIFIER_nondet_ushort();
#line 65
  __cil_tmp9 = (int )number_genhd_registered;
#line 65
  __cil_tmp10 = (int )genhd_no;
#line 65
  __cil_tmp11 = __cil_tmp10 < __cil_tmp9;
#line 65
  __CPROVER_assume(__cil_tmp11);
#line 68
  function_no = __VERIFIER_nondet_ushort();
  }
  {
#line 71
  if ((int )function_no == 0) {
#line 71
    goto case_0;
  } else {

  }
#line 74
  if ((int )function_no == 1) {
#line 74
    goto case_1;
  } else {

  }
#line 84
  if ((int )function_no == 2) {
#line 84
    goto case_2;
  } else {

  }
#line 91
  if ((int )function_no == 3) {
#line 91
    goto case_3;
  } else {

  }
#line 102
  if ((int )function_no == 4) {
#line 102
    goto case_4;
  } else {

  }
#line 108
  if ((int )function_no == 5) {
#line 108
    goto case_5;
  } else {

  }
#line 114
  if ((int )function_no == 6) {
#line 114
    goto case_6;
  } else {

  }
#line 125
  goto switch_default;
  case_0: /* CIL Label */ 
  {
#line 72
  __cil_tmp12 = (int )genhd_no;
#line 72
  call_rq_function(__cil_tmp12);
  }
#line 73
  goto switch_break;
  case_1: /* CIL Label */ 
  {
#line 76
  __cil_tmp13 = genhd_no * 240UL;
#line 76
  __cil_tmp14 = (unsigned long )(genhd_registered) + __cil_tmp13;
#line 76
  __cil_tmp15 = *((struct gendisk **)__cil_tmp14);
#line 76
  __cil_tmp16 = (unsigned long )__cil_tmp15;
#line 76
  __cil_tmp17 = __cil_tmp16 + 48;
#line 76
  __cil_tmp18 = *((struct block_device_operations **)__cil_tmp17);
#line 76
  if (*((int (**)(struct inode * , struct file * ))__cil_tmp18)) {
    {
#line 77
    __cil_tmp19 = (size_t )32UL;
#line 77
    tmp = malloc(__cil_tmp19);
#line 77
    __cil_tmp20 = 8 + 16;
#line 77
    __cil_tmp21 = genhd_no * 240UL;
#line 77
    __cil_tmp22 = __cil_tmp21 + __cil_tmp20;
#line 77
    __cil_tmp23 = (unsigned long )(genhd_registered) + __cil_tmp22;
#line 77
    *((struct block_device **)__cil_tmp23) = (struct block_device *)tmp;
#line 78
    __cil_tmp24 = 8 + 16;
#line 78
    __cil_tmp25 = genhd_no * 240UL;
#line 78
    __cil_tmp26 = __cil_tmp25 + __cil_tmp24;
#line 78
    __cil_tmp27 = (unsigned long )(genhd_registered) + __cil_tmp26;
#line 78
    __cil_tmp28 = *((struct block_device **)__cil_tmp27);
#line 78
    __cil_tmp29 = (unsigned long )__cil_tmp28;
#line 78
    __cil_tmp30 = __cil_tmp29 + 24;
#line 78
    __cil_tmp31 = genhd_no * 240UL;
#line 78
    __cil_tmp32 = (unsigned long )(genhd_registered) + __cil_tmp31;
#line 78
    *((struct gendisk **)__cil_tmp30) = *((struct gendisk **)__cil_tmp32);
#line 80
    __cil_tmp33 = genhd_no * 240UL;
#line 80
    __cil_tmp34 = (unsigned long )(genhd_registered) + __cil_tmp33;
#line 80
    __cil_tmp35 = *((struct gendisk **)__cil_tmp34);
#line 80
    __cil_tmp36 = (unsigned long )__cil_tmp35;
#line 80
    __cil_tmp37 = __cil_tmp36 + 48;
#line 80
    __cil_tmp38 = *((struct block_device_operations **)__cil_tmp37);
#line 80
    __cil_tmp39 = *((int (**)(struct inode * , struct file * ))__cil_tmp38);
#line 80
    __cil_tmp40 = genhd_no * 240UL;
#line 80
    __cil_tmp41 = __cil_tmp40 + 8;
#line 80
    __cil_tmp42 = (unsigned long )(genhd_registered) + __cil_tmp41;
#line 80
    __cil_tmp43 = (struct inode *)__cil_tmp42;
#line 80
    __cil_tmp44 = genhd_no * 240UL;
#line 80
    __cil_tmp45 = __cil_tmp44 + 32;
#line 80
    __cil_tmp46 = (unsigned long )(genhd_registered) + __cil_tmp45;
#line 80
    __cil_tmp47 = (struct file *)__cil_tmp46;
#line 80
    (*__cil_tmp39)(__cil_tmp43, __cil_tmp47);
    }
  } else {

  }
  }
#line 83
  goto switch_break;
  case_2: /* CIL Label */ 
  {
#line 86
  __cil_tmp48 = genhd_no * 240UL;
#line 86
  __cil_tmp49 = (unsigned long )(genhd_registered) + __cil_tmp48;
#line 86
  __cil_tmp50 = *((struct gendisk **)__cil_tmp49);
#line 86
  __cil_tmp51 = (unsigned long )__cil_tmp50;
#line 86
  __cil_tmp52 = __cil_tmp51 + 48;
#line 86
  __cil_tmp53 = *((struct block_device_operations **)__cil_tmp52);
#line 86
  __cil_tmp54 = (unsigned long )__cil_tmp53;
#line 86
  __cil_tmp55 = __cil_tmp54 + 8;
#line 86
  if (*((int (**)(struct inode * , struct file * ))__cil_tmp55)) {
    {
#line 87
    __cil_tmp56 = genhd_no * 240UL;
#line 87
    __cil_tmp57 = (unsigned long )(genhd_registered) + __cil_tmp56;
#line 87
    __cil_tmp58 = *((struct gendisk **)__cil_tmp57);
#line 87
    __cil_tmp59 = (unsigned long )__cil_tmp58;
#line 87
    __cil_tmp60 = __cil_tmp59 + 48;
#line 87
    __cil_tmp61 = *((struct block_device_operations **)__cil_tmp60);
#line 87
    __cil_tmp62 = (unsigned long )__cil_tmp61;
#line 87
    __cil_tmp63 = __cil_tmp62 + 8;
#line 87
    __cil_tmp64 = *((int (**)(struct inode * , struct file * ))__cil_tmp63);
#line 87
    __cil_tmp65 = genhd_no * 240UL;
#line 87
    __cil_tmp66 = __cil_tmp65 + 8;
#line 87
    __cil_tmp67 = (unsigned long )(genhd_registered) + __cil_tmp66;
#line 87
    __cil_tmp68 = (struct inode *)__cil_tmp67;
#line 87
    __cil_tmp69 = genhd_no * 240UL;
#line 87
    __cil_tmp70 = __cil_tmp69 + 32;
#line 87
    __cil_tmp71 = (unsigned long )(genhd_registered) + __cil_tmp70;
#line 87
    __cil_tmp72 = (struct file *)__cil_tmp71;
#line 87
    (*__cil_tmp64)(__cil_tmp68, __cil_tmp72);
    }
  } else {

  }
  }
#line 90
  goto switch_break;
  case_3: /* CIL Label */ 
  {
#line 93
  __cil_tmp73 = genhd_no * 240UL;
#line 93
  __cil_tmp74 = (unsigned long )(genhd_registered) + __cil_tmp73;
#line 93
  __cil_tmp75 = *((struct gendisk **)__cil_tmp74);
#line 93
  __cil_tmp76 = (unsigned long )__cil_tmp75;
#line 93
  __cil_tmp77 = __cil_tmp76 + 48;
#line 93
  __cil_tmp78 = *((struct block_device_operations **)__cil_tmp77);
#line 93
  __cil_tmp79 = (unsigned long )__cil_tmp78;
#line 93
  __cil_tmp80 = __cil_tmp79 + 16;
#line 93
  if (*((int (**)(struct inode * , struct file * , unsigned int  , unsigned long  ))__cil_tmp80)) {
    {
#line 94
    uint_value = __VERIFIER_nondet_uint();
#line 95
    ulong_value = __VERIFIER_nondet_ulong();
#line 96
    __cil_tmp81 = genhd_no * 240UL;
#line 96
    __cil_tmp82 = (unsigned long )(genhd_registered) + __cil_tmp81;
#line 96
    __cil_tmp83 = *((struct gendisk **)__cil_tmp82);
#line 96
    __cil_tmp84 = (unsigned long )__cil_tmp83;
#line 96
    __cil_tmp85 = __cil_tmp84 + 48;
#line 96
    __cil_tmp86 = *((struct block_device_operations **)__cil_tmp85);
#line 96
    __cil_tmp87 = (unsigned long )__cil_tmp86;
#line 96
    __cil_tmp88 = __cil_tmp87 + 16;
#line 96
    __cil_tmp89 = *((int (**)(struct inode * , struct file * , unsigned int  , unsigned long  ))__cil_tmp88);
#line 96
    __cil_tmp90 = genhd_no * 240UL;
#line 96
    __cil_tmp91 = __cil_tmp90 + 8;
#line 96
    __cil_tmp92 = (unsigned long )(genhd_registered) + __cil_tmp91;
#line 96
    __cil_tmp93 = (struct inode *)__cil_tmp92;
#line 96
    __cil_tmp94 = genhd_no * 240UL;
#line 96
    __cil_tmp95 = __cil_tmp94 + 32;
#line 96
    __cil_tmp96 = (unsigned long )(genhd_registered) + __cil_tmp95;
#line 96
    __cil_tmp97 = (struct file *)__cil_tmp96;
#line 96
    (*__cil_tmp89)(__cil_tmp93, __cil_tmp97, uint_value, ulong_value);
    }
  } else {

  }
  }
#line 101
  goto switch_break;
  case_4: /* CIL Label */ 
  {
#line 104
  __cil_tmp98 = genhd_no * 240UL;
#line 104
  __cil_tmp99 = (unsigned long )(genhd_registered) + __cil_tmp98;
#line 104
  __cil_tmp100 = *((struct gendisk **)__cil_tmp99);
#line 104
  __cil_tmp101 = (unsigned long )__cil_tmp100;
#line 104
  __cil_tmp102 = __cil_tmp101 + 48;
#line 104
  __cil_tmp103 = *((struct block_device_operations **)__cil_tmp102);
#line 104
  __cil_tmp104 = (unsigned long )__cil_tmp103;
#line 104
  __cil_tmp105 = __cil_tmp104 + 48;
#line 104
  if (*((int (**)(struct gendisk * ))__cil_tmp105)) {
    {
#line 105
    __cil_tmp106 = genhd_no * 240UL;
#line 105
    __cil_tmp107 = (unsigned long )(genhd_registered) + __cil_tmp106;
#line 105
    __cil_tmp108 = *((struct gendisk **)__cil_tmp107);
#line 105
    __cil_tmp109 = (unsigned long )__cil_tmp108;
#line 105
    __cil_tmp110 = __cil_tmp109 + 48;
#line 105
    __cil_tmp111 = *((struct block_device_operations **)__cil_tmp110);
#line 105
    __cil_tmp112 = (unsigned long )__cil_tmp111;
#line 105
    __cil_tmp113 = __cil_tmp112 + 48;
#line 105
    __cil_tmp114 = *((int (**)(struct gendisk * ))__cil_tmp113);
#line 105
    __cil_tmp115 = genhd_no * 240UL;
#line 105
    __cil_tmp116 = (unsigned long )(genhd_registered) + __cil_tmp115;
#line 105
    __cil_tmp117 = *((struct gendisk **)__cil_tmp116);
#line 105
    (*__cil_tmp114)(__cil_tmp117);
    }
  } else {

  }
  }
#line 107
  goto switch_break;
  case_5: /* CIL Label */ 
  {
#line 110
  __cil_tmp118 = genhd_no * 240UL;
#line 110
  __cil_tmp119 = (unsigned long )(genhd_registered) + __cil_tmp118;
#line 110
  __cil_tmp120 = *((struct gendisk **)__cil_tmp119);
#line 110
  __cil_tmp121 = (unsigned long )__cil_tmp120;
#line 110
  __cil_tmp122 = __cil_tmp121 + 48;
#line 110
  __cil_tmp123 = *((struct block_device_operations **)__cil_tmp122);
#line 110
  __cil_tmp124 = (unsigned long )__cil_tmp123;
#line 110
  __cil_tmp125 = __cil_tmp124 + 56;
#line 110
  if (*((int (**)(struct gendisk * ))__cil_tmp125)) {
    {
#line 111
    __cil_tmp126 = genhd_no * 240UL;
#line 111
    __cil_tmp127 = (unsigned long )(genhd_registered) + __cil_tmp126;
#line 111
    __cil_tmp128 = *((struct gendisk **)__cil_tmp127);
#line 111
    __cil_tmp129 = (unsigned long )__cil_tmp128;
#line 111
    __cil_tmp130 = __cil_tmp129 + 48;
#line 111
    __cil_tmp131 = *((struct block_device_operations **)__cil_tmp130);
#line 111
    __cil_tmp132 = (unsigned long )__cil_tmp131;
#line 111
    __cil_tmp133 = __cil_tmp132 + 56;
#line 111
    __cil_tmp134 = *((int (**)(struct gendisk * ))__cil_tmp133);
#line 111
    __cil_tmp135 = genhd_no * 240UL;
#line 111
    __cil_tmp136 = (unsigned long )(genhd_registered) + __cil_tmp135;
#line 111
    __cil_tmp137 = *((struct gendisk **)__cil_tmp136);
#line 111
    (*__cil_tmp134)(__cil_tmp137);
    }
  } else {

  }
  }
#line 113
  goto switch_break;
  case_6: /* CIL Label */ 
  {
#line 116
  __cil_tmp138 = genhd_no * 240UL;
#line 116
  __cil_tmp139 = (unsigned long )(genhd_registered) + __cil_tmp138;
#line 116
  __cil_tmp140 = *((struct gendisk **)__cil_tmp139);
#line 116
  __cil_tmp141 = (unsigned long )__cil_tmp140;
#line 116
  __cil_tmp142 = __cil_tmp141 + 48;
#line 116
  __cil_tmp143 = *((struct block_device_operations **)__cil_tmp142);
#line 116
  __cil_tmp144 = (unsigned long )__cil_tmp143;
#line 116
  __cil_tmp145 = __cil_tmp144 + 64;
#line 116
  if (*((int (**)(struct block_device * , struct hd_geometry * ))__cil_tmp145)) {
    {
#line 120
    __cil_tmp146 = (unsigned long )(& blk_dev) + 24;
#line 120
    __cil_tmp147 = genhd_no * 240UL;
#line 120
    __cil_tmp148 = (unsigned long )(genhd_registered) + __cil_tmp147;
#line 120
    *((struct gendisk **)__cil_tmp146) = *((struct gendisk **)__cil_tmp148);
#line 122
    __cil_tmp149 = genhd_no * 240UL;
#line 122
    __cil_tmp150 = (unsigned long )(genhd_registered) + __cil_tmp149;
#line 122
    __cil_tmp151 = *((struct gendisk **)__cil_tmp150);
#line 122
    __cil_tmp152 = (unsigned long )__cil_tmp151;
#line 122
    __cil_tmp153 = __cil_tmp152 + 48;
#line 122
    __cil_tmp154 = *((struct block_device_operations **)__cil_tmp153);
#line 122
    __cil_tmp155 = (unsigned long )__cil_tmp154;
#line 122
    __cil_tmp156 = __cil_tmp155 + 64;
#line 122
    __cil_tmp157 = *((int (**)(struct block_device * , struct hd_geometry * ))__cil_tmp156);
#line 122
    (*__cil_tmp157)(& blk_dev, & hdg);
    }
  } else {

  }
  }
#line 124
  goto switch_break;
  switch_default: /* CIL Label */ 
#line 127
  goto switch_break;
  switch_break: /* CIL Label */ ;
  }
#line 129
  return;
}
}
#line 1 "preproc_hvPUFr.o"
#pragma merger(0,"preproc_hvPUFr.i","-x,c")
#line 6 "./block/genhd.c"
int register_blkdev(unsigned int major , char const   *name ) 
{ int result___0 ;
  int tmp ;

  {
  {
#line 8
  tmp = __VERIFIER_nondet_int();
#line 8
  result___0 = tmp;
  }
#line 14
  return (result___0);
}
}
#line 17 "./block/genhd.c"
int unregister_blkdev(unsigned int major , char const   *name ) 
{ 

  {
#line 19
  return (0);
}
}
#line 22 "./block/genhd.c"
struct gendisk *alloc_disk(int minors ) 
{ struct gendisk *gd ;
  int __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  int __cil_tmp8 ;
  int __cil_tmp9 ;
  void *__cil_tmp10 ;

  {
  {
#line 26
  __cil_tmp3 = (int )number_fixed_genhd_used;
#line 26
  if (__cil_tmp3 < 10) {
#line 27
    __cil_tmp4 = number_fixed_genhd_used * 240UL;
#line 27
    __cil_tmp5 = (unsigned long )(fixed_gendisk) + __cil_tmp4;
#line 27
    gd = (struct gendisk *)__cil_tmp5;
#line 28
    __cil_tmp6 = (unsigned long )gd;
#line 28
    __cil_tmp7 = __cil_tmp6 + 8;
#line 28
    *((int *)__cil_tmp7) = minors;
#line 30
    __cil_tmp8 = (int )number_fixed_genhd_used;
#line 30
    __cil_tmp9 = __cil_tmp8 + 1;
#line 30
    number_fixed_genhd_used = (short )__cil_tmp9;
#line 32
    return (gd);
  } else {
    {
#line 34
    __cil_tmp10 = (void *)0;
#line 34
    return ((struct gendisk *)__cil_tmp10);
    }
  }
  }
}
}
#line 38 "./block/genhd.c"
void add_disk(struct gendisk *disk ) 
{ void *tmp ;
  int __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  size_t __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  struct block_device *__cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  int __cil_tmp18 ;
  int __cil_tmp19 ;

  {
  {
#line 40
  __cil_tmp3 = (int )number_genhd_registered;
#line 40
  if (__cil_tmp3 < 10) {
    {
#line 41
    __cil_tmp4 = number_genhd_registered * 240UL;
#line 41
    __cil_tmp5 = (unsigned long )(genhd_registered) + __cil_tmp4;
#line 41
    *((struct gendisk **)__cil_tmp5) = disk;
#line 42
    __cil_tmp6 = (size_t )32UL;
#line 42
    tmp = malloc(__cil_tmp6);
#line 42
    __cil_tmp7 = 8 + 16;
#line 42
    __cil_tmp8 = number_genhd_registered * 240UL;
#line 42
    __cil_tmp9 = __cil_tmp8 + __cil_tmp7;
#line 42
    __cil_tmp10 = (unsigned long )(genhd_registered) + __cil_tmp9;
#line 42
    *((struct block_device **)__cil_tmp10) = (struct block_device *)tmp;
#line 43
    __cil_tmp11 = 8 + 16;
#line 43
    __cil_tmp12 = number_genhd_registered * 240UL;
#line 43
    __cil_tmp13 = __cil_tmp12 + __cil_tmp11;
#line 43
    __cil_tmp14 = (unsigned long )(genhd_registered) + __cil_tmp13;
#line 43
    __cil_tmp15 = *((struct block_device **)__cil_tmp14);
#line 43
    __cil_tmp16 = (unsigned long )__cil_tmp15;
#line 43
    __cil_tmp17 = __cil_tmp16 + 24;
#line 43
    *((struct gendisk **)__cil_tmp17) = disk;
#line 45
    __cil_tmp18 = (int )number_genhd_registered;
#line 45
    __cil_tmp19 = __cil_tmp18 + 1;
#line 45
    number_genhd_registered = (short )__cil_tmp19;
    }
  } else {

  }
  }
#line 47
  return;
}
}
#line 49 "./block/genhd.c"
void del_gendisk(struct gendisk *gp ) 
{ int i ;
  int __cil_tmp3 ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  struct gendisk *__cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  void *__cil_tmp11 ;

  {
#line 53
  i = 0;
  {
#line 53
  while (1) {
    while_continue: /* CIL Label */ ;
    {
#line 53
    __cil_tmp3 = (int )number_genhd_registered;
#line 53
    if (i < __cil_tmp3) {

    } else {
#line 53
      goto while_break;
    }
    }
    {
#line 54
    __cil_tmp4 = (unsigned long )gp;
#line 54
    __cil_tmp5 = i * 240UL;
#line 54
    __cil_tmp6 = (unsigned long )(genhd_registered) + __cil_tmp5;
#line 54
    __cil_tmp7 = *((struct gendisk **)__cil_tmp6);
#line 54
    __cil_tmp8 = (unsigned long )__cil_tmp7;
#line 54
    if (__cil_tmp8 == __cil_tmp4) {
#line 55
      __cil_tmp9 = i * 240UL;
#line 55
      __cil_tmp10 = (unsigned long )(genhd_registered) + __cil_tmp9;
#line 55
      __cil_tmp11 = (void *)0;
#line 55
      *((struct gendisk **)__cil_tmp10) = (struct gendisk *)__cil_tmp11;
    } else {

    }
    }
#line 53
    i = i + 1;
  }
  while_break: /* CIL Label */ ;
  }
#line 58
  return;
}
}
#line 1 "preproc_Mw9fky.o"
#pragma merger(0,"preproc_Mw9fky.i","-x,c")
#line 258 "./include/linux/blkdev.h"
void end_request(struct request *req , int uptodate ) ;
#line 279
void blk_queue_make_request(request_queue_t *q , make_request_fn *mfn ) ;
#line 290
void blk_queue_hardsect_size(request_queue_t *q , unsigned short size ) ;
#line 292
request_queue_t *blk_alloc_queue(gfp_t gfp_mask ) ;
#line 7 "cprover/ddverify/include/ddverify/blkdev.h"
request_queue_t fixed_request_queue[10]  ;
#line 9 "cprover/ddverify/include/ddverify/blkdev.h"
int number_request_queue_used  =    0;
#line 20 "./block/ll_rw_blk.c"
request_queue_t *get_fixed_request_queue(void) 
{ int tmp ;
  unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;
  void *__cil_tmp4 ;

  {
#line 22
  if (number_request_queue_used < 10) {
#line 23
    tmp = number_request_queue_used;
#line 23
    number_request_queue_used = number_request_queue_used + 1;
    {
#line 23
    __cil_tmp2 = tmp * 88UL;
#line 23
    __cil_tmp3 = (unsigned long )(fixed_request_queue) + __cil_tmp2;
#line 23
    return ((request_queue_t *)__cil_tmp3);
    }
  } else {
    {
#line 25
    __cil_tmp4 = (void *)0;
#line 25
    return ((request_queue_t *)__cil_tmp4);
    }
  }
}
}
#line 29 "./block/ll_rw_blk.c"
request_queue_t *blk_init_queue(request_fn_proc *rfn , spinlock_t *lock ) 
{ request_queue_t *queue ;
  int tmp ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  void *__cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  void *__cil_tmp12 ;

  {
  {
#line 33
  tmp = __VERIFIER_nondet_int();
  }
#line 33
  if (tmp) {
    {
#line 34
    queue = get_fixed_request_queue();
#line 36
    __cil_tmp5 = (unsigned long )queue;
#line 36
    __cil_tmp6 = __cil_tmp5 + 64;
#line 36
    *((spinlock_t **)__cil_tmp6) = lock;
#line 37
    *((request_fn_proc **)queue) = rfn;
#line 38
    __cil_tmp7 = (unsigned long )queue;
#line 38
    __cil_tmp8 = __cil_tmp7 + 8;
#line 38
    __cil_tmp9 = (void *)0;
#line 38
    *((make_request_fn **)__cil_tmp8) = (make_request_fn *)__cil_tmp9;
#line 39
    __cil_tmp10 = (unsigned long )queue;
#line 39
    __cil_tmp11 = __cil_tmp10 + 80;
#line 39
    *((int *)__cil_tmp11) = 1;
    }
#line 41
    return (queue);
  } else {
    {
#line 43
    __cil_tmp12 = (void *)0;
#line 43
    return ((request_queue_t *)__cil_tmp12);
    }
  }
}
}
#line 47 "./block/ll_rw_blk.c"
request_queue_t *blk_alloc_queue(gfp_t gfp_mask ) 
{ request_queue_t *queue ;
  int tmp ;
  void *__cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  unsigned long __cil_tmp6 ;
  void *__cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  void *__cil_tmp10 ;

  {
  {
#line 51
  tmp = __VERIFIER_nondet_int();
  }
#line 51
  if (tmp) {
    {
#line 52
    queue = get_fixed_request_queue();
#line 54
    __cil_tmp4 = (void *)0;
#line 54
    *((request_fn_proc **)queue) = (request_fn_proc *)__cil_tmp4;
#line 55
    __cil_tmp5 = (unsigned long )queue;
#line 55
    __cil_tmp6 = __cil_tmp5 + 8;
#line 55
    __cil_tmp7 = (void *)0;
#line 55
    *((make_request_fn **)__cil_tmp6) = (make_request_fn *)__cil_tmp7;
#line 56
    __cil_tmp8 = (unsigned long )queue;
#line 56
    __cil_tmp9 = __cil_tmp8 + 80;
#line 56
    *((int *)__cil_tmp9) = 1;
    }
#line 58
    return (queue);
  } else {
    {
#line 60
    __cil_tmp10 = (void *)0;
#line 60
    return ((request_queue_t *)__cil_tmp10);
    }
  }
}
}
#line 64 "./block/ll_rw_blk.c"
void blk_queue_make_request(request_queue_t *q , make_request_fn *mfn ) 
{ unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;

  {
#line 66
  __cil_tmp3 = (unsigned long )q;
#line 66
  __cil_tmp4 = __cil_tmp3 + 8;
#line 66
  *((make_request_fn **)__cil_tmp4) = mfn;
#line 67
  return;
}
}
#line 69 "./block/ll_rw_blk.c"
void end_request(struct request *req , int uptodate ) 
{ int genhd_no ;
  unsigned long __cil_tmp4 ;
  unsigned long __cil_tmp5 ;
  struct gendisk *__cil_tmp6 ;
  unsigned long __cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  struct request_queue *__cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;

  {
#line 71
  __cil_tmp4 = (unsigned long )req;
#line 71
  __cil_tmp5 = __cil_tmp4 + 88;
#line 71
  __cil_tmp6 = *((struct gendisk **)__cil_tmp5);
#line 71
  __cil_tmp7 = (unsigned long )__cil_tmp6;
#line 71
  __cil_tmp8 = __cil_tmp7 + 56;
#line 71
  __cil_tmp9 = *((struct request_queue **)__cil_tmp8);
#line 71
  __cil_tmp10 = (unsigned long )__cil_tmp9;
#line 71
  __cil_tmp11 = __cil_tmp10 + 76;
#line 71
  genhd_no = *((int *)__cil_tmp11);
#line 73
  __cil_tmp12 = genhd_no * 240UL;
#line 73
  __cil_tmp13 = __cil_tmp12 + 232;
#line 73
  __cil_tmp14 = (unsigned long )(genhd_registered) + __cil_tmp13;
#line 73
  *((int *)__cil_tmp14) = 0;
#line 74
  return;
}
}
#line 77 "./block/ll_rw_blk.c"
void blk_queue_hardsect_size(request_queue_t *q , unsigned short size ) 
{ unsigned long __cil_tmp3 ;
  unsigned long __cil_tmp4 ;

  {
#line 79
  __cil_tmp3 = (unsigned long )q;
#line 79
  __cil_tmp4 = __cil_tmp3 + 72;
#line 79
  *((unsigned short *)__cil_tmp4) = size;
#line 80
  return;
}
}
#line 82 "./block/ll_rw_blk.c"
void blk_cleanup_queue(request_queue_t *q ) 
{ unsigned long __cil_tmp2 ;
  unsigned long __cil_tmp3 ;

  {
#line 84
  __cil_tmp2 = (unsigned long )q;
#line 84
  __cil_tmp3 = __cil_tmp2 + 80;
#line 84
  *((int *)__cil_tmp3) = 0;
#line 85
  return;
}
}
