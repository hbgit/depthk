/* Generated by CIL v. 1.3.7 */
/* print_CIL_Input is true */

#line 211 "/usr/lib/gcc/x86_64-linux-gnu/4.4.3/include/stddef.h"
typedef unsigned long size_t;
#line 339 "/usr/include/stdio.h"
extern int printf(char const   * __restrict  __format  , ...) ;
#line 130 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) char *strncpy(char * __restrict  __dest , char const   * __restrict  __src ,
                                                   size_t __n )  __attribute__((__nonnull__(1,2))) ;
#line 80 "call-realpath-ok.c"
char chroot_path[46]  ;
#line 97
extern int ( /* missing proto */  my_realpath)() ;
#line 89 "call-realpath-ok.c"
void call_realpath(char *name ) 
{ unsigned int uid ;
  unsigned int gid ;
  char path[47] ;
  int tmp ;
  char const   * __restrict  __cil_tmp6 ;
  char *__cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  char *__cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  unsigned long __cil_tmp12 ;
  char *__cil_tmp13 ;
  void *__cil_tmp14 ;
  unsigned long __cil_tmp15 ;
  unsigned long __cil_tmp16 ;
  char const   * __restrict  __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  unsigned long __cil_tmp19 ;
  char *__cil_tmp20 ;
  char const   * __restrict  __cil_tmp21 ;

  {
  {
#line 91
  uid = 10U;
#line 92
  gid = 100U;
#line 95
  __cil_tmp6 = (char const   * __restrict  )"Before my-realpath(): uid = %d, gid = %d\n";
#line 95
  printf(__cil_tmp6, uid, gid);
#line 97
  __cil_tmp7 = name + 0;
#line 97
  __cil_tmp8 = 0 * 1UL;
#line 97
  __cil_tmp9 = (unsigned long )(path) + __cil_tmp8;
#line 97
  __cil_tmp10 = (char *)__cil_tmp9;
#line 97
  __cil_tmp11 = 0 * 1UL;
#line 97
  __cil_tmp12 = (unsigned long )(chroot_path) + __cil_tmp11;
#line 97
  __cil_tmp13 = (char *)__cil_tmp12;
#line 97
  tmp = my_realpath(__cil_tmp7, __cil_tmp10, __cil_tmp13);
  }
  {
#line 97
  __cil_tmp14 = (void *)0;
#line 97
  __cil_tmp15 = (unsigned long )__cil_tmp14;
#line 97
  __cil_tmp16 = (unsigned long )tmp;
#line 97
  if (__cil_tmp16 != __cil_tmp15) {
    {
#line 98
    __cil_tmp17 = (char const   * __restrict  )"Resolved path = %s\n";
#line 98
    __cil_tmp18 = 0 * 1UL;
#line 98
    __cil_tmp19 = (unsigned long )(path) + __cil_tmp18;
#line 98
    __cil_tmp20 = (char *)__cil_tmp19;
#line 98
    printf(__cil_tmp17, __cil_tmp20);
    }
  } else {

  }
  }
  {
#line 101
  __cil_tmp21 = (char const   * __restrict  )"After my-realpath(): uid = %d, gid = %d\n";
#line 101
  printf(__cil_tmp21, uid, gid);
  }
#line 102
  return;
}
}
#line 104 "call-realpath-ok.c"
int main(int argc , char **argv ) 
{ char *name ;
  char *root_path ;
  char const   * __restrict  __cil_tmp5 ;
  char **__cil_tmp6 ;
  char **__cil_tmp7 ;
  char **__cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  char *__cil_tmp11 ;
  char * __restrict  __cil_tmp12 ;
  char const   * __restrict  __cil_tmp13 ;

  {
#line 108
  if (argc < 2) {
    {
#line 109
    __cil_tmp5 = (char const   * __restrict  )"usage:prog pathname chroot_path\n";
#line 109
    printf(__cil_tmp5);
    }
  } else
#line 110
  if (argc == 2) {
#line 111
    __cil_tmp6 = argv + 1;
#line 111
    name = *__cil_tmp6;
#line 112
    root_path = (char *)"/";
  } else {
#line 115
    __cil_tmp7 = argv + 1;
#line 115
    name = *__cil_tmp7;
#line 116
    __cil_tmp8 = argv + 2;
#line 116
    root_path = *__cil_tmp8;
  }
  {
#line 119
  __cil_tmp9 = 0 * 1UL;
#line 119
  __cil_tmp10 = (unsigned long )(chroot_path) + __cil_tmp9;
#line 119
  __cil_tmp11 = (char *)__cil_tmp10;
#line 119
  __cil_tmp12 = (char * __restrict  )__cil_tmp11;
#line 119
  __cil_tmp13 = (char const   * __restrict  )root_path;
#line 119
  strncpy(__cil_tmp12, __cil_tmp13, 46UL);
#line 120
  call_realpath(name);
  }
#line 122
  return (0);
}
}
