/* Generated by CIL v. 1.3.7 */
/* print_CIL_Input is true */

#line 211 "/usr/lib/gcc/x86_64-linux-gnu/4.4.3/include/stddef.h"
typedef unsigned long size_t;
#line 339 "/usr/include/stdio.h"
extern int printf(char const   * __restrict  __format  , ...) ;
#line 130 "/usr/include/string.h"
extern  __attribute__((__nothrow__)) char *strncpy(char * __restrict  __dest , char const   * __restrict  __src ,
                                                   size_t __n )  __attribute__((__nonnull__(1,2))) ;
#line 397
extern  __attribute__((__nothrow__)) size_t strlen(char const   *__s )  __attribute__((__pure__,
__nonnull__(1))) ;
#line 71 "/usr/include/assert.h"
extern  __attribute__((__nothrow__, __noreturn__)) void __assert_fail(char const   *__assertion ,
                                                                      char const   *__file ,
                                                                      unsigned int __line ,
                                                                      char const   *__function ) ;
#line 81 "call-realpath-bad.c"
char chroot_path[46]  ;
#line 99
extern int ( /* missing proto */  my_realpath)() ;
#line 90 "call-realpath-bad.c"
void call_realpath(char *name ) 
{ unsigned int uid ;
  unsigned int gid ;
  char path[47] ;
  size_t tmp ;
  char const   * __restrict  __cil_tmp6 ;
  char const   *__cil_tmp7 ;
  char const   * __restrict  __cil_tmp8 ;
  char *__cil_tmp9 ;
  unsigned long __cil_tmp10 ;
  unsigned long __cil_tmp11 ;
  char *__cil_tmp12 ;
  unsigned long __cil_tmp13 ;
  unsigned long __cil_tmp14 ;
  char *__cil_tmp15 ;
  char const   * __restrict  __cil_tmp16 ;
  unsigned long __cil_tmp17 ;
  unsigned long __cil_tmp18 ;
  char *__cil_tmp19 ;
  char const   * __restrict  __cil_tmp20 ;

  {
  {
#line 92
  uid = 10U;
#line 93
  gid = 100U;
#line 96
  __cil_tmp6 = (char const   * __restrict  )"Before my-realpath(): uid = %d, gid = %d\n";
#line 96
  printf(__cil_tmp6, uid, gid);
#line 98
  __cil_tmp7 = (char const   *)name;
#line 98
  tmp = strlen(__cil_tmp7);
#line 98
  __cil_tmp8 = (char const   * __restrict  )"strlen(name) =%d\n";
#line 98
  printf(__cil_tmp8, tmp);
#line 99
  __cil_tmp9 = name + 0;
#line 99
  __cil_tmp10 = 0 * 1UL;
#line 99
  __cil_tmp11 = (unsigned long )(path) + __cil_tmp10;
#line 99
  __cil_tmp12 = (char *)__cil_tmp11;
#line 99
  __cil_tmp13 = 0 * 1UL;
#line 99
  __cil_tmp14 = (unsigned long )(chroot_path) + __cil_tmp13;
#line 99
  __cil_tmp15 = (char *)__cil_tmp14;
#line 99
  my_realpath(__cil_tmp9, __cil_tmp12, __cil_tmp15);
#line 100
  __cil_tmp16 = (char const   * __restrict  )"Resolved path = %s\n";
#line 100
  __cil_tmp17 = 0 * 1UL;
#line 100
  __cil_tmp18 = (unsigned long )(path) + __cil_tmp17;
#line 100
  __cil_tmp19 = (char *)__cil_tmp18;
#line 100
  printf(__cil_tmp16, __cil_tmp19);
#line 101
  __cil_tmp20 = (char const   * __restrict  )"After my-realpath(): uid = %d, gid = %d\n";
#line 101
  printf(__cil_tmp20, uid, gid);
  }
#line 102
  return;
}
}
#line 104 "call-realpath-bad.c"
int main(int argc , char **argv ) 
{ char *name ;
  char *root_path ;
  char **__cil_tmp5 ;
  char **__cil_tmp6 ;
  char **__cil_tmp7 ;
  unsigned long __cil_tmp8 ;
  unsigned long __cil_tmp9 ;
  char *__cil_tmp10 ;
  char * __restrict  __cil_tmp11 ;
  char const   * __restrict  __cil_tmp12 ;

  {
#line 109
  if (argc == 2) {

  } else
#line 109
  if (argc == 3) {

  } else {
    {
#line 109
    __assert_fail("argc==2 || argc==3", "call-realpath-bad.c", 109U, "main");
    }
  }
#line 111
  if (argc == 2) {
#line 112
    __cil_tmp5 = argv + 1;
#line 112
    name = *__cil_tmp5;
#line 113
    root_path = (char *)"/";
  } else {
#line 116
    __cil_tmp6 = argv + 1;
#line 116
    name = *__cil_tmp6;
#line 117
    __cil_tmp7 = argv + 2;
#line 117
    root_path = *__cil_tmp7;
  }
  {
#line 120
  __cil_tmp8 = 0 * 1UL;
#line 120
  __cil_tmp9 = (unsigned long )(chroot_path) + __cil_tmp8;
#line 120
  __cil_tmp10 = (char *)__cil_tmp9;
#line 120
  __cil_tmp11 = (char * __restrict  )__cil_tmp10;
#line 120
  __cil_tmp12 = (char const   * __restrict  )root_path;
#line 120
  strncpy(__cil_tmp11, __cil_tmp12, 46UL);
#line 121
  call_realpath(name);
  }
#line 123
  return (0);
}
}
